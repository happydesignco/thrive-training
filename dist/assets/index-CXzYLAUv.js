(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function Jm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Su={exports:{}},is={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function qy(){if(nm)return is;nm=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:s,type:l,key:h,ref:c!==void 0?c:null,props:d}}return is.Fragment=a,is.jsx=r,is.jsxs=r,is}var am;function Hy(){return am||(am=1,Su.exports=qy()),Su.exports}var v=Hy(),wu={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function Gy(){if(im)return ue;im=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function A(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,L={};function H(S,M,K){this.props=S,this.context=M,this.refs=L,this.updater=K||k}H.prototype.isReactComponent={},H.prototype.setState=function(S,M){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,M,"setState")},H.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function $(){}$.prototype=H.prototype;function G(S,M,K){this.props=S,this.context=M,this.refs=L,this.updater=K||k}var J=G.prototype=new $;J.constructor=G,T(J,H.prototype),J.isPureReactComponent=!0;var ne=Array.isArray;function re(){}var I={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function Oe(S,M,K){var W=K.ref;return{$$typeof:s,type:S,key:M,ref:W!==void 0?W:null,props:K}}function lt(S,M){return Oe(S.type,M,S.props)}function le(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function he(S){var M={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(K){return M[K]})}var ee=/\/+/g;function Ce(S,M){return typeof S=="object"&&S!==null&&S.key!=null?he(""+S.key):M.toString(36)}function Pe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(re,re):(S.status="pending",S.then(function(M){S.status==="pending"&&(S.status="fulfilled",S.value=M)},function(M){S.status==="pending"&&(S.status="rejected",S.reason=M)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function B(S,M,K,W,oe){var fe=typeof S;(fe==="undefined"||fe==="boolean")&&(S=null);var xe=!1;if(S===null)xe=!0;else switch(fe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(S.$$typeof){case s:case a:xe=!0;break;case b:return xe=S._init,B(xe(S._payload),M,K,W,oe)}}if(xe)return oe=oe(S),xe=W===""?"."+Ce(S,0):W,ne(oe)?(K="",xe!=null&&(K=xe.replace(ee,"$&/")+"/"),B(oe,M,K,"",function(di){return di})):oe!=null&&(le(oe)&&(oe=lt(oe,K+(oe.key==null||S&&S.key===oe.key?"":(""+oe.key).replace(ee,"$&/")+"/")+xe)),M.push(oe)),1;xe=0;var ot=W===""?".":W+":";if(ne(S))for(var He=0;He<S.length;He++)W=S[He],fe=ot+Ce(W,He),xe+=B(W,M,K,fe,oe);else if(He=A(S),typeof He=="function")for(S=He.call(S),He=0;!(W=S.next()).done;)W=W.value,fe=ot+Ce(W,He++),xe+=B(W,M,K,fe,oe);else if(fe==="object"){if(typeof S.then=="function")return B(Pe(S),M,K,W,oe);throw M=String(S),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return xe}function D(S,M,K){if(S==null)return S;var W=[],oe=0;return B(S,W,"","",function(fe){return M.call(K,fe,oe++)}),W}function P(S){if(S._status===-1){var M=S._result;M=M(),M.then(function(K){(S._status===0||S._status===-1)&&(S._status=1,S._result=K)},function(K){(S._status===0||S._status===-1)&&(S._status=2,S._result=K)}),S._status===-1&&(S._status=0,S._result=M)}if(S._status===1)return S._result.default;throw S._result}var Y=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},F={map:D,forEach:function(S,M,K){D(S,function(){M.apply(this,arguments)},K)},count:function(S){var M=0;return D(S,function(){M++}),M},toArray:function(S){return D(S,function(M){return M})||[]},only:function(S){if(!le(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ue.Activity=x,ue.Children=F,ue.Component=H,ue.Fragment=r,ue.Profiler=c,ue.PureComponent=G,ue.StrictMode=l,ue.Suspense=g,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ue.__COMPILER_RUNTIME={__proto__:null,c:function(S){return I.H.useMemoCache(S)}},ue.cache=function(S){return function(){return S.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(S,M,K){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var W=T({},S.props),oe=S.key;if(M!=null)for(fe in M.key!==void 0&&(oe=""+M.key),M)!be.call(M,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&M.ref===void 0||(W[fe]=M[fe]);var fe=arguments.length-2;if(fe===1)W.children=K;else if(1<fe){for(var xe=Array(fe),ot=0;ot<fe;ot++)xe[ot]=arguments[ot+2];W.children=xe}return Oe(S.type,oe,W)},ue.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},ue.createElement=function(S,M,K){var W,oe={},fe=null;if(M!=null)for(W in M.key!==void 0&&(fe=""+M.key),M)be.call(M,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(oe[W]=M[W]);var xe=arguments.length-2;if(xe===1)oe.children=K;else if(1<xe){for(var ot=Array(xe),He=0;He<xe;He++)ot[He]=arguments[He+2];oe.children=ot}if(S&&S.defaultProps)for(W in xe=S.defaultProps,xe)oe[W]===void 0&&(oe[W]=xe[W]);return Oe(S,fe,oe)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(S){return{$$typeof:m,render:S}},ue.isValidElement=le,ue.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:P}},ue.memo=function(S,M){return{$$typeof:p,type:S,compare:M===void 0?null:M}},ue.startTransition=function(S){var M=I.T,K={};I.T=K;try{var W=S(),oe=I.S;oe!==null&&oe(K,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(re,Y)}catch(fe){Y(fe)}finally{M!==null&&K.types!==null&&(M.types=K.types),I.T=M}},ue.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ue.use=function(S){return I.H.use(S)},ue.useActionState=function(S,M,K){return I.H.useActionState(S,M,K)},ue.useCallback=function(S,M){return I.H.useCallback(S,M)},ue.useContext=function(S){return I.H.useContext(S)},ue.useDebugValue=function(){},ue.useDeferredValue=function(S,M){return I.H.useDeferredValue(S,M)},ue.useEffect=function(S,M){return I.H.useEffect(S,M)},ue.useEffectEvent=function(S){return I.H.useEffectEvent(S)},ue.useId=function(){return I.H.useId()},ue.useImperativeHandle=function(S,M,K){return I.H.useImperativeHandle(S,M,K)},ue.useInsertionEffect=function(S,M){return I.H.useInsertionEffect(S,M)},ue.useLayoutEffect=function(S,M){return I.H.useLayoutEffect(S,M)},ue.useMemo=function(S,M){return I.H.useMemo(S,M)},ue.useOptimistic=function(S,M){return I.H.useOptimistic(S,M)},ue.useReducer=function(S,M,K){return I.H.useReducer(S,M,K)},ue.useRef=function(S){return I.H.useRef(S)},ue.useState=function(S){return I.H.useState(S)},ue.useSyncExternalStore=function(S,M,K){return I.H.useSyncExternalStore(S,M,K)},ue.useTransition=function(){return I.H.useTransition()},ue.version="19.2.4",ue}var sm;function Ju(){return sm||(sm=1,wu.exports=Gy()),wu.exports}var V=Ju();const $y=Jm(V);var xu={exports:{}},ss={},Eu={exports:{}},Au={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function Py(){return rm||(rm=1,(function(s){function a(B,D){var P=B.length;B.push(D);e:for(;0<P;){var Y=P-1>>>1,F=B[Y];if(0<c(F,D))B[Y]=D,B[P]=F,P=Y;else break e}}function r(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var D=B[0],P=B.pop();if(P!==D){B[0]=P;e:for(var Y=0,F=B.length,S=F>>>1;Y<S;){var M=2*(Y+1)-1,K=B[M],W=M+1,oe=B[W];if(0>c(K,P))W<F&&0>c(oe,K)?(B[Y]=oe,B[W]=P,Y=W):(B[Y]=K,B[M]=P,Y=M);else if(W<F&&0>c(oe,P))B[Y]=oe,B[W]=P,Y=W;else break e}}return D}function c(B,D){var P=B.sortIndex-D.sortIndex;return P!==0?P:B.id-D.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],p=[],b=1,x=null,w=3,A=!1,k=!1,T=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function J(B){for(var D=r(p);D!==null;){if(D.callback===null)l(p);else if(D.startTime<=B)l(p),D.sortIndex=D.expirationTime,a(g,D);else break;D=r(p)}}function ne(B){if(T=!1,J(B),!k)if(r(g)!==null)k=!0,re||(re=!0,he());else{var D=r(p);D!==null&&Pe(ne,D.startTime-B)}}var re=!1,I=-1,be=5,Oe=-1;function lt(){return L?!0:!(s.unstable_now()-Oe<be)}function le(){if(L=!1,re){var B=s.unstable_now();Oe=B;var D=!0;try{e:{k=!1,T&&(T=!1,$(I),I=-1),A=!0;var P=w;try{t:{for(J(B),x=r(g);x!==null&&!(x.expirationTime>B&&lt());){var Y=x.callback;if(typeof Y=="function"){x.callback=null,w=x.priorityLevel;var F=Y(x.expirationTime<=B);if(B=s.unstable_now(),typeof F=="function"){x.callback=F,J(B),D=!0;break t}x===r(g)&&l(g),J(B)}else l(g);x=r(g)}if(x!==null)D=!0;else{var S=r(p);S!==null&&Pe(ne,S.startTime-B),D=!1}}break e}finally{x=null,w=P,A=!1}D=void 0}}finally{D?he():re=!1}}}var he;if(typeof G=="function")he=function(){G(le)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Ce=ee.port2;ee.port1.onmessage=le,he=function(){Ce.postMessage(null)}}else he=function(){H(le,0)};function Pe(B,D){I=H(function(){B(s.unstable_now())},D)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(B){switch(w){case 1:case 2:case 3:var D=3;break;default:D=w}var P=w;w=D;try{return B()}finally{w=P}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(B,D){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var P=w;w=B;try{return D()}finally{w=P}},s.unstable_scheduleCallback=function(B,D,P){var Y=s.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?Y+P:Y):P=Y,B){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=P+F,B={id:b++,callback:D,priorityLevel:B,startTime:P,expirationTime:F,sortIndex:-1},P>Y?(B.sortIndex=P,a(p,B),r(g)===null&&B===r(p)&&(T?($(I),I=-1):T=!0,Pe(ne,P-Y))):(B.sortIndex=F,a(g,B),k||A||(k=!0,re||(re=!0,he()))),B},s.unstable_shouldYield=lt,s.unstable_wrapCallback=function(B){var D=w;return function(){var P=w;w=D;try{return B.apply(this,arguments)}finally{w=P}}}})(Au)),Au}var lm;function Yy(){return lm||(lm=1,Eu.exports=Py()),Eu.exports}var Tu={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function Ky(){if(om)return rt;om=1;var s=Ju();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:p,implementation:b}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,rt.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(g,p,null,b)},rt.flushSync=function(g){var p=h.T,b=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=b,l.d.f()}},rt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},rt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},rt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,x=m(b,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:A}):b==="script"&&l.d.X(g,{crossOrigin:x,integrity:w,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},rt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,x=m(b,p.crossOrigin);l.d.L(g,b,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rt.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},rt.requestFormReset=function(g){l.d.r(g)},rt.unstable_batchedUpdates=function(g,p){return g(p)},rt.useFormState=function(g,p,b){return h.H.useFormState(g,p,b)},rt.useFormStatus=function(){return h.H.useHostTransitionStatus()},rt.version="19.2.4",rt}var um;function Vy(){if(um)return Tu.exports;um=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Tu.exports=Ky(),Tu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function Wy(){if(cm)return ss;cm=1;var s=Yy(),a=Ju(),r=Vy();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return g(o),e;if(u===i)return g(o),t;u=u.sibling}throw Error(l(188))}if(n.return!==i.return)n=o,i=u;else{for(var f=!1,y=o.child;y;){if(y===n){f=!0,n=o,i=u;break}if(y===i){f=!0,i=o,n=u;break}y=y.sibling}if(!f){for(y=u.child;y;){if(y===n){f=!0,n=u,i=o;break}if(y===i){f=!0,i=u,n=o;break}y=y.sibling}if(!f)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),G=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Oe=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Symbol.for("react.client.reference");function Ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case ne:return"Suspense";case re:return"SuspenseList";case Oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case G:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:Ce(e.type)||"Memo";case be:t=e._payload,e=e._init;try{return Ce(e(t))}catch{}}return null}var Pe=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},Y=[],F=-1;function S(e){return{current:e}}function M(e){0>F||(e.current=Y[F],Y[F]=null,F--)}function K(e,t){F++,Y[F]=e.current,e.current=t}var W=S(null),oe=S(null),fe=S(null),xe=S(null);function ot(e,t){switch(K(fe,t),K(oe,e),K(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Af(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Af(t),e=Tf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(W),K(W,e)}function He(){M(W),M(oe),M(fe)}function di(e){e.memoizedState!==null&&K(xe,e);var t=W.current,n=Tf(t,e.type);t!==n&&(K(oe,e),K(W,n))}function Ss(e){oe.current===e&&(M(W),M(oe)),xe.current===e&&(M(xe),es._currentValue=P)}var nl,ec;function Yn(e){if(nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nl=t&&t[1]||"",ec=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nl+e+ec}var al=!1;function il(e,t){if(!e||al)return"";al=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(N){var j=N}Reflect.construct(e,[],q)}else{try{q.call()}catch(N){j=N}e.call(q.prototype)}}else{try{throw Error()}catch(N){j=N}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(N){if(N&&j&&typeof N.stack=="string")return[N.stack,j.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),f=u[0],y=u[1];if(f&&y){var _=f.split(`
`),C=y.split(`
`);for(o=i=0;i<_.length&&!_[i].includes("DetermineComponentFrameRoot");)i++;for(;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;if(i===_.length||o===C.length)for(i=_.length-1,o=C.length-1;1<=i&&0<=o&&_[i]!==C[o];)o--;for(;1<=i&&0<=o;i--,o--)if(_[i]!==C[o]){if(i!==1||o!==1)do if(i--,o--,0>o||_[i]!==C[o]){var U=`
`+_[i].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=i&&0<=o);break}}}finally{al=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Yn(n):""}function pg(e,t){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==t&&t!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return il(e.type,!1);case 11:return il(e.type.render,!1);case 1:return il(e.type,!0);case 31:return Yn("Activity");default:return""}}function tc(e){try{var t="",n=null;do t+=pg(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var sl=Object.prototype.hasOwnProperty,rl=s.unstable_scheduleCallback,ll=s.unstable_cancelCallback,yg=s.unstable_shouldYield,vg=s.unstable_requestPaint,yt=s.unstable_now,bg=s.unstable_getCurrentPriorityLevel,nc=s.unstable_ImmediatePriority,ac=s.unstable_UserBlockingPriority,ws=s.unstable_NormalPriority,_g=s.unstable_LowPriority,ic=s.unstable_IdlePriority,Sg=s.log,wg=s.unstable_setDisableYieldValue,hi=null,vt=null;function yn(e){if(typeof Sg=="function"&&wg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(hi,e)}catch{}}var bt=Math.clz32?Math.clz32:Ag,xg=Math.log,Eg=Math.LN2;function Ag(e){return e>>>=0,e===0?32:31-(xg(e)/Eg|0)|0}var xs=256,Es=262144,As=4194304;function Kn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ts(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~u,i!==0?o=Kn(i):(f&=y,f!==0?o=Kn(f):n||(n=y&~e,n!==0&&(o=Kn(n))))):(y=i&~u,y!==0?o=Kn(y):f!==0?o=Kn(f):n||(n=i&~e,n!==0&&(o=Kn(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function fi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Tg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sc(){var e=As;return As<<=1,(As&62914560)===0&&(As=4194304),e}function ol(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rg(e,t,n,i,o,u){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,_=e.expirationTimes,C=e.hiddenUpdates;for(n=f&~n;0<n;){var U=31-bt(n),q=1<<U;y[U]=0,_[U]=-1;var j=C[U];if(j!==null)for(C[U]=null,U=0;U<j.length;U++){var N=j[U];N!==null&&(N.lane&=-536870913)}n&=~q}i!==0&&rc(e,i,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function rc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-bt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function lc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-bt(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function oc(e,t){var n=t&-t;return n=(n&42)!==0?1:ul(n),(n&(e.suspendedLanes|t))!==0?0:n}function ul(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uc(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:Jf(e.type))}function cc(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var vn=Math.random().toString(36).slice(2),Fe="__reactFiber$"+vn,ct="__reactProps$"+vn,ga="__reactContainer$"+vn,dl="__reactEvents$"+vn,kg="__reactListeners$"+vn,Og="__reactHandles$"+vn,dc="__reactResources$"+vn,gi="__reactMarker$"+vn;function hl(e){delete e[Fe],delete e[ct],delete e[dl],delete e[kg],delete e[Og]}function pa(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ga]||n[Fe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Df(e);e!==null;){if(n=e[Fe])return n;e=Df(e)}return t}e=n,n=e.parentNode}return null}function ya(e){if(e=e[Fe]||e[ga]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function va(e){var t=e[dc];return t||(t=e[dc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[gi]=!0}var hc=new Set,fc={};function Vn(e,t){ba(e,t),ba(e+"Capture",t)}function ba(e,t){for(fc[e]=t,e=0;e<t.length;e++)hc.add(t[e])}var Cg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mc={},gc={};function jg(e){return sl.call(gc,e)?!0:sl.call(mc,e)?!1:Cg.test(e)?gc[e]=!0:(mc[e]=!0,!1)}function Rs(e,t,n){if(jg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ks(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Jt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ng(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){n=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fl(e){if(!e._valueTracker){var t=pc(e)?"checked":"value";e._valueTracker=Ng(e,t,""+e[t])}}function yc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=pc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dg=/[\n"\\]/g;function Ct(e){return e.replace(Dg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ml(e,t,n,i,o,u,f,y){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ot(t)):e.value!==""+Ot(t)&&(e.value=""+Ot(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?gl(e,f,Ot(t)):n!=null?gl(e,f,Ot(n)):i!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Ot(y):e.removeAttribute("name")}function vc(e,t,n,i,o,u,f,y){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){fl(e);return}n=n!=null?""+Ot(n):"",t=t!=null?""+Ot(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),fl(e)}function gl(e,t,n){t==="number"&&Os(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _a(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ot(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function bc(e,t,n){if(t!=null&&(t=""+Ot(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ot(n):""}function _c(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(l(92));if(Pe(i)){if(1<i.length)throw Error(l(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ot(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),fl(e)}function Sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Bg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wc(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&Sc(e,o,i)}else for(var u in t)t.hasOwnProperty(u)&&Sc(e,u,t[u])}function pl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ug=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(e){return Mg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var yl=null;function vl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wa=null,xa=null;function xc(e){var t=ya(e);if(t&&(e=t.stateNode)){var n=e[ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(ml(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ct(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[ct]||null;if(!o)throw Error(l(90));ml(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&yc(i)}break e;case"textarea":bc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&_a(e,!!n.multiple,t,!1)}}}var bl=!1;function Ec(e,t,n){if(bl)return e(t,n);bl=!0;try{var i=e(t);return i}finally{if(bl=!1,(wa!==null||xa!==null)&&(yr(),wa&&(t=wa,e=xa,xa=wa=null,xc(t),e)))for(t=0;t<e.length;t++)xc(e[t])}}function yi(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ct]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_l=!1;if(Qt)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){_l=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{_l=!1}var bn=null,Sl=null,js=null;function Ac(){if(js)return js;var e,t=Sl,n=t.length,i,o="value"in bn?bn.value:bn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===o[u-i];i++);return js=o.slice(e,1<i?1-i:void 0)}function Ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Tc(){return!1}function dt(e){function t(n,i,o,u,f){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ds:Tc,this.isPropagationStopped=Tc,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=dt(Wn),bi=x({},Wn,{view:0,detail:0}),Lg=dt(bi),wl,xl,_i,Us=x({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(wl=e.screenX-_i.screenX,xl=e.screenY-_i.screenY):xl=wl=0,_i=e),wl)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),Rc=dt(Us),zg=x({},Us,{dataTransfer:0}),qg=dt(zg),Hg=x({},bi,{relatedTarget:0}),El=dt(Hg),Gg=x({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),$g=dt(Gg),Pg=x({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yg=dt(Pg),Kg=x({},Wn,{data:0}),kc=dt(Kg),Vg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xg[e])?!!t[e]:!1}function Al(){return Jg}var Ig=x({},bi,{key:function(e){if(e.key){var t=Vg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qg=dt(Ig),Zg=x({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=dt(Zg),Fg=x({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),ep=dt(Fg),tp=x({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),np=dt(tp),ap=x({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ip=dt(ap),sp=x({},Wn,{newState:0,oldState:0}),rp=dt(sp),lp=[9,13,27,32],Tl=Qt&&"CompositionEvent"in window,Si=null;Qt&&"documentMode"in document&&(Si=document.documentMode);var op=Qt&&"TextEvent"in window&&!Si,Cc=Qt&&(!Tl||Si&&8<Si&&11>=Si),jc=" ",Nc=!1;function Dc(e,t){switch(e){case"keyup":return lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function up(e,t){switch(e){case"compositionend":return Bc(t);case"keypress":return t.which!==32?null:(Nc=!0,jc);case"textInput":return e=t.data,e===jc&&Nc?null:e;default:return null}}function cp(e,t){if(Ea)return e==="compositionend"||!Tl&&Dc(e,t)?(e=Ac(),js=Sl=bn=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cc&&t.locale!=="ko"?null:t.data;default:return null}}var dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dp[e.type]:t==="textarea"}function Mc(e,t,n,i){wa?xa?xa.push(i):xa=[i]:wa=i,t=Er(t,"onChange"),0<t.length&&(n=new Bs("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var wi=null,xi=null;function hp(e){bf(e,0)}function Ms(e){var t=pi(e);if(yc(t))return e}function Lc(e,t){if(e==="change")return t}var zc=!1;if(Qt){var Rl;if(Qt){var kl="oninput"in document;if(!kl){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),kl=typeof qc.oninput=="function"}Rl=kl}else Rl=!1;zc=Rl&&(!document.documentMode||9<document.documentMode)}function Hc(){wi&&(wi.detachEvent("onpropertychange",Gc),xi=wi=null)}function Gc(e){if(e.propertyName==="value"&&Ms(xi)){var t=[];Mc(t,xi,e,vl(e)),Ec(hp,t)}}function fp(e,t,n){e==="focusin"?(Hc(),wi=t,xi=n,wi.attachEvent("onpropertychange",Gc)):e==="focusout"&&Hc()}function mp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(xi)}function gp(e,t){if(e==="click")return Ms(t)}function pp(e,t){if(e==="input"||e==="change")return Ms(t)}function yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:yp;function Ei(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!sl.call(t,o)||!_t(e[o],t[o]))return!1}return!0}function $c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var n=$c(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$c(n)}}function Yc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Os(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Os(e.document)}return t}function Ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var vp=Qt&&"documentMode"in document&&11>=document.documentMode,Aa=null,Cl=null,Ai=null,jl=!1;function Vc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jl||Aa==null||Aa!==Os(i)||(i=Aa,"selectionStart"in i&&Ol(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ai&&Ei(Ai,i)||(Ai=i,i=Er(Cl,"onSelect"),0<i.length&&(t=new Bs("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Aa)))}function Xn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ta={animationend:Xn("Animation","AnimationEnd"),animationiteration:Xn("Animation","AnimationIteration"),animationstart:Xn("Animation","AnimationStart"),transitionrun:Xn("Transition","TransitionRun"),transitionstart:Xn("Transition","TransitionStart"),transitioncancel:Xn("Transition","TransitionCancel"),transitionend:Xn("Transition","TransitionEnd")},Nl={},Wc={};Qt&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Jn(e){if(Nl[e])return Nl[e];if(!Ta[e])return e;var t=Ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wc)return Nl[e]=t[n];return e}var Xc=Jn("animationend"),Jc=Jn("animationiteration"),Ic=Jn("animationstart"),bp=Jn("transitionrun"),_p=Jn("transitionstart"),Sp=Jn("transitioncancel"),Qc=Jn("transitionend"),Zc=new Map,Dl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dl.push("scrollEnd");function qt(e,t){Zc.set(e,t),Vn(t,[e])}var Ls=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jt=[],Ra=0,Bl=0;function zs(){for(var e=Ra,t=Bl=Ra=0;t<e;){var n=jt[t];jt[t++]=null;var i=jt[t];jt[t++]=null;var o=jt[t];jt[t++]=null;var u=jt[t];if(jt[t++]=null,i!==null&&o!==null){var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}u!==0&&Fc(n,o,u)}}function qs(e,t,n,i){jt[Ra++]=e,jt[Ra++]=t,jt[Ra++]=n,jt[Ra++]=i,Bl|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Ul(e,t,n,i){return qs(e,t,n,i),Hs(e)}function In(e,t){return qs(e,null,null,t),Hs(e)}function Fc(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,i=u.alternate,i!==null&&(i.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-bt(n),e=u.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),u):null}function Hs(e){if(50<Wi)throw Wi=0,Ko=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ka={};function wp(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,i){return new wp(e,t,n,i)}function Ml(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zt(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ed(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gs(e,t,n,i,o,u){var f=0;if(i=e,typeof e=="function")Ml(e)&&(f=1);else if(typeof e=="string")f=Ry(e,n,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Oe:return e=St(31,n,t,o),e.elementType=Oe,e.lanes=u,e;case T:return Qn(n.children,o,u,t);case L:f=8,o|=24;break;case H:return e=St(12,n,t,o|2),e.elementType=H,e.lanes=u,e;case ne:return e=St(13,n,t,o),e.elementType=ne,e.lanes=u,e;case re:return e=St(19,n,t,o),e.elementType=re,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:f=10;break e;case $:f=9;break e;case J:f=11;break e;case I:f=14;break e;case be:f=16,i=null;break e}f=29,n=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=St(f,n,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function Qn(e,t,n,i){return e=St(7,e,i,t),e.lanes=n,e}function Ll(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function td(e){var t=St(18,null,null,0);return t.stateNode=e,t}function zl(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var nd=new WeakMap;function Nt(e,t){if(typeof e=="object"&&e!==null){var n=nd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:tc(t)},nd.set(e,t),t)}return{value:e,source:t,stack:tc(t)}}var Oa=[],Ca=0,$s=null,Ti=0,Dt=[],Bt=0,_n=null,Kt=1,Vt="";function Ft(e,t){Oa[Ca++]=Ti,Oa[Ca++]=$s,$s=e,Ti=t}function ad(e,t,n){Dt[Bt++]=Kt,Dt[Bt++]=Vt,Dt[Bt++]=_n,_n=e;var i=Kt;e=Vt;var o=32-bt(i)-1;i&=~(1<<o),n+=1;var u=32-bt(t)+o;if(30<u){var f=o-o%5;u=(i&(1<<f)-1).toString(32),i>>=f,o-=f,Kt=1<<32-bt(t)+o|n<<o|i,Vt=u+e}else Kt=1<<u|n<<o|i,Vt=e}function ql(e){e.return!==null&&(Ft(e,1),ad(e,1,0))}function Hl(e){for(;e===$s;)$s=Oa[--Ca],Oa[Ca]=null,Ti=Oa[--Ca],Oa[Ca]=null;for(;e===_n;)_n=Dt[--Bt],Dt[Bt]=null,Vt=Dt[--Bt],Dt[Bt]=null,Kt=Dt[--Bt],Dt[Bt]=null}function id(e,t){Dt[Bt++]=Kt,Dt[Bt++]=Vt,Dt[Bt++]=_n,Kt=t.id,Vt=t.overflow,_n=e}var et=null,De=null,ve=!1,Sn=null,Ut=!1,Gl=Error(l(519));function wn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ri(Nt(t,e)),Gl}function sd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Fe]=e,t[ct]=i,n){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(n=0;n<Ji.length;n++)ge(Ji[n],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),vc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),_c(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||xf(t.textContent,n)?(i.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),i.onScroll!=null&&ge("scroll",t),i.onScrollEnd!=null&&ge("scrollend",t),i.onClick!=null&&(t.onclick=It),t=!0):t=!1,t||wn(e,!0)}function rd(e){for(et=e.return;et;)switch(et.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:et=et.return}}function ja(e){if(e!==et)return!1;if(!ve)return rd(e),ve=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ru(e.type,e.memoizedProps)),n=!n),n&&De&&wn(e),rd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));De=Nf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));De=Nf(e)}else t===27?(t=De,Mn(e.type)?(e=du,du=null,De=e):De=t):De=et?Lt(e.stateNode.nextSibling):null;return!0}function Zn(){De=et=null,ve=!1}function $l(){var e=Sn;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),Sn=null),e}function Ri(e){Sn===null?Sn=[e]:Sn.push(e)}var Pl=S(null),Fn=null,en=null;function xn(e,t,n){K(Pl,t._currentValue),t._currentValue=n}function tn(e){e._currentValue=Pl.current,M(Pl)}function Yl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Kl(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var f=o.child;u=u.firstContext;e:for(;u!==null;){var y=u;u=o;for(var _=0;_<t.length;_++)if(y.context===t[_]){u.lanes|=n,y=u.alternate,y!==null&&(y.lanes|=n),Yl(u.return,n,e),i||(f=null);break e}u=y.next}}else if(o.tag===18){if(f=o.return,f===null)throw Error(l(341));f.lanes|=n,u=f.alternate,u!==null&&(u.lanes|=n),Yl(f,n,e),f=null}else f=o.child;if(f!==null)f.return=o;else for(f=o;f!==null;){if(f===e){f=null;break}if(o=f.sibling,o!==null){o.return=f.return,f=o;break}f=f.return}o=f}}function Na(e,t,n,i){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var f=o.alternate;if(f===null)throw Error(l(387));if(f=f.memoizedProps,f!==null){var y=o.type;_t(o.pendingProps.value,f.value)||(e!==null?e.push(y):e=[y])}}else if(o===xe.current){if(f=o.alternate,f===null)throw Error(l(387));f.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(es):e=[es])}o=o.return}e!==null&&Kl(t,e,n,i),t.flags|=262144}function Ps(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ea(e){Fn=e,en=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return ld(Fn,e)}function Ys(e,t){return Fn===null&&ea(e),ld(e,t)}function ld(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},en===null){if(e===null)throw Error(l(308));en=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else en=en.next=t;return n}var xp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ep=s.unstable_scheduleCallback,Ap=s.unstable_NormalPriority,Ye={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vl(){return{controller:new xp,data:new Map,refCount:0}}function ki(e){e.refCount--,e.refCount===0&&Ep(Ap,function(){e.controller.abort()})}var Oi=null,Wl=0,Da=0,Ba=null;function Tp(e,t){if(Oi===null){var n=Oi=[];Wl=0,Da=Qo(),Ba={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Wl++,t.then(od,od),t}function od(){if(--Wl===0&&Oi!==null){Ba!==null&&(Ba.status="fulfilled");var e=Oi;Oi=null,Da=0,Ba=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Rp(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var ud=B.S;B.S=function(e,t){Vh=yt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Tp(e,t),ud!==null&&ud(e,t)};var ta=S(null);function Xl(){var e=ta.current;return e!==null?e:je.pooledCache}function Ks(e,t){t===null?K(ta,ta.current):K(ta,t.pool)}function cd(){var e=Xl();return e===null?null:{parent:Ye._currentValue,pool:e}}var Ua=Error(l(460)),Jl=Error(l(474)),Vs=Error(l(542)),Ws={then:function(){}};function dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,md(e),e;default:if(typeof t.status=="string")t.then(It,It);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,md(e),e}throw aa=t,Ua}}function na(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(aa=n,Ua):n}}var aa=null;function fd(){if(aa===null)throw Error(l(459));var e=aa;return aa=null,e}function md(e){if(e===Ua||e===Vs)throw Error(l(483))}var Ma=null,Ci=0;function Xs(e){var t=Ci;return Ci+=1,Ma===null&&(Ma=[]),hd(Ma,e,t)}function ji(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Js(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gd(e){function t(R,E){if(e){var O=R.deletions;O===null?(R.deletions=[E],R.flags|=16):O.push(E)}}function n(R,E){if(!e)return null;for(;E!==null;)t(R,E),E=E.sibling;return null}function i(R){for(var E=new Map;R!==null;)R.key!==null?E.set(R.key,R):E.set(R.index,R),R=R.sibling;return E}function o(R,E){return R=Zt(R,E),R.index=0,R.sibling=null,R}function u(R,E,O){return R.index=O,e?(O=R.alternate,O!==null?(O=O.index,O<E?(R.flags|=67108866,E):O):(R.flags|=67108866,E)):(R.flags|=1048576,E)}function f(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function y(R,E,O,z){return E===null||E.tag!==6?(E=Ll(O,R.mode,z),E.return=R,E):(E=o(E,O),E.return=R,E)}function _(R,E,O,z){var te=O.type;return te===T?U(R,E,O.props.children,z,O.key):E!==null&&(E.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===be&&na(te)===E.type)?(E=o(E,O.props),ji(E,O),E.return=R,E):(E=Gs(O.type,O.key,O.props,null,R.mode,z),ji(E,O),E.return=R,E)}function C(R,E,O,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==O.containerInfo||E.stateNode.implementation!==O.implementation?(E=zl(O,R.mode,z),E.return=R,E):(E=o(E,O.children||[]),E.return=R,E)}function U(R,E,O,z,te){return E===null||E.tag!==7?(E=Qn(O,R.mode,z,te),E.return=R,E):(E=o(E,O),E.return=R,E)}function q(R,E,O){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Ll(""+E,R.mode,O),E.return=R,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case A:return O=Gs(E.type,E.key,E.props,null,R.mode,O),ji(O,E),O.return=R,O;case k:return E=zl(E,R.mode,O),E.return=R,E;case be:return E=na(E),q(R,E,O)}if(Pe(E)||he(E))return E=Qn(E,R.mode,O,null),E.return=R,E;if(typeof E.then=="function")return q(R,Xs(E),O);if(E.$$typeof===G)return q(R,Ys(R,E),O);Js(R,E)}return null}function j(R,E,O,z){var te=E!==null?E.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return te!==null?null:y(R,E,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return O.key===te?_(R,E,O,z):null;case k:return O.key===te?C(R,E,O,z):null;case be:return O=na(O),j(R,E,O,z)}if(Pe(O)||he(O))return te!==null?null:U(R,E,O,z,null);if(typeof O.then=="function")return j(R,E,Xs(O),z);if(O.$$typeof===G)return j(R,E,Ys(R,O),z);Js(R,O)}return null}function N(R,E,O,z,te){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return R=R.get(O)||null,y(E,R,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return R=R.get(z.key===null?O:z.key)||null,_(E,R,z,te);case k:return R=R.get(z.key===null?O:z.key)||null,C(E,R,z,te);case be:return z=na(z),N(R,E,O,z,te)}if(Pe(z)||he(z))return R=R.get(O)||null,U(E,R,z,te,null);if(typeof z.then=="function")return N(R,E,O,Xs(z),te);if(z.$$typeof===G)return N(R,E,O,Ys(E,z),te);Js(E,z)}return null}function X(R,E,O,z){for(var te=null,_e=null,Q=E,de=E=0,ye=null;Q!==null&&de<O.length;de++){Q.index>de?(ye=Q,Q=null):ye=Q.sibling;var Se=j(R,Q,O[de],z);if(Se===null){Q===null&&(Q=ye);break}e&&Q&&Se.alternate===null&&t(R,Q),E=u(Se,E,de),_e===null?te=Se:_e.sibling=Se,_e=Se,Q=ye}if(de===O.length)return n(R,Q),ve&&Ft(R,de),te;if(Q===null){for(;de<O.length;de++)Q=q(R,O[de],z),Q!==null&&(E=u(Q,E,de),_e===null?te=Q:_e.sibling=Q,_e=Q);return ve&&Ft(R,de),te}for(Q=i(Q);de<O.length;de++)ye=N(Q,R,de,O[de],z),ye!==null&&(e&&ye.alternate!==null&&Q.delete(ye.key===null?de:ye.key),E=u(ye,E,de),_e===null?te=ye:_e.sibling=ye,_e=ye);return e&&Q.forEach(function(Gn){return t(R,Gn)}),ve&&Ft(R,de),te}function ae(R,E,O,z){if(O==null)throw Error(l(151));for(var te=null,_e=null,Q=E,de=E=0,ye=null,Se=O.next();Q!==null&&!Se.done;de++,Se=O.next()){Q.index>de?(ye=Q,Q=null):ye=Q.sibling;var Gn=j(R,Q,Se.value,z);if(Gn===null){Q===null&&(Q=ye);break}e&&Q&&Gn.alternate===null&&t(R,Q),E=u(Gn,E,de),_e===null?te=Gn:_e.sibling=Gn,_e=Gn,Q=ye}if(Se.done)return n(R,Q),ve&&Ft(R,de),te;if(Q===null){for(;!Se.done;de++,Se=O.next())Se=q(R,Se.value,z),Se!==null&&(E=u(Se,E,de),_e===null?te=Se:_e.sibling=Se,_e=Se);return ve&&Ft(R,de),te}for(Q=i(Q);!Se.done;de++,Se=O.next())Se=N(Q,R,de,Se.value,z),Se!==null&&(e&&Se.alternate!==null&&Q.delete(Se.key===null?de:Se.key),E=u(Se,E,de),_e===null?te=Se:_e.sibling=Se,_e=Se);return e&&Q.forEach(function(zy){return t(R,zy)}),ve&&Ft(R,de),te}function ke(R,E,O,z){if(typeof O=="object"&&O!==null&&O.type===T&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case A:e:{for(var te=O.key;E!==null;){if(E.key===te){if(te=O.type,te===T){if(E.tag===7){n(R,E.sibling),z=o(E,O.props.children),z.return=R,R=z;break e}}else if(E.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===be&&na(te)===E.type){n(R,E.sibling),z=o(E,O.props),ji(z,O),z.return=R,R=z;break e}n(R,E);break}else t(R,E);E=E.sibling}O.type===T?(z=Qn(O.props.children,R.mode,z,O.key),z.return=R,R=z):(z=Gs(O.type,O.key,O.props,null,R.mode,z),ji(z,O),z.return=R,R=z)}return f(R);case k:e:{for(te=O.key;E!==null;){if(E.key===te)if(E.tag===4&&E.stateNode.containerInfo===O.containerInfo&&E.stateNode.implementation===O.implementation){n(R,E.sibling),z=o(E,O.children||[]),z.return=R,R=z;break e}else{n(R,E);break}else t(R,E);E=E.sibling}z=zl(O,R.mode,z),z.return=R,R=z}return f(R);case be:return O=na(O),ke(R,E,O,z)}if(Pe(O))return X(R,E,O,z);if(he(O)){if(te=he(O),typeof te!="function")throw Error(l(150));return O=te.call(O),ae(R,E,O,z)}if(typeof O.then=="function")return ke(R,E,Xs(O),z);if(O.$$typeof===G)return ke(R,E,Ys(R,O),z);Js(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,E!==null&&E.tag===6?(n(R,E.sibling),z=o(E,O),z.return=R,R=z):(n(R,E),z=Ll(O,R.mode,z),z.return=R,R=z),f(R)):n(R,E)}return function(R,E,O,z){try{Ci=0;var te=ke(R,E,O,z);return Ma=null,te}catch(Q){if(Q===Ua||Q===Vs)throw Q;var _e=St(29,Q,null,R.mode);return _e.lanes=z,_e.return=R,_e}finally{}}}var ia=gd(!0),pd=gd(!1),En=!1;function Il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ql(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(we&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=Hs(e),Fc(e,null,n),t}return qs(e,i,t,n),Hs(e)}function Ni(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,lc(e,n)}}function Zl(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Fl=!1;function Di(){if(Fl){var e=Ba;if(e!==null)throw e}}function Bi(e,t,n,i){Fl=!1;var o=e.updateQueue;En=!1;var u=o.firstBaseUpdate,f=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var _=y,C=_.next;_.next=null,f===null?u=C:f.next=C,f=_;var U=e.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==f&&(y===null?U.firstBaseUpdate=C:y.next=C,U.lastBaseUpdate=_))}if(u!==null){var q=o.baseState;f=0,U=C=_=null,y=u;do{var j=y.lane&-536870913,N=j!==y.lane;if(N?(pe&j)===j:(i&j)===j){j!==0&&j===Da&&(Fl=!0),U!==null&&(U=U.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var X=e,ae=y;j=t;var ke=n;switch(ae.tag){case 1:if(X=ae.payload,typeof X=="function"){q=X.call(ke,q,j);break e}q=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ae.payload,j=typeof X=="function"?X.call(ke,q,j):X,j==null)break e;q=x({},q,j);break e;case 2:En=!0}}j=y.callback,j!==null&&(e.flags|=64,N&&(e.flags|=8192),N=o.callbacks,N===null?o.callbacks=[j]:N.push(j))}else N={lane:j,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(C=U=N,_=q):U=U.next=N,f|=j;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;N=y,y=N.next,N.next=null,o.lastBaseUpdate=N,o.shared.pending=null}}while(!0);U===null&&(_=q),o.baseState=_,o.firstBaseUpdate=C,o.lastBaseUpdate=U,u===null&&(o.shared.lanes=0),jn|=f,e.lanes=f,e.memoizedState=q}}function yd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function vd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)yd(n[e],t)}var La=S(null),Is=S(0);function bd(e,t){e=dn,K(Is,e),K(La,t),dn=e|t.baseLanes}function eo(){K(Is,dn),K(La,La.current)}function to(){dn=Is.current,M(La),M(Is)}var wt=S(null),Mt=null;function Rn(e){var t=e.alternate;K(Ge,Ge.current&1),K(wt,e),Mt===null&&(t===null||La.current!==null||t.memoizedState!==null)&&(Mt=e)}function no(e){K(Ge,Ge.current),K(wt,e),Mt===null&&(Mt=e)}function _d(e){e.tag===22?(K(Ge,Ge.current),K(wt,e),Mt===null&&(Mt=e)):kn()}function kn(){K(Ge,Ge.current),K(wt,wt.current)}function xt(e){M(wt),Mt===e&&(Mt=null),M(Ge)}var Ge=S(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||uu(n)||cu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nn=0,ce=null,Te=null,Ke=null,Zs=!1,za=!1,sa=!1,Fs=0,Ui=0,qa=null,kp=0;function Le(){throw Error(l(321))}function ao(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function io(e,t,n,i,o,u){return nn=u,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?ah:_o,sa=!1,u=n(i,o),sa=!1,za&&(u=wd(t,n,i,o)),Sd(e),u}function Sd(e){B.H=zi;var t=Te!==null&&Te.next!==null;if(nn=0,Ke=Te=ce=null,Zs=!1,Ui=0,qa=null,t)throw Error(l(300));e===null||Ve||(e=e.dependencies,e!==null&&Ps(e)&&(Ve=!0))}function wd(e,t,n,i){ce=e;var o=0;do{if(za&&(qa=null),Ui=0,za=!1,25<=o)throw Error(l(301));if(o+=1,Ke=Te=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}B.H=ih,u=t(n,i)}while(za);return u}function Op(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?Mi(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(ce.flags|=1024),t}function so(){var e=Fs!==0;return Fs=0,e}function ro(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function lo(e){if(Zs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zs=!1}nn=0,Ke=Te=ce=null,za=!1,Ui=Fs=0,qa=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ce.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function $e(){if(Te===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ke===null?ce.memoizedState:Ke.next;if(t!==null)Ke=t,Te=e;else{if(e===null)throw ce.alternate===null?Error(l(467)):Error(l(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ke===null?ce.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function er(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mi(e){var t=Ui;return Ui+=1,qa===null&&(qa=[]),e=hd(qa,e,t),t=ce,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?ah:_o),e}function tr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mi(e);if(e.$$typeof===G)return tt(e)}throw Error(l(438,String(e)))}function oo(e){var t=null,n=ce.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=ce.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=er(),ce.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=lt;return t.index++,n}function an(e,t){return typeof t=="function"?t(e):t}function nr(e){var t=$e();return uo(t,Te,e)}function uo(e,t,n){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=n;var o=e.baseQueue,u=i.pending;if(u!==null){if(o!==null){var f=o.next;o.next=u.next,u.next=f}t.baseQueue=o=u,i.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var y=f=null,_=null,C=t,U=!1;do{var q=C.lane&-536870913;if(q!==C.lane?(pe&q)===q:(nn&q)===q){var j=C.revertLane;if(j===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),q===Da&&(U=!0);else if((nn&j)===j){C=C.next,j===Da&&(U=!0);continue}else q={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(y=_=q,f=u):_=_.next=q,ce.lanes|=j,jn|=j;q=C.action,sa&&n(u,q),u=C.hasEagerState?C.eagerState:n(u,q)}else j={lane:q,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(y=_=j,f=u):_=_.next=j,ce.lanes|=q,jn|=q;C=C.next}while(C!==null&&C!==t);if(_===null?f=u:_.next=y,!_t(u,e.memoizedState)&&(Ve=!0,U&&(n=Ba,n!==null)))throw n;e.memoizedState=u,e.baseState=f,e.baseQueue=_,i.lastRenderedState=u}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function co(e){var t=$e(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do u=e(u,f.action),f=f.next;while(f!==o);_t(u,t.memoizedState)||(Ve=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,i]}function xd(e,t,n){var i=ce,o=$e(),u=ve;if(u){if(n===void 0)throw Error(l(407));n=n()}else n=t();var f=!_t((Te||o).memoizedState,n);if(f&&(o.memoizedState=n,Ve=!0),o=o.queue,mo(Td.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||Ke!==null&&Ke.memoizedState.tag&1){if(i.flags|=2048,Ha(9,{destroy:void 0},Ad.bind(null,i,o,n,t),null),je===null)throw Error(l(349));u||(nn&127)!==0||Ed(i,t,n)}return n}function Ed(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t=er(),ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ad(e,t,n,i){t.value=n,t.getSnapshot=i,Rd(t)&&kd(e)}function Td(e,t,n){return n(function(){Rd(t)&&kd(e)})}function Rd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function kd(e){var t=In(e,2);t!==null&&pt(t,e,2)}function ho(e){var t=ut();if(typeof e=="function"){var n=e;if(e=n(),sa){yn(!0);try{n()}finally{yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},t}function Od(e,t,n,i){return e.baseState=n,uo(e,Te,typeof i=="function"?i:an)}function Cp(e,t,n,i,o){if(sr(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};B.T!==null?n(!0):u.isTransition=!1,i(u),n=t.pending,n===null?(u.next=t.pending=u,Cd(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Cd(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var u=B.T,f={};B.T=f;try{var y=n(o,i),_=B.S;_!==null&&_(f,y),jd(e,t,y)}catch(C){fo(e,t,C)}finally{u!==null&&f.types!==null&&(u.types=f.types),B.T=u}}else try{u=n(o,i),jd(e,t,u)}catch(C){fo(e,t,C)}}function jd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Nd(e,t,i)},function(i){return fo(e,t,i)}):Nd(e,t,n)}function Nd(e,t,n){t.status="fulfilled",t.value=n,Dd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Cd(e,n)))}function fo(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Dd(t),t=t.next;while(t!==i)}e.action=null}function Dd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bd(e,t){return t}function Ud(e,t){if(ve){var n=je.formState;if(n!==null){e:{var i=ce;if(ve){if(De){t:{for(var o=De,u=Ut;o.nodeType!==8;){if(!u){o=null;break t}if(o=Lt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){De=Lt(o.nextSibling),i=o.data==="F!";break e}}wn(i)}i=!1}i&&(t=n[0])}}return n=ut(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:t},n.queue=i,n=eh.bind(null,ce,i),i.dispatch=n,i=ho(!1),u=bo.bind(null,ce,!1,i.queue),i=ut(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=Cp.bind(null,ce,o,u,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Md(e){var t=$e();return Ld(t,Te,e)}function Ld(e,t,n){if(t=uo(e,t,Bd)[0],e=nr(an)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Mi(t)}catch(f){throw f===Ua?Vs:f}else i=t;t=$e();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(ce.flags|=2048,Ha(9,{destroy:void 0},jp.bind(null,o,n),null)),[i,u,e]}function jp(e,t){e.action=t}function zd(e){var t=$e(),n=Te;if(n!==null)return Ld(t,n,e);$e(),t=t.memoizedState,n=$e();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ha(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=ce.updateQueue,t===null&&(t=er(),ce.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function qd(){return $e().memoizedState}function ar(e,t,n,i){var o=ut();ce.flags|=e,o.memoizedState=Ha(1|t,{destroy:void 0},n,i===void 0?null:i)}function ir(e,t,n,i){var o=$e();i=i===void 0?null:i;var u=o.memoizedState.inst;Te!==null&&i!==null&&ao(i,Te.memoizedState.deps)?o.memoizedState=Ha(t,u,n,i):(ce.flags|=e,o.memoizedState=Ha(1|t,u,n,i))}function Hd(e,t){ar(8390656,8,e,t)}function mo(e,t){ir(2048,8,e,t)}function Np(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=er(),ce.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Gd(e){var t=$e().memoizedState;return Np({ref:t,nextImpl:e}),function(){if((we&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function $d(e,t){return ir(4,2,e,t)}function Pd(e,t){return ir(4,4,e,t)}function Yd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kd(e,t,n){n=n!=null?n.concat([e]):null,ir(4,4,Yd.bind(null,t,e),n)}function go(){}function Vd(e,t){var n=$e();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&ao(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Wd(e,t){var n=$e();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&ao(t,i[1]))return i[0];if(i=e(),sa){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[i,t],i}function po(e,t,n){return n===void 0||(nn&1073741824)!==0&&(pe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Xh(),ce.lanes|=e,jn|=e,n)}function Xd(e,t,n,i){return _t(n,t)?n:La.current!==null?(e=po(e,n,i),_t(e,t)||(Ve=!0),e):(nn&42)===0||(nn&1073741824)!==0&&(pe&261930)===0?(Ve=!0,e.memoizedState=n):(e=Xh(),ce.lanes|=e,jn|=e,t)}function Jd(e,t,n,i,o){var u=D.p;D.p=u!==0&&8>u?u:8;var f=B.T,y={};B.T=y,bo(e,!1,t,n);try{var _=o(),C=B.S;if(C!==null&&C(y,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var U=Rp(_,i);Li(e,t,U,Tt(e))}else Li(e,t,i,Tt(e))}catch(q){Li(e,t,{then:function(){},status:"rejected",reason:q},Tt())}finally{D.p=u,f!==null&&y.types!==null&&(f.types=y.types),B.T=f}}function Dp(){}function yo(e,t,n,i){if(e.tag!==5)throw Error(l(476));var o=Id(e).queue;Jd(e,o,t,P,n===null?Dp:function(){return Qd(e),n(i)})}function Id(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:P},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qd(e){var t=Id(e);t.next===null&&(t=e.alternate.memoizedState),Li(e,t.next.queue,{},Tt())}function vo(){return tt(es)}function Zd(){return $e().memoizedState}function Fd(){return $e().memoizedState}function Bp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Tt();e=An(n);var i=Tn(t,e,n);i!==null&&(pt(i,t,n),Ni(i,t,n)),t={cache:Vl()},e.payload=t;return}t=t.return}}function Up(e,t,n){var i=Tt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},sr(e)?th(t,n):(n=Ul(e,t,n,i),n!==null&&(pt(n,e,i),nh(n,t,i)))}function eh(e,t,n){var i=Tt();Li(e,t,n,i)}function Li(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(sr(e))th(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,y=u(f,n);if(o.hasEagerState=!0,o.eagerState=y,_t(y,f))return qs(e,t,o,0),je===null&&zs(),!1}catch{}finally{}if(n=Ul(e,t,o,i),n!==null)return pt(n,e,i),nh(n,t,i),!0}return!1}function bo(e,t,n,i){if(i={lane:2,revertLane:Qo(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},sr(e)){if(t)throw Error(l(479))}else t=Ul(e,n,i,2),t!==null&&pt(t,e,2)}function sr(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function th(e,t){za=Zs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nh(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,lc(e,n)}}var zi={readContext:tt,use:tr,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};zi.useEffectEvent=Le;var ah={readContext:tt,use:tr,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Hd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ar(4194308,4,Yd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ar(4194308,4,e,t)},useInsertionEffect:function(e,t){ar(4,2,e,t)},useMemo:function(e,t){var n=ut();t=t===void 0?null:t;var i=e();if(sa){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ut();if(n!==void 0){var o=n(t);if(sa){yn(!0);try{n(t)}finally{yn(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Up.bind(null,ce,e),[i.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:function(e){e=ho(e);var t=e.queue,n=eh.bind(null,ce,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:go,useDeferredValue:function(e,t){var n=ut();return po(n,e,t)},useTransition:function(){var e=ho(!1);return e=Jd.bind(null,ce,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ce,o=ut();if(ve){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),je===null)throw Error(l(349));(pe&127)!==0||Ed(i,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,Hd(Td.bind(null,i,u,e),[e]),i.flags|=2048,Ha(9,{destroy:void 0},Ad.bind(null,i,u,n,t),null),n},useId:function(){var e=ut(),t=je.identifierPrefix;if(ve){var n=Vt,i=Kt;n=(i&~(1<<32-bt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Fs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=kp++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:vo,useFormState:Ud,useActionState:Ud,useOptimistic:function(e){var t=ut();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=bo.bind(null,ce,!0,n),n.dispatch=t,[e,t]},useMemoCache:oo,useCacheRefresh:function(){return ut().memoizedState=Bp.bind(null,ce)},useEffectEvent:function(e){var t=ut(),n={impl:e};return t.memoizedState=n,function(){if((we&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},_o={readContext:tt,use:tr,useCallback:Vd,useContext:tt,useEffect:mo,useImperativeHandle:Kd,useInsertionEffect:$d,useLayoutEffect:Pd,useMemo:Wd,useReducer:nr,useRef:qd,useState:function(){return nr(an)},useDebugValue:go,useDeferredValue:function(e,t){var n=$e();return Xd(n,Te.memoizedState,e,t)},useTransition:function(){var e=nr(an)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Mi(e),t]},useSyncExternalStore:xd,useId:Zd,useHostTransitionStatus:vo,useFormState:Md,useActionState:Md,useOptimistic:function(e,t){var n=$e();return Od(n,Te,e,t)},useMemoCache:oo,useCacheRefresh:Fd};_o.useEffectEvent=Gd;var ih={readContext:tt,use:tr,useCallback:Vd,useContext:tt,useEffect:mo,useImperativeHandle:Kd,useInsertionEffect:$d,useLayoutEffect:Pd,useMemo:Wd,useReducer:co,useRef:qd,useState:function(){return co(an)},useDebugValue:go,useDeferredValue:function(e,t){var n=$e();return Te===null?po(n,e,t):Xd(n,Te.memoizedState,e,t)},useTransition:function(){var e=co(an)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Mi(e),t]},useSyncExternalStore:xd,useId:Zd,useHostTransitionStatus:vo,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var n=$e();return Te!==null?Od(n,Te,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:oo,useCacheRefresh:Fd};ih.useEffectEvent=Gd;function So(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:x({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wo={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Tt(),o=An(i);o.payload=t,n!=null&&(o.callback=n),t=Tn(e,o,i),t!==null&&(pt(t,e,i),Ni(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Tt(),o=An(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Tn(e,o,i),t!==null&&(pt(t,e,i),Ni(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),i=An(n);i.tag=2,t!=null&&(i.callback=t),t=Tn(e,i,n),t!==null&&(pt(t,e,n),Ni(t,e,n))}};function sh(e,t,n,i,o,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,f):t.prototype&&t.prototype.isPureReactComponent?!Ei(n,i)||!Ei(o,u):!0}function rh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function ra(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=x({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function lh(e){Ls(e)}function oh(e){console.error(e)}function uh(e){Ls(e)}function rr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function ch(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function xo(e,t,n){return n=An(n),n.tag=3,n.payload={element:null},n.callback=function(){rr(e,t)},n}function dh(e){return e=An(e),e.tag=3,e}function hh(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=i.value;e.payload=function(){return o(u)},e.callback=function(){ch(t,n,i)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){ch(t,n,i),typeof o!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function Mp(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Na(t,n,o,!0),n=wt.current,n!==null){switch(n.tag){case 31:case 13:return Mt===null?vr():n.alternate===null&&ze===0&&(ze=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Ws?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Xo(e,i,o)),!1;case 22:return n.flags|=65536,i===Ws?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Xo(e,i,o)),!1}throw Error(l(435,n.tag))}return Xo(e,i,o),vr(),!1}if(ve)return t=wt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Gl&&(e=Error(l(422),{cause:i}),Ri(Nt(e,n)))):(i!==Gl&&(t=Error(l(423),{cause:i}),Ri(Nt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Nt(i,n),o=xo(e.stateNode,i,o),Zl(e,o),ze!==4&&(ze=2)),!1;var u=Error(l(520),{cause:i});if(u=Nt(u,n),Vi===null?Vi=[u]:Vi.push(u),ze!==4&&(ze=2),t===null)return!0;i=Nt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=xo(n.stateNode,i,e),Zl(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Nn===null||!Nn.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=dh(o),hh(o,e,n,i),Zl(n,o),!1}n=n.return}while(n!==null);return!1}var Eo=Error(l(461)),Ve=!1;function nt(e,t,n,i){t.child=e===null?pd(t,null,n,i):ia(t,e.child,n,i)}function fh(e,t,n,i,o){n=n.render;var u=t.ref;if("ref"in i){var f={};for(var y in i)y!=="ref"&&(f[y]=i[y])}else f=i;return ea(t),i=io(e,t,n,f,u,o),y=so(),e!==null&&!Ve?(ro(e,t,o),sn(e,t,o)):(ve&&y&&ql(t),t.flags|=1,nt(e,t,i,o),t.child)}function mh(e,t,n,i,o){if(e===null){var u=n.type;return typeof u=="function"&&!Ml(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,gh(e,t,u,i,o)):(e=Gs(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!No(e,o)){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:Ei,n(f,i)&&e.ref===t.ref)return sn(e,t,o)}return t.flags|=1,e=Zt(u,i),e.ref=t.ref,e.return=t,t.child=e}function gh(e,t,n,i,o){if(e!==null){var u=e.memoizedProps;if(Ei(u,i)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=i=u,No(e,o))(e.flags&131072)!==0&&(Ve=!0);else return t.lanes=e.lanes,sn(e,t,o)}return Ao(e,t,n,i,o)}function ph(e,t,n,i){var o=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~u}else i=0,t.child=null;return yh(e,t,u,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ks(t,u!==null?u.cachePool:null),u!==null?bd(t,u):eo(),_d(t);else return i=t.lanes=536870912,yh(e,t,u!==null?u.baseLanes|n:n,n,i)}else u!==null?(Ks(t,u.cachePool),bd(t,u),kn(),t.memoizedState=null):(e!==null&&Ks(t,null),eo(),kn());return nt(e,t,o,n),t.child}function qi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function yh(e,t,n,i,o){var u=Xl();return u=u===null?null:{parent:Ye._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Ks(t,null),eo(),_d(t),e!==null&&Na(e,t,i,!0),t.childLanes=o,null}function lr(e,t){return t=ur({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function vh(e,t,n){return ia(t,e.child,null,n),e=lr(t,t.pendingProps),e.flags|=2,xt(t),t.memoizedState=null,e}function Lp(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(i.mode==="hidden")return e=lr(t,i),t.lanes=536870912,qi(null,e);if(no(t),(e=De)?(e=jf(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Kt,overflow:Vt}:null,retryLane:536870912,hydrationErrors:null},n=td(e),n.return=t,t.child=n,et=t,De=null)):e=null,e===null)throw wn(t);return t.lanes=536870912,null}return lr(t,i)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(no(t),o)if(t.flags&256)t.flags&=-257,t=vh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ve||Na(e,t,n,!1),o=(n&e.childLanes)!==0,Ve||o){if(i=je,i!==null&&(f=oc(i,n),f!==0&&f!==u.retryLane))throw u.retryLane=f,In(e,f),pt(i,e,f),Eo;vr(),t=vh(e,t,n)}else e=u.treeContext,De=Lt(f.nextSibling),et=t,ve=!0,Sn=null,Ut=!1,e!==null&&id(t,e),t=lr(t,i),t.flags|=4096;return t}return e=Zt(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function or(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ao(e,t,n,i,o){return ea(t),n=io(e,t,n,i,void 0,o),i=so(),e!==null&&!Ve?(ro(e,t,o),sn(e,t,o)):(ve&&i&&ql(t),t.flags|=1,nt(e,t,n,o),t.child)}function bh(e,t,n,i,o,u){return ea(t),t.updateQueue=null,n=wd(t,i,n,o),Sd(e),i=so(),e!==null&&!Ve?(ro(e,t,u),sn(e,t,u)):(ve&&i&&ql(t),t.flags|=1,nt(e,t,n,u),t.child)}function _h(e,t,n,i,o){if(ea(t),t.stateNode===null){var u=ka,f=n.contextType;typeof f=="object"&&f!==null&&(u=tt(f)),u=new n(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=wo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},Il(t),f=n.contextType,u.context=typeof f=="object"&&f!==null?tt(f):ka,u.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(So(t,n,f,i),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&wo.enqueueReplaceState(u,u.state,null),Bi(t,i,u,o),Di(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var y=t.memoizedProps,_=ra(n,y);u.props=_;var C=u.context,U=n.contextType;f=ka,typeof U=="object"&&U!==null&&(f=tt(U));var q=n.getDerivedStateFromProps;U=typeof q=="function"||typeof u.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,U||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y||C!==f)&&rh(t,u,i,f),En=!1;var j=t.memoizedState;u.state=j,Bi(t,i,u,o),Di(),C=t.memoizedState,y||j!==C||En?(typeof q=="function"&&(So(t,n,q,i),C=t.memoizedState),(_=En||sh(t,n,_,i,j,C,f))?(U||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=C),u.props=i,u.state=C,u.context=f,i=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,Ql(e,t),f=t.memoizedProps,U=ra(n,f),u.props=U,q=t.pendingProps,j=u.context,C=n.contextType,_=ka,typeof C=="object"&&C!==null&&(_=tt(C)),y=n.getDerivedStateFromProps,(C=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==q||j!==_)&&rh(t,u,i,_),En=!1,j=t.memoizedState,u.state=j,Bi(t,i,u,o),Di();var N=t.memoizedState;f!==q||j!==N||En||e!==null&&e.dependencies!==null&&Ps(e.dependencies)?(typeof y=="function"&&(So(t,n,y,i),N=t.memoizedState),(U=En||sh(t,n,U,i,j,N,_)||e!==null&&e.dependencies!==null&&Ps(e.dependencies))?(C||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,N,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,N,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=N),u.props=i,u.state=N,u.context=_,i=U):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,or(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=ia(t,e.child,null,o),t.child=ia(t,null,n,o)):nt(e,t,n,o),t.memoizedState=u.state,e=t.child):e=sn(e,t,o),e}function Sh(e,t,n,i){return Zn(),t.flags|=256,nt(e,t,n,i),t.child}var To={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ro(e){return{baseLanes:e,cachePool:cd()}}function ko(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=At),e}function wh(e,t,n){var i=t.pendingProps,o=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),f&&(o=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(o?Rn(t):kn(),(e=De)?(e=jf(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Kt,overflow:Vt}:null,retryLane:536870912,hydrationErrors:null},n=td(e),n.return=t,t.child=n,et=t,De=null)):e=null,e===null)throw wn(t);return cu(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,o?(kn(),o=t.mode,y=ur({mode:"hidden",children:y},o),i=Qn(i,o,n,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=Ro(n),i.childLanes=ko(e,f,n),t.memoizedState=To,qi(null,i)):(Rn(t),Oo(t,y))}var _=e.memoizedState;if(_!==null&&(y=_.dehydrated,y!==null)){if(u)t.flags&256?(Rn(t),t.flags&=-257,t=Co(e,t,n)):t.memoizedState!==null?(kn(),t.child=e.child,t.flags|=128,t=null):(kn(),y=i.fallback,o=t.mode,i=ur({mode:"visible",children:i.children},o),y=Qn(y,o,n,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,ia(t,e.child,null,n),i=t.child,i.memoizedState=Ro(n),i.childLanes=ko(e,f,n),t.memoizedState=To,t=qi(null,i));else if(Rn(t),cu(y)){if(f=y.nextSibling&&y.nextSibling.dataset,f)var C=f.dgst;f=C,i=Error(l(419)),i.stack="",i.digest=f,Ri({value:i,source:null,stack:null}),t=Co(e,t,n)}else if(Ve||Na(e,t,n,!1),f=(n&e.childLanes)!==0,Ve||f){if(f=je,f!==null&&(i=oc(f,n),i!==0&&i!==_.retryLane))throw _.retryLane=i,In(e,i),pt(f,e,i),Eo;uu(y)||vr(),t=Co(e,t,n)}else uu(y)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,De=Lt(y.nextSibling),et=t,ve=!0,Sn=null,Ut=!1,e!==null&&id(t,e),t=Oo(t,i.children),t.flags|=4096);return t}return o?(kn(),y=i.fallback,o=t.mode,_=e.child,C=_.sibling,i=Zt(_,{mode:"hidden",children:i.children}),i.subtreeFlags=_.subtreeFlags&65011712,C!==null?y=Zt(C,y):(y=Qn(y,o,n,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,qi(null,i),i=t.child,y=e.child.memoizedState,y===null?y=Ro(n):(o=y.cachePool,o!==null?(_=Ye._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=cd(),y={baseLanes:y.baseLanes|n,cachePool:o}),i.memoizedState=y,i.childLanes=ko(e,f,n),t.memoizedState=To,qi(e.child,i)):(Rn(t),n=e.child,e=n.sibling,n=Zt(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function Oo(e,t){return t=ur({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ur(e,t){return e=St(22,e,null,t),e.lanes=0,e}function Co(e,t,n){return ia(t,e.child,null,n),e=Oo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Yl(e.return,t,n)}function jo(e,t,n,i,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=n,f.tailMode=o,f.treeForkCount=u)}function Eh(e,t,n){var i=t.pendingProps,o=i.revealOrder,u=i.tail;i=i.children;var f=Ge.current,y=(f&2)!==0;if(y?(f=f&1|2,t.flags|=128):f&=1,K(Ge,f),nt(e,t,i,n),i=ve?Ti:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xh(e,n,t);else if(e.tag===19)xh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Qs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),jo(t,!1,o,n,u,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Qs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}jo(t,!0,n,null,u,i);break;case"together":jo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Na(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function No(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ps(e)))}function zp(e,t,n){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),xn(t,Ye,e.memoizedState.cache),Zn();break;case 27:case 5:di(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,no(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Rn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?wh(e,t,n):(Rn(t),e=sn(e,t,n),e!==null?e.sibling:null);Rn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Na(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return Eh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(Ge,Ge.current),i)break;return null;case 22:return t.lanes=0,ph(e,t,n,t.pendingProps);case 24:xn(t,Ye,e.memoizedState.cache)}return sn(e,t,n)}function Ah(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!No(e,n)&&(t.flags&128)===0)return Ve=!1,zp(e,t,n);Ve=(e.flags&131072)!==0}else Ve=!1,ve&&(t.flags&1048576)!==0&&ad(t,Ti,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=na(t.elementType),t.type=e,typeof e=="function")Ml(e)?(i=ra(e,i),t.tag=1,t=_h(null,t,e,i,n)):(t.tag=0,t=Ao(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===J){t.tag=11,t=fh(null,t,e,i,n);break e}else if(o===I){t.tag=14,t=mh(null,t,e,i,n);break e}}throw t=Ce(e)||e,Error(l(306,t,""))}}return t;case 0:return Ao(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=ra(i,t.pendingProps),_h(e,t,i,o,n);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var u=t.memoizedState;o=u.element,Ql(e,t),Bi(t,i,null,n);var f=t.memoizedState;if(i=f.cache,xn(t,Ye,i),i!==u.cache&&Kl(t,[Ye],n,!0),Di(),i=f.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Sh(e,t,i,n);break e}else if(i!==o){o=Nt(Error(l(424)),t),Ri(o),t=Sh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(De=Lt(e.firstChild),et=t,ve=!0,Sn=null,Ut=!0,n=pd(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Zn(),i===o){t=sn(e,t,n);break e}nt(e,t,i,n)}t=t.child}return t;case 26:return or(e,t),e===null?(n=Lf(t.type,null,t.pendingProps,null))?t.memoizedState=n:ve||(n=t.type,e=t.pendingProps,i=Ar(fe.current).createElement(n),i[Fe]=t,i[ct]=e,at(i,n,e),Qe(i),t.stateNode=i):t.memoizedState=Lf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return di(t),e===null&&ve&&(i=t.stateNode=Bf(t.type,t.pendingProps,fe.current),et=t,Ut=!0,o=De,Mn(t.type)?(du=o,De=Lt(i.firstChild)):De=o),nt(e,t,t.pendingProps.children,n),or(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((o=i=De)&&(i=my(i,t.type,t.pendingProps,Ut),i!==null?(t.stateNode=i,et=t,De=Lt(i.firstChild),Ut=!1,o=!0):o=!1),o||wn(t)),di(t),o=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,i=u.children,ru(o,u)?i=null:f!==null&&ru(o,f)&&(t.flags|=32),t.memoizedState!==null&&(o=io(e,t,Op,null,null,n),es._currentValue=o),or(e,t),nt(e,t,i,n),t.child;case 6:return e===null&&ve&&((e=n=De)&&(n=gy(n,t.pendingProps,Ut),n!==null?(t.stateNode=n,et=t,De=null,e=!0):e=!1),e||wn(t)),null;case 13:return wh(e,t,n);case 4:return ot(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ia(t,null,i,n):nt(e,t,i,n),t.child;case 11:return fh(e,t,t.type,t.pendingProps,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,xn(t,t.type,i.value),nt(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,ea(t),o=tt(o),i=i(o),t.flags|=1,nt(e,t,i,n),t.child;case 14:return mh(e,t,t.type,t.pendingProps,n);case 15:return gh(e,t,t.type,t.pendingProps,n);case 19:return Eh(e,t,n);case 31:return Lp(e,t,n);case 22:return ph(e,t,n,t.pendingProps);case 24:return ea(t),i=tt(Ye),e===null?(o=Xl(),o===null&&(o=je,u=Vl(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:i,cache:o},Il(t),xn(t,Ye,o)):((e.lanes&n)!==0&&(Ql(e,t),Bi(t,null,null,n),Di()),o=e.memoizedState,u=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),xn(t,Ye,i)):(i=u.cache,xn(t,Ye,i),i!==o.cache&&Kl(t,[Ye],n,!0))),nt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function rn(e){e.flags|=4}function Do(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Zh())e.flags|=8192;else throw aa=Ws,Jl}else e.flags&=-16777217}function Th(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$f(t))if(Zh())e.flags|=8192;else throw aa=Ws,Jl}function cr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sc():536870912,e.lanes|=t,Ya|=t)}function Hi(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function qp(e,t,n){var i=t.pendingProps;switch(Hl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),tn(Ye),He(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ja(t)?rn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$l())),Be(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(rn(t),u!==null?(Be(t),Th(t,u)):(Be(t),Do(t,o,null,i,n))):u?u!==e.memoizedState?(rn(t),Be(t),Th(t,u)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&rn(t),Be(t),Do(t,o,e,i,n)),null;case 27:if(Ss(t),n=fe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Be(t),null}e=W.current,ja(t)?sd(t):(e=Bf(o,i,n),t.stateNode=e,rn(t))}return Be(t),null;case 5:if(Ss(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Be(t),null}if(u=W.current,ja(t))sd(t);else{var f=Ar(fe.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?f.createElement("select",{is:i.is}):f.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?f.createElement(o,{is:i.is}):f.createElement(o)}}u[Fe]=t,u[ct]=i;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(at(u,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rn(t)}}return Be(t),Do(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&rn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=fe.current,ja(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=et,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Fe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||xf(e.nodeValue,n)),e||wn(t,!0)}else e=Ar(e).createTextNode(i),e[Fe]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ja(t),n!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Fe]=t}else Zn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=$l(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xt(t),t):(xt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Be(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ja(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[Fe]=t}else Zn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else o=$l(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(xt(t),t):(xt(t),null)}return xt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cr(t,t.updateQueue),Be(t),null);case 4:return He(),e===null&&tu(t.stateNode.containerInfo),Be(t),null;case 10:return tn(t.type),Be(t),null;case 19:if(M(Ge),i=t.memoizedState,i===null)return Be(t),null;if(o=(t.flags&128)!==0,u=i.rendering,u===null)if(o)Hi(i,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Qs(e),u!==null){for(t.flags|=128,Hi(i,!1),e=u.updateQueue,t.updateQueue=e,cr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ed(n,e),n=n.sibling;return K(Ge,Ge.current&1|2),ve&&Ft(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&yt()>gr&&(t.flags|=128,o=!0,Hi(i,!1),t.lanes=4194304)}else{if(!o)if(e=Qs(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,cr(t,e),Hi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!ve)return Be(t),null}else 2*yt()-i.renderingStartTime>gr&&n!==536870912&&(t.flags|=128,o=!0,Hi(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,n=Ge.current,K(Ge,o?n&1|2:n&1),ve&&Ft(t,i.treeForkCount),e):(Be(t),null);case 22:case 23:return xt(t),to(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&cr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&M(ta),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),tn(Ye),Be(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Hp(e,t){switch(Hl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(Ye),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ss(t),null;case 31:if(t.memoizedState!==null){if(xt(t),t.alternate===null)throw Error(l(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Ge),null;case 4:return He(),null;case 10:return tn(t.type),null;case 22:case 23:return xt(t),to(),e!==null&&M(ta),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return tn(Ye),null;case 25:return null;default:return null}}function Rh(e,t){switch(Hl(t),t.tag){case 3:tn(Ye),He();break;case 26:case 27:case 5:Ss(t);break;case 4:He();break;case 31:t.memoizedState!==null&&xt(t);break;case 13:xt(t);break;case 19:M(Ge);break;case 10:tn(t.type);break;case 22:case 23:xt(t),to(),e!==null&&M(ta);break;case 24:tn(Ye)}}function Gi(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var u=n.create,f=n.inst;i=u(),f.destroy=i}n=n.next}while(n!==o)}}catch(y){Ae(t,t.return,y)}}function On(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){var f=i.inst,y=f.destroy;if(y!==void 0){f.destroy=void 0,o=t;var _=n,C=y;try{C()}catch(U){Ae(o,_,U)}}}i=i.next}while(i!==u)}}catch(U){Ae(t,t.return,U)}}function kh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{vd(t,n)}catch(i){Ae(e,e.return,i)}}}function Oh(e,t,n){n.props=ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ae(e,t,i)}}function $i(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){Ae(e,t,o)}}function Wt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){Ae(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ae(e,t,o)}else n.current=null}function Ch(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){Ae(e,e.return,o)}}function Bo(e,t,n){try{var i=e.stateNode;oy(i,e.type,n,t),i[ct]=t}catch(o){Ae(e,e.return,o)}}function jh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Mn(e.type)||e.tag===4}function Uo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Mn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=It));else if(i!==4&&(i===27&&Mn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Mo(e,t,n),e=e.sibling;e!==null;)Mo(e,t,n),e=e.sibling}function dr(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Mn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(dr(e,t,n),e=e.sibling;e!==null;)dr(e,t,n),e=e.sibling}function Nh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);at(t,i,n),t[Fe]=e,t[ct]=n}catch(u){Ae(e,e.return,u)}}var ln=!1,We=!1,Lo=!1,Dh=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Gp(e,t){if(e=e.containerInfo,iu=Nr,e=Kc(e),Ol(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,y=-1,_=-1,C=0,U=0,q=e,j=null;t:for(;;){for(var N;q!==n||o!==0&&q.nodeType!==3||(y=f+o),q!==u||i!==0&&q.nodeType!==3||(_=f+i),q.nodeType===3&&(f+=q.nodeValue.length),(N=q.firstChild)!==null;)j=q,q=N;for(;;){if(q===e)break t;if(j===n&&++C===o&&(y=f),j===u&&++U===i&&(_=f),(N=q.nextSibling)!==null)break;q=j,j=q.parentNode}q=N}n=y===-1||_===-1?null:{start:y,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(su={focusedElem:e,selectionRange:n},Nr=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,i=n.stateNode;try{var X=ra(n.type,o);e=i.getSnapshotBeforeUpdate(X,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Ae(n,n.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ou(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Bh(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:un(e,n),i&4&&Gi(5,n);break;case 1:if(un(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Ae(n,n.return,f)}else{var o=ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Ae(n,n.return,f)}}i&64&&kh(n),i&512&&$i(n,n.return);break;case 3:if(un(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{vd(e,t)}catch(f){Ae(n,n.return,f)}}break;case 27:t===null&&i&4&&Nh(n);case 26:case 5:un(e,n),t===null&&i&4&&Ch(n),i&512&&$i(n,n.return);break;case 12:un(e,n);break;case 31:un(e,n),i&4&&Lh(e,n);break;case 13:un(e,n),i&4&&zh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ip.bind(null,n),py(e,n))));break;case 22:if(i=n.memoizedState!==null||ln,!i){t=t!==null&&t.memoizedState!==null||We,o=ln;var u=We;ln=i,(We=t)&&!u?cn(e,n,(n.subtreeFlags&8772)!==0):un(e,n),ln=o,We=u}break;case 30:break;default:un(e,n)}}function Uh(e){var t=e.alternate;t!==null&&(e.alternate=null,Uh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,ht=!1;function on(e,t,n){for(n=n.child;n!==null;)Mh(e,t,n),n=n.sibling}function Mh(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(hi,n)}catch{}switch(n.tag){case 26:We||Wt(n,t),on(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||Wt(n,t);var i=Ue,o=ht;Mn(n.type)&&(Ue=n.stateNode,ht=!1),on(e,t,n),Qi(n.stateNode),Ue=i,ht=o;break;case 5:We||Wt(n,t);case 6:if(i=Ue,o=ht,Ue=null,on(e,t,n),Ue=i,ht=o,Ue!==null)if(ht)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(n.stateNode)}catch(u){Ae(n,t,u)}else try{Ue.removeChild(n.stateNode)}catch(u){Ae(n,t,u)}break;case 18:Ue!==null&&(ht?(e=Ue,Of(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Za(e)):Of(Ue,n.stateNode));break;case 4:i=Ue,o=ht,Ue=n.stateNode.containerInfo,ht=!0,on(e,t,n),Ue=i,ht=o;break;case 0:case 11:case 14:case 15:On(2,n,t),We||On(4,n,t),on(e,t,n);break;case 1:We||(Wt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Oh(n,t,i)),on(e,t,n);break;case 21:on(e,t,n);break;case 22:We=(i=We)||n.memoizedState!==null,on(e,t,n),We=i;break;default:on(e,t,n)}}function Lh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(n){Ae(t,t.return,n)}}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(n){Ae(t,t.return,n)}}function $p(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Dh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Dh),t;default:throw Error(l(435,e.tag))}}function hr(e,t){var n=$p(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=Qp.bind(null,e,i);i.then(o,o)}})}function ft(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],u=e,f=t,y=f;e:for(;y!==null;){switch(y.tag){case 27:if(Mn(y.type)){Ue=y.stateNode,ht=!1;break e}break;case 5:Ue=y.stateNode,ht=!1;break e;case 3:case 4:Ue=y.stateNode.containerInfo,ht=!0;break e}y=y.return}if(Ue===null)throw Error(l(160));Mh(u,f,o),Ue=null,ht=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)qh(t,e),t=t.sibling}var Ht=null;function qh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ft(t,e),mt(e),i&4&&(On(3,e,e.return),Gi(3,e),On(5,e,e.return));break;case 1:ft(t,e),mt(e),i&512&&(We||n===null||Wt(n,n.return)),i&64&&ln&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Ht;if(ft(t,e),mt(e),i&512&&(We||n===null||Wt(n,n.return)),i&4){var u=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":u=o.getElementsByTagName("title")[0],(!u||u[gi]||u[Fe]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(i),o.head.insertBefore(u,o.querySelector("head > title"))),at(u,i,n),u[Fe]=e,Qe(u),i=u;break e;case"link":var f=Hf("link","href",o).get(i+(n.href||""));if(f){for(var y=0;y<f.length;y++)if(u=f[y],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(y,1);break t}}u=o.createElement(i),at(u,i,n),o.head.appendChild(u);break;case"meta":if(f=Hf("meta","content",o).get(i+(n.content||""))){for(y=0;y<f.length;y++)if(u=f[y],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(y,1);break t}}u=o.createElement(i),at(u,i,n),o.head.appendChild(u);break;default:throw Error(l(468,i))}u[Fe]=e,Qe(u),i=u}e.stateNode=i}else Gf(o,e.type,e.stateNode);else e.stateNode=qf(o,i,e.memoizedProps);else u!==i?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,i===null?Gf(o,e.type,e.stateNode):qf(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Bo(e,e.memoizedProps,n.memoizedProps)}break;case 27:ft(t,e),mt(e),i&512&&(We||n===null||Wt(n,n.return)),n!==null&&i&4&&Bo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ft(t,e),mt(e),i&512&&(We||n===null||Wt(n,n.return)),e.flags&32){o=e.stateNode;try{Sa(o,"")}catch(X){Ae(e,e.return,X)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Bo(e,o,n!==null?n.memoizedProps:o)),i&1024&&(Lo=!0);break;case 6:if(ft(t,e),mt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(X){Ae(e,e.return,X)}}break;case 3:if(kr=null,o=Ht,Ht=Tr(t.containerInfo),ft(t,e),Ht=o,mt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Za(t.containerInfo)}catch(X){Ae(e,e.return,X)}Lo&&(Lo=!1,Hh(e));break;case 4:i=Ht,Ht=Tr(e.stateNode.containerInfo),ft(t,e),mt(e),Ht=i;break;case 12:ft(t,e),mt(e);break;case 31:ft(t,e),mt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hr(e,i)));break;case 13:ft(t,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(mr=yt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hr(e,i)));break;case 22:o=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,C=ln,U=We;if(ln=C||o,We=U||_,ft(t,e),We=U,ln=C,mt(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||_||ln||We||la(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(u=_.stateNode,o)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=_.stateNode;var q=_.memoizedProps.style,j=q!=null&&q.hasOwnProperty("display")?q.display:null;y.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(X){Ae(_,_.return,X)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(X){Ae(_,_.return,X)}}}else if(t.tag===18){if(n===null){_=t;try{var N=_.stateNode;o?Cf(N,!0):Cf(_.stateNode,!1)}catch(X){Ae(_,_.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,hr(e,n))));break;case 19:ft(t,e),mt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hr(e,i)));break;case 30:break;case 21:break;default:ft(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(jh(i)){n=i;break}i=i.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,u=Uo(e);dr(e,u,o);break;case 5:var f=n.stateNode;n.flags&32&&(Sa(f,""),n.flags&=-33);var y=Uo(e);dr(e,y,f);break;case 3:case 4:var _=n.stateNode.containerInfo,C=Uo(e);Mo(e,C,_);break;default:throw Error(l(161))}}catch(U){Ae(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function un(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bh(e,t.alternate,t),t=t.sibling}function la(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:On(4,t,t.return),la(t);break;case 1:Wt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Oh(t,t.return,n),la(t);break;case 27:Qi(t.stateNode);case 26:case 5:Wt(t,t.return),la(t);break;case 22:t.memoizedState===null&&la(t);break;case 30:la(t);break;default:la(t)}e=e.sibling}}function cn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:cn(o,u,n),Gi(4,u);break;case 1:if(cn(o,u,n),i=u,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(C){Ae(i,i.return,C)}if(i=u,o=i.updateQueue,o!==null){var y=i.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)yd(_[o],y)}catch(C){Ae(i,i.return,C)}}n&&f&64&&kh(u),$i(u,u.return);break;case 27:Nh(u);case 26:case 5:cn(o,u,n),n&&i===null&&f&4&&Ch(u),$i(u,u.return);break;case 12:cn(o,u,n);break;case 31:cn(o,u,n),n&&f&4&&Lh(o,u);break;case 13:cn(o,u,n),n&&f&4&&zh(o,u);break;case 22:u.memoizedState===null&&cn(o,u,n),$i(u,u.return);break;case 30:break;default:cn(o,u,n)}t=t.sibling}}function zo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ki(n))}function qo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ki(e))}function Gt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gh(e,t,n,i),t=t.sibling}function Gh(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Gt(e,t,n,i),o&2048&&Gi(9,t);break;case 1:Gt(e,t,n,i);break;case 3:Gt(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ki(e)));break;case 12:if(o&2048){Gt(e,t,n,i),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,y=u.onPostCommit;typeof y=="function"&&y(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ae(t,t.return,_)}}else Gt(e,t,n,i);break;case 31:Gt(e,t,n,i);break;case 13:Gt(e,t,n,i);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?Gt(e,t,n,i):Pi(e,t):u._visibility&2?Gt(e,t,n,i):(u._visibility|=2,Ga(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&zo(f,t);break;case 24:Gt(e,t,n,i),o&2048&&qo(t.alternate,t);break;default:Gt(e,t,n,i)}}function Ga(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,y=n,_=i,C=f.flags;switch(f.tag){case 0:case 11:case 15:Ga(u,f,y,_,o),Gi(8,f);break;case 23:break;case 22:var U=f.stateNode;f.memoizedState!==null?U._visibility&2?Ga(u,f,y,_,o):Pi(u,f):(U._visibility|=2,Ga(u,f,y,_,o)),o&&C&2048&&zo(f.alternate,f);break;case 24:Ga(u,f,y,_,o),o&&C&2048&&qo(f.alternate,f);break;default:Ga(u,f,y,_,o)}t=t.sibling}}function Pi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:Pi(n,i),o&2048&&zo(i.alternate,i);break;case 24:Pi(n,i),o&2048&&qo(i.alternate,i);break;default:Pi(n,i)}t=t.sibling}}var Yi=8192;function $a(e,t,n){if(e.subtreeFlags&Yi)for(e=e.child;e!==null;)$h(e,t,n),e=e.sibling}function $h(e,t,n){switch(e.tag){case 26:$a(e,t,n),e.flags&Yi&&e.memoizedState!==null&&ky(n,Ht,e.memoizedState,e.memoizedProps);break;case 5:$a(e,t,n);break;case 3:case 4:var i=Ht;Ht=Tr(e.stateNode.containerInfo),$a(e,t,n),Ht=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Yi,Yi=16777216,$a(e,t,n),Yi=i):$a(e,t,n));break;default:$a(e,t,n)}}function Ph(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ze=i,Kh(i,e)}Ph(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yh(e),e=e.sibling}function Yh(e){switch(e.tag){case 0:case 11:case 15:Ki(e),e.flags&2048&&On(9,e,e.return);break;case 3:Ki(e);break;case 12:Ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fr(e)):Ki(e);break;default:Ki(e)}}function fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ze=i,Kh(i,e)}Ph(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:On(8,t,t.return),fr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,fr(t));break;default:fr(t)}e=e.sibling}}function Kh(e,t){for(;Ze!==null;){var n=Ze;switch(n.tag){case 0:case 11:case 15:On(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ki(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ze=i;else e:for(n=e;Ze!==null;){i=Ze;var o=i.sibling,u=i.return;if(Uh(i),i===n){Ze=null;break e}if(o!==null){o.return=u,Ze=o;break e}Ze=u}}}var Pp={getCacheForType:function(e){var t=tt(Ye),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return tt(Ye).controller.signal}},Yp=typeof WeakMap=="function"?WeakMap:Map,we=0,je=null,me=null,pe=0,Ee=0,Et=null,Cn=!1,Pa=!1,Ho=!1,dn=0,ze=0,jn=0,oa=0,Go=0,At=0,Ya=0,Vi=null,gt=null,$o=!1,mr=0,Vh=0,gr=1/0,pr=null,Nn=null,Je=0,Dn=null,Ka=null,hn=0,Po=0,Yo=null,Wh=null,Wi=0,Ko=null;function Tt(){return(we&2)!==0&&pe!==0?pe&-pe:B.T!==null?Qo():uc()}function Xh(){if(At===0)if((pe&536870912)===0||ve){var e=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),At=e}else At=536870912;return e=wt.current,e!==null&&(e.flags|=32),At}function pt(e,t,n){(e===je&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Bn(e,pe,At,!1)),mi(e,n),((we&2)===0||e!==je)&&(e===je&&((we&2)===0&&(oa|=n),ze===4&&Bn(e,pe,At,!1)),Xt(e))}function Jh(e,t,n){if((we&6)!==0)throw Error(l(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||fi(e,t),o=i?Wp(e,t):Wo(e,t,!0),u=i;do{if(o===0){Pa&&!i&&Bn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!Kp(n)){o=Wo(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var y=e;o=Vi;var _=y.current.memoizedState.isDehydrated;if(_&&(Va(y,f).flags|=256),f=Wo(y,f,!1),f!==2){if(Ho&&!_){y.errorRecoveryDisabledLanes|=u,oa|=u,o=4;break e}u=gt,gt=o,u!==null&&(gt===null?gt=u:gt.push.apply(gt,u))}o=f}if(u=!1,o!==2)continue}}if(o===1){Va(e,0),Bn(e,t,0,!0);break}e:{switch(i=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Bn(i,t,At,!Cn);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=mr+300-yt(),10<o)){if(Bn(i,t,At,!Cn),Ts(i,0,!0)!==0)break e;hn=t,i.timeoutHandle=Rf(Ih.bind(null,i,n,gt,pr,$o,t,At,oa,Ya,Cn,u,"Throttled",-0,0),o);break e}Ih(i,n,gt,pr,$o,t,At,oa,Ya,Cn,u,null,-0,0)}}break}while(!0);Xt(e)}function Ih(e,t,n,i,o,u,f,y,_,C,U,q,j,N){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It},$h(t,u,q);var X=(u&62914560)===u?mr-yt():(u&4194048)===u?Vh-yt():0;if(X=Oy(q,X),X!==null){hn=u,e.cancelPendingCommit=X(sf.bind(null,e,t,u,n,i,o,f,y,_,U,q,null,j,N)),Bn(e,u,f,!C);return}}sf(e,t,u,n,i,o,f,y,_)}function Kp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],u=o.getSnapshot;o=o.value;try{if(!_t(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bn(e,t,n,i){t&=~Go,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var u=31-bt(o),f=1<<u;i[u]=-1,o&=~f}n!==0&&rc(e,n,t)}function yr(){return(we&6)===0?(Xi(0),!1):!0}function Vo(){if(me!==null){if(Ee===0)var e=me.return;else e=me,en=Fn=null,lo(e),Ma=null,Ci=0,e=me;for(;e!==null;)Rh(e.alternate,e),e=e.return;me=null}}function Va(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,dy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),hn=0,Vo(),je=e,me=n=Zt(e.current,null),pe=t,Ee=0,Et=null,Cn=!1,Pa=fi(e,t),Ho=!1,Ya=At=Go=oa=jn=ze=0,gt=Vi=null,$o=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-bt(i),u=1<<o;t|=e[o],i&=~u}return dn=t,zs(),n}function Qh(e,t){ce=null,B.H=zi,t===Ua||t===Vs?(t=fd(),Ee=3):t===Jl?(t=fd(),Ee=4):Ee=t===Eo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,me===null&&(ze=1,rr(e,Nt(t,e.current)))}function Zh(){var e=wt.current;return e===null?!0:(pe&4194048)===pe?Mt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===Mt:!1}function Fh(){var e=B.H;return B.H=zi,e===null?zi:e}function ef(){var e=B.A;return B.A=Pp,e}function vr(){ze=4,Cn||(pe&4194048)!==pe&&wt.current!==null||(Pa=!0),(jn&134217727)===0&&(oa&134217727)===0||je===null||Bn(je,pe,At,!1)}function Wo(e,t,n){var i=we;we|=2;var o=Fh(),u=ef();(je!==e||pe!==t)&&(pr=null,Va(e,t)),t=!1;var f=ze;e:do try{if(Ee!==0&&me!==null){var y=me,_=Et;switch(Ee){case 8:Vo(),f=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(t=!0);var C=Ee;if(Ee=0,Et=null,Wa(e,y,_,C),n&&Pa){f=0;break e}break;default:C=Ee,Ee=0,Et=null,Wa(e,y,_,C)}}Vp(),f=ze;break}catch(U){Qh(e,U)}while(!0);return t&&e.shellSuspendCounter++,en=Fn=null,we=i,B.H=o,B.A=u,me===null&&(je=null,pe=0,zs()),f}function Vp(){for(;me!==null;)tf(me)}function Wp(e,t){var n=we;we|=2;var i=Fh(),o=ef();je!==e||pe!==t?(pr=null,gr=yt()+500,Va(e,t)):Pa=fi(e,t);e:do try{if(Ee!==0&&me!==null){t=me;var u=Et;t:switch(Ee){case 1:Ee=0,Et=null,Wa(e,t,u,1);break;case 2:case 9:if(dd(u)){Ee=0,Et=null,nf(t);break}t=function(){Ee!==2&&Ee!==9||je!==e||(Ee=7),Xt(e)},u.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:dd(u)?(Ee=0,Et=null,nf(t)):(Ee=0,Et=null,Wa(e,t,u,7));break;case 5:var f=null;switch(me.tag){case 26:f=me.memoizedState;case 5:case 27:var y=me;if(f?$f(f):y.stateNode.complete){Ee=0,Et=null;var _=y.sibling;if(_!==null)me=_;else{var C=y.return;C!==null?(me=C,br(C)):me=null}break t}}Ee=0,Et=null,Wa(e,t,u,5);break;case 6:Ee=0,Et=null,Wa(e,t,u,6);break;case 8:Vo(),ze=6;break e;default:throw Error(l(462))}}Xp();break}catch(U){Qh(e,U)}while(!0);return en=Fn=null,B.H=i,B.A=o,we=n,me!==null?0:(je=null,pe=0,zs(),ze)}function Xp(){for(;me!==null&&!yg();)tf(me)}function tf(e){var t=Ah(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?br(e):me=t}function nf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=bh(n,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=bh(n,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:lo(t);default:Rh(n,t),t=me=ed(t,dn),t=Ah(n,t,dn)}e.memoizedProps=e.pendingProps,t===null?br(e):me=t}function Wa(e,t,n,i){en=Fn=null,lo(t),Ma=null,Ci=0;var o=t.return;try{if(Mp(e,o,t,n,pe)){ze=1,rr(e,Nt(n,e.current)),me=null;return}}catch(u){if(o!==null)throw me=o,u;ze=1,rr(e,Nt(n,e.current)),me=null;return}t.flags&32768?(ve||i===1?e=!0:Pa||(pe&536870912)!==0?e=!1:(Cn=e=!0,(i===2||i===9||i===3||i===6)&&(i=wt.current,i!==null&&i.tag===13&&(i.flags|=16384))),af(t,e)):br(t)}function br(e){var t=e;do{if((t.flags&32768)!==0){af(t,Cn);return}e=t.return;var n=qp(t.alternate,t,dn);if(n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);ze===0&&(ze=5)}function af(e,t){do{var n=Hp(e.alternate,e);if(n!==null){n.flags&=32767,me=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=n}while(e!==null);ze=6,me=null}function sf(e,t,n,i,o,u,f,y,_){e.cancelPendingCommit=null;do _r();while(Je!==0);if((we&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Bl,Rg(e,n,u,f,y,_),e===je&&(me=je=null,pe=0),Ka=t,Dn=e,hn=n,Po=u,Yo=o,Wh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Zp(ws,function(){return cf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null,o=D.p,D.p=2,f=we,we|=4;try{Gp(e,t,n)}finally{we=f,D.p=o,B.T=i}}Je=1,rf(),lf(),of()}}function rf(){if(Je===1){Je=0;var e=Dn,t=Ka,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var i=D.p;D.p=2;var o=we;we|=4;try{qh(t,e);var u=su,f=Kc(e.containerInfo),y=u.focusedElem,_=u.selectionRange;if(f!==y&&y&&y.ownerDocument&&Yc(y.ownerDocument.documentElement,y)){if(_!==null&&Ol(y)){var C=_.start,U=_.end;if(U===void 0&&(U=C),"selectionStart"in y)y.selectionStart=C,y.selectionEnd=Math.min(U,y.value.length);else{var q=y.ownerDocument||document,j=q&&q.defaultView||window;if(j.getSelection){var N=j.getSelection(),X=y.textContent.length,ae=Math.min(_.start,X),ke=_.end===void 0?ae:Math.min(_.end,X);!N.extend&&ae>ke&&(f=ke,ke=ae,ae=f);var R=Pc(y,ae),E=Pc(y,ke);if(R&&E&&(N.rangeCount!==1||N.anchorNode!==R.node||N.anchorOffset!==R.offset||N.focusNode!==E.node||N.focusOffset!==E.offset)){var O=q.createRange();O.setStart(R.node,R.offset),N.removeAllRanges(),ae>ke?(N.addRange(O),N.extend(E.node,E.offset)):(O.setEnd(E.node,E.offset),N.addRange(O))}}}}for(q=[],N=y;N=N.parentNode;)N.nodeType===1&&q.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<q.length;y++){var z=q[y];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Nr=!!iu,su=iu=null}finally{we=o,D.p=i,B.T=n}}e.current=t,Je=2}}function lf(){if(Je===2){Je=0;var e=Dn,t=Ka,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var i=D.p;D.p=2;var o=we;we|=4;try{Bh(e,t.alternate,t)}finally{we=o,D.p=i,B.T=n}}Je=3}}function of(){if(Je===4||Je===3){Je=0,vg();var e=Dn,t=Ka,n=hn,i=Wh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Je=5:(Je=0,Ka=Dn=null,uf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Nn=null),cl(n),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(hi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=B.T,o=D.p,D.p=2,B.T=null;try{for(var u=e.onRecoverableError,f=0;f<i.length;f++){var y=i[f];u(y.value,{componentStack:y.stack})}}finally{B.T=t,D.p=o}}(hn&3)!==0&&_r(),Xt(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Ko?Wi++:(Wi=0,Ko=e):Wi=0,Xi(0)}}function uf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ki(t)))}function _r(){return rf(),lf(),of(),cf()}function cf(){if(Je!==5)return!1;var e=Dn,t=Po;Po=0;var n=cl(hn),i=B.T,o=D.p;try{D.p=32>n?32:n,B.T=null,n=Yo,Yo=null;var u=Dn,f=hn;if(Je=0,Ka=Dn=null,hn=0,(we&6)!==0)throw Error(l(331));var y=we;if(we|=4,Yh(u.current),Gh(u,u.current,f,n),we=y,Xi(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(hi,u)}catch{}return!0}finally{D.p=o,B.T=i,uf(e,t)}}function df(e,t,n){t=Nt(n,t),t=xo(e.stateNode,t,2),e=Tn(e,t,2),e!==null&&(mi(e,2),Xt(e))}function Ae(e,t,n){if(e.tag===3)df(e,e,n);else for(;t!==null;){if(t.tag===3){df(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Nn===null||!Nn.has(i))){e=Nt(n,e),n=dh(2),i=Tn(t,n,2),i!==null&&(hh(n,i,t,e),mi(i,2),Xt(i));break}}t=t.return}}function Xo(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Yp;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(Ho=!0,o.add(n),e=Jp.bind(null,e,t,n),t.then(e,e))}function Jp(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,je===e&&(pe&n)===n&&(ze===4||ze===3&&(pe&62914560)===pe&&300>yt()-mr?(we&2)===0&&Va(e,0):Go|=n,Ya===pe&&(Ya=0)),Xt(e)}function hf(e,t){t===0&&(t=sc()),e=In(e,t),e!==null&&(mi(e,t),Xt(e))}function Ip(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hf(e,n)}function Qp(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),hf(e,n)}function Zp(e,t){return rl(e,t)}var Sr=null,Xa=null,Jo=!1,wr=!1,Io=!1,Un=0;function Xt(e){e!==Xa&&e.next===null&&(Xa===null?Sr=Xa=e:Xa=Xa.next=e),wr=!0,Jo||(Jo=!0,ey())}function Xi(e,t){if(!Io&&wr){Io=!0;do for(var n=!1,i=Sr;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var u=0;else{var f=i.suspendedLanes,y=i.pingedLanes;u=(1<<31-bt(42|e)+1)-1,u&=o&~(f&~y),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,pf(i,u))}else u=pe,u=Ts(i,i===je?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||fi(i,u)||(n=!0,pf(i,u));i=i.next}while(n);Io=!1}}function Fp(){ff()}function ff(){wr=Jo=!1;var e=0;Un!==0&&cy()&&(e=Un);for(var t=yt(),n=null,i=Sr;i!==null;){var o=i.next,u=mf(i,t);u===0?(i.next=null,n===null?Sr=o:n.next=o,o===null&&(Xa=n)):(n=i,(e!==0||(u&3)!==0)&&(wr=!0)),i=o}Je!==0&&Je!==5||Xi(e),Un!==0&&(Un=0)}function mf(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-bt(u),y=1<<f,_=o[f];_===-1?((y&n)===0||(y&i)!==0)&&(o[f]=Tg(y,t)):_<=t&&(e.expiredLanes|=y),u&=~y}if(t=je,n=pe,n=Ts(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&ll(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||fi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&ll(i),cl(n)){case 2:case 8:n=ac;break;case 32:n=ws;break;case 268435456:n=ic;break;default:n=ws}return i=gf.bind(null,e),n=rl(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&ll(i),e.callbackPriority=2,e.callbackNode=null,2}function gf(e,t){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_r()&&e.callbackNode!==n)return null;var i=pe;return i=Ts(e,e===je?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Jh(e,i,t),mf(e,yt()),e.callbackNode!=null&&e.callbackNode===n?gf.bind(null,e):null)}function pf(e,t){if(_r())return null;Jh(e,t,!0)}function ey(){hy(function(){(we&6)!==0?rl(nc,Fp):ff()})}function Qo(){if(Un===0){var e=Da;e===0&&(e=xs,xs<<=1,(xs&261888)===0&&(xs=256)),Un=e}return Un}function yf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cs(""+e)}function vf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ty(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var u=yf((o[ct]||null).action),f=i.submitter;f&&(t=(t=f[ct]||null)?yf(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var y=new Bs("action","action",null,i,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Un!==0){var _=f?vf(o,f):new FormData(o);yo(n,{pending:!0,data:_,method:o.method,action:u},null,_)}}else typeof u=="function"&&(y.preventDefault(),_=f?vf(o,f):new FormData(o),yo(n,{pending:!0,data:_,method:o.method,action:u},u,_))},currentTarget:o}]})}}for(var Zo=0;Zo<Dl.length;Zo++){var Fo=Dl[Zo],ny=Fo.toLowerCase(),ay=Fo[0].toUpperCase()+Fo.slice(1);qt(ny,"on"+ay)}qt(Xc,"onAnimationEnd"),qt(Jc,"onAnimationIteration"),qt(Ic,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(bp,"onTransitionRun"),qt(_p,"onTransitionStart"),qt(Sp,"onTransitionCancel"),qt(Qc,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ji));function bf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var f=i.length-1;0<=f;f--){var y=i[f],_=y.instance,C=y.currentTarget;if(y=y.listener,_!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=C;try{u(o)}catch(U){Ls(U)}o.currentTarget=null,u=_}else for(f=0;f<i.length;f++){if(y=i[f],_=y.instance,C=y.currentTarget,y=y.listener,_!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=C;try{u(o)}catch(U){Ls(U)}o.currentTarget=null,u=_}}}}function ge(e,t){var n=t[dl];n===void 0&&(n=t[dl]=new Set);var i=e+"__bubble";n.has(i)||(_f(t,e,2,!1),n.add(i))}function eu(e,t,n){var i=0;t&&(i|=4),_f(n,e,i,t)}var xr="_reactListening"+Math.random().toString(36).slice(2);function tu(e){if(!e[xr]){e[xr]=!0,hc.forEach(function(n){n!=="selectionchange"&&(iy.has(n)||eu(n,!1,e),eu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xr]||(t[xr]=!0,eu("selectionchange",!1,t))}}function _f(e,t,n,i){switch(Jf(t)){case 2:var o=Ny;break;case 8:o=Dy;break;default:o=pu}n=o.bind(null,t,n,e),o=void 0,!_l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function nu(e,t,n,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var y=i.stateNode.containerInfo;if(y===o)break;if(f===4)for(f=i.return;f!==null;){var _=f.tag;if((_===3||_===4)&&f.stateNode.containerInfo===o)return;f=f.return}for(;y!==null;){if(f=pa(y),f===null)return;if(_=f.tag,_===5||_===6||_===26||_===27){i=u=f;continue e}y=y.parentNode}}i=i.return}Ec(function(){var C=u,U=vl(n),q=[];e:{var j=Zc.get(e);if(j!==void 0){var N=Bs,X=e;switch(e){case"keypress":if(Ns(n)===0)break e;case"keydown":case"keyup":N=Qg;break;case"focusin":X="focus",N=El;break;case"focusout":X="blur",N=El;break;case"beforeblur":case"afterblur":N=El;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=ep;break;case Xc:case Jc:case Ic:N=$g;break;case Qc:N=np;break;case"scroll":case"scrollend":N=Lg;break;case"wheel":N=ip;break;case"copy":case"cut":case"paste":N=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Oc;break;case"toggle":case"beforetoggle":N=rp}var ae=(t&4)!==0,ke=!ae&&(e==="scroll"||e==="scrollend"),R=ae?j!==null?j+"Capture":null:j;ae=[];for(var E=C,O;E!==null;){var z=E;if(O=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||O===null||R===null||(z=yi(E,R),z!=null&&ae.push(Ii(E,z,O))),ke)break;E=E.return}0<ae.length&&(j=new N(j,X,null,n,U),q.push({event:j,listeners:ae}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",j&&n!==yl&&(X=n.relatedTarget||n.fromElement)&&(pa(X)||X[ga]))break e;if((N||j)&&(j=U.window===U?U:(j=U.ownerDocument)?j.defaultView||j.parentWindow:window,N?(X=n.relatedTarget||n.toElement,N=C,X=X?pa(X):null,X!==null&&(ke=d(X),ae=X.tag,X!==ke||ae!==5&&ae!==27&&ae!==6)&&(X=null)):(N=null,X=C),N!==X)){if(ae=Rc,z="onMouseLeave",R="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Oc,z="onPointerLeave",R="onPointerEnter",E="pointer"),ke=N==null?j:pi(N),O=X==null?j:pi(X),j=new ae(z,E+"leave",N,n,U),j.target=ke,j.relatedTarget=O,z=null,pa(U)===C&&(ae=new ae(R,E+"enter",X,n,U),ae.target=O,ae.relatedTarget=ke,z=ae),ke=z,N&&X)t:{for(ae=sy,R=N,E=X,O=0,z=R;z;z=ae(z))O++;z=0;for(var te=E;te;te=ae(te))z++;for(;0<O-z;)R=ae(R),O--;for(;0<z-O;)E=ae(E),z--;for(;O--;){if(R===E||E!==null&&R===E.alternate){ae=R;break t}R=ae(R),E=ae(E)}ae=null}else ae=null;N!==null&&Sf(q,j,N,ae,!1),X!==null&&ke!==null&&Sf(q,ke,X,ae,!0)}}e:{if(j=C?pi(C):window,N=j.nodeName&&j.nodeName.toLowerCase(),N==="select"||N==="input"&&j.type==="file")var _e=Lc;else if(Uc(j))if(zc)_e=pp;else{_e=mp;var Q=fp}else N=j.nodeName,!N||N.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?C&&pl(C.elementType)&&(_e=Lc):_e=gp;if(_e&&(_e=_e(e,C))){Mc(q,_e,n,U);break e}Q&&Q(e,j,C),e==="focusout"&&C&&j.type==="number"&&C.memoizedProps.value!=null&&gl(j,"number",j.value)}switch(Q=C?pi(C):window,e){case"focusin":(Uc(Q)||Q.contentEditable==="true")&&(Aa=Q,Cl=C,Ai=null);break;case"focusout":Ai=Cl=Aa=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,Vc(q,n,U);break;case"selectionchange":if(vp)break;case"keydown":case"keyup":Vc(q,n,U)}var de;if(Tl)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Ea?Dc(e,n)&&(ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ye="onCompositionStart");ye&&(Cc&&n.locale!=="ko"&&(Ea||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Ea&&(de=Ac()):(bn=U,Sl="value"in bn?bn.value:bn.textContent,Ea=!0)),Q=Er(C,ye),0<Q.length&&(ye=new kc(ye,e,null,n,U),q.push({event:ye,listeners:Q}),de?ye.data=de:(de=Bc(n),de!==null&&(ye.data=de)))),(de=op?up(e,n):cp(e,n))&&(ye=Er(C,"onBeforeInput"),0<ye.length&&(Q=new kc("onBeforeInput","beforeinput",null,n,U),q.push({event:Q,listeners:ye}),Q.data=de)),ty(q,e,C,n,U)}bf(q,t)})}function Ii(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Er(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=yi(e,n),o!=null&&i.unshift(Ii(e,o,u)),o=yi(e,t),o!=null&&i.push(Ii(e,o,u))),e.tag===3)return i;e=e.return}return[]}function sy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sf(e,t,n,i,o){for(var u=t._reactName,f=[];n!==null&&n!==i;){var y=n,_=y.alternate,C=y.stateNode;if(y=y.tag,_!==null&&_===i)break;y!==5&&y!==26&&y!==27||C===null||(_=C,o?(C=yi(n,u),C!=null&&f.unshift(Ii(n,C,_))):o||(C=yi(n,u),C!=null&&f.push(Ii(n,C,_)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var ry=/\r\n?/g,ly=/\u0000|\uFFFD/g;function wf(e){return(typeof e=="string"?e:""+e).replace(ry,`
`).replace(ly,"")}function xf(e,t){return t=wf(t),wf(e)===t}function Re(e,t,n,i,o,u){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Sa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Sa(e,""+i);break;case"className":ks(e,"class",i);break;case"tabIndex":ks(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ks(e,n,i);break;case"style":wc(e,i,u);break;case"data":if(t!=="object"){ks(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Cs(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Re(e,t,"name",o.name,o,null),Re(e,t,"formEncType",o.formEncType,o,null),Re(e,t,"formMethod",o.formMethod,o,null),Re(e,t,"formTarget",o.formTarget,o,null)):(Re(e,t,"encType",o.encType,o,null),Re(e,t,"method",o.method,o,null),Re(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Cs(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=It);break;case"onScroll":i!=null&&ge("scroll",e);break;case"onScrollEnd":i!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Cs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ge("beforetoggle",e),ge("toggle",e),Rs(e,"popover",i);break;case"xlinkActuate":Jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Jt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Jt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Jt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Jt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Rs(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ug.get(n)||n,Rs(e,n,i))}}function au(e,t,n,i,o,u){switch(n){case"style":wc(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Sa(e,i):(typeof i=="number"||typeof i=="bigint")&&Sa(e,""+i);break;case"onScroll":i!=null&&ge("scroll",e);break;case"onScrollEnd":i!=null&&ge("scrollend",e);break;case"onClick":i!=null&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[ct]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof i=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Rs(e,n,i)}}}function at(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var i=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var f=n[u];if(f!=null)switch(u){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Re(e,t,u,f,n,null)}}o&&Re(e,t,"srcSet",n.srcSet,n,null),i&&Re(e,t,"src",n.src,n,null);return;case"input":ge("invalid",e);var y=u=f=o=null,_=null,C=null;for(i in n)if(n.hasOwnProperty(i)){var U=n[i];if(U!=null)switch(i){case"name":o=U;break;case"type":f=U;break;case"checked":_=U;break;case"defaultChecked":C=U;break;case"value":u=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:Re(e,t,i,U,n,null)}}vc(e,u,y,_,C,f,o,!1);return;case"select":ge("invalid",e),i=f=u=null;for(o in n)if(n.hasOwnProperty(o)&&(y=n[o],y!=null))switch(o){case"value":u=y;break;case"defaultValue":f=y;break;case"multiple":i=y;default:Re(e,t,o,y,n,null)}t=u,n=f,e.multiple=!!i,t!=null?_a(e,!!i,t,!1):n!=null&&_a(e,!!i,n,!0);return;case"textarea":ge("invalid",e),u=o=i=null;for(f in n)if(n.hasOwnProperty(f)&&(y=n[f],y!=null))switch(f){case"value":i=y;break;case"defaultValue":o=y;break;case"children":u=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:Re(e,t,f,y,n,null)}_c(e,i,o,u);return;case"option":for(_ in n)if(n.hasOwnProperty(_)&&(i=n[_],i!=null))switch(_){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Re(e,t,_,i,n,null)}return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(i=0;i<Ji.length;i++)ge(Ji[i],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in n)if(n.hasOwnProperty(C)&&(i=n[C],i!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Re(e,t,C,i,n,null)}return;default:if(pl(t)){for(U in n)n.hasOwnProperty(U)&&(i=n[U],i!==void 0&&au(e,t,U,i,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(i=n[y],i!=null&&Re(e,t,y,i,n,null))}function oy(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,f=null,y=null,_=null,C=null,U=null;for(N in n){var q=n[N];if(n.hasOwnProperty(N)&&q!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":_=q;default:i.hasOwnProperty(N)||Re(e,t,N,null,i,q)}}for(var j in i){var N=i[j];if(q=n[j],i.hasOwnProperty(j)&&(N!=null||q!=null))switch(j){case"type":u=N;break;case"name":o=N;break;case"checked":C=N;break;case"defaultChecked":U=N;break;case"value":f=N;break;case"defaultValue":y=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,t));break;default:N!==q&&Re(e,t,j,N,i,q)}}ml(e,f,y,_,C,U,u,o);return;case"select":N=f=y=j=null;for(u in n)if(_=n[u],n.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":N=_;default:i.hasOwnProperty(u)||Re(e,t,u,null,i,_)}for(o in i)if(u=i[o],_=n[o],i.hasOwnProperty(o)&&(u!=null||_!=null))switch(o){case"value":j=u;break;case"defaultValue":y=u;break;case"multiple":f=u;default:u!==_&&Re(e,t,o,u,i,_)}t=y,n=f,i=N,j!=null?_a(e,!!n,j,!1):!!i!=!!n&&(t!=null?_a(e,!!n,t,!0):_a(e,!!n,n?[]:"",!1));return;case"textarea":N=j=null;for(y in n)if(o=n[y],n.hasOwnProperty(y)&&o!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Re(e,t,y,null,i,o)}for(f in i)if(o=i[f],u=n[f],i.hasOwnProperty(f)&&(o!=null||u!=null))switch(f){case"value":j=o;break;case"defaultValue":N=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&Re(e,t,f,o,i,u)}bc(e,j,N);return;case"option":for(var X in n)if(j=n[X],n.hasOwnProperty(X)&&j!=null&&!i.hasOwnProperty(X))switch(X){case"selected":e.selected=!1;break;default:Re(e,t,X,null,i,j)}for(_ in i)if(j=i[_],N=n[_],i.hasOwnProperty(_)&&j!==N&&(j!=null||N!=null))switch(_){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Re(e,t,_,j,i,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in n)j=n[ae],n.hasOwnProperty(ae)&&j!=null&&!i.hasOwnProperty(ae)&&Re(e,t,ae,null,i,j);for(C in i)if(j=i[C],N=n[C],i.hasOwnProperty(C)&&j!==N&&(j!=null||N!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,t));break;default:Re(e,t,C,j,i,N)}return;default:if(pl(t)){for(var ke in n)j=n[ke],n.hasOwnProperty(ke)&&j!==void 0&&!i.hasOwnProperty(ke)&&au(e,t,ke,void 0,i,j);for(U in i)j=i[U],N=n[U],!i.hasOwnProperty(U)||j===N||j===void 0&&N===void 0||au(e,t,U,j,i,N);return}}for(var R in n)j=n[R],n.hasOwnProperty(R)&&j!=null&&!i.hasOwnProperty(R)&&Re(e,t,R,null,i,j);for(q in i)j=i[q],N=n[q],!i.hasOwnProperty(q)||j===N||j==null&&N==null||Re(e,t,q,j,i,N)}function Ef(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],u=o.transferSize,f=o.initiatorType,y=o.duration;if(u&&y&&Ef(f)){for(f=0,y=o.responseEnd,i+=1;i<n.length;i++){var _=n[i],C=_.startTime;if(C>y)break;var U=_.transferSize,q=_.initiatorType;U&&Ef(q)&&(_=_.responseEnd,f+=U*(_<y?1:(y-C)/(_-C)))}if(--i,t+=8*(u+f)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var iu=null,su=null;function Ar(e){return e.nodeType===9?e:e.ownerDocument}function Af(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lu=null;function cy(){var e=window.event;return e&&e.type==="popstate"?e===lu?!1:(lu=e,!0):(lu=null,!1)}var Rf=typeof setTimeout=="function"?setTimeout:void 0,dy=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(e){return kf.resolve(null).then(e).catch(fy)}:Rf;function fy(e){setTimeout(function(){throw e})}function Mn(e){return e==="head"}function Of(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),Za(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Qi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Qi(n);for(var u=n.firstChild;u;){var f=u.nextSibling,y=u.nodeName;u[gi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=f}}else n==="body"&&Qi(e.ownerDocument.body);n=o}while(n);Za(t)}function Cf(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function ou(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ou(n),hl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function my(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[gi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function gy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Lt(e.nextSibling),e===null))return null;return e}function jf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Lt(e.nextSibling),e===null))return null;return e}function uu(e){return e.data==="$?"||e.data==="$~"}function cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function py(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var du=null;function Nf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Lt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Bf(e,t,n){switch(t=Ar(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Qi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hl(e)}var zt=new Map,Uf=new Set;function Tr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fn=D.d;D.d={f:yy,r:vy,D:by,C:_y,L:Sy,m:wy,X:Ey,S:xy,M:Ay};function yy(){var e=fn.f(),t=yr();return e||t}function vy(e){var t=ya(e);t!==null&&t.tag===5&&t.type==="form"?Qd(t):fn.r(e)}var Ja=typeof document>"u"?null:document;function Mf(e,t,n){var i=Ja;if(i&&typeof t=="string"&&t){var o=Ct(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Uf.has(o)||(Uf.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),at(t,"link",e),Qe(t),i.head.appendChild(t)))}}function by(e){fn.D(e),Mf("dns-prefetch",e,null)}function _y(e,t){fn.C(e,t),Mf("preconnect",e,t)}function Sy(e,t,n){fn.L(e,t,n);var i=Ja;if(i&&e&&t){var o='link[rel="preload"][as="'+Ct(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Ct(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Ct(n.imageSizes)+'"]')):o+='[href="'+Ct(e)+'"]';var u=o;switch(t){case"style":u=Ia(e);break;case"script":u=Qa(e)}zt.has(u)||(e=x({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),zt.set(u,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(Zi(u))||t==="script"&&i.querySelector(Fi(u))||(t=i.createElement("link"),at(t,"link",e),Qe(t),i.head.appendChild(t)))}}function wy(e,t){fn.m(e,t);var n=Ja;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ct(i)+'"][href="'+Ct(e)+'"]',u=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Qa(e)}if(!zt.has(u)&&(e=x({rel:"modulepreload",href:e},t),zt.set(u,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fi(u)))return}i=n.createElement("link"),at(i,"link",e),Qe(i),n.head.appendChild(i)}}}function xy(e,t,n){fn.S(e,t,n);var i=Ja;if(i&&e){var o=va(i).hoistableStyles,u=Ia(e);t=t||"default";var f=o.get(u);if(!f){var y={loading:0,preload:null};if(f=i.querySelector(Zi(u)))y.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zt.get(u))&&hu(e,n);var _=f=i.createElement("link");Qe(_),at(_,"link",e),_._p=new Promise(function(C,U){_.onload=C,_.onerror=U}),_.addEventListener("load",function(){y.loading|=1}),_.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Rr(f,t,i)}f={type:"stylesheet",instance:f,count:1,state:y},o.set(u,f)}}}function Ey(e,t){fn.X(e,t);var n=Ja;if(n&&e){var i=va(n).hoistableScripts,o=Qa(e),u=i.get(o);u||(u=n.querySelector(Fi(o)),u||(e=x({src:e,async:!0},t),(t=zt.get(o))&&fu(e,t),u=n.createElement("script"),Qe(u),at(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function Ay(e,t){fn.M(e,t);var n=Ja;if(n&&e){var i=va(n).hoistableScripts,o=Qa(e),u=i.get(o);u||(u=n.querySelector(Fi(o)),u||(e=x({src:e,async:!0,type:"module"},t),(t=zt.get(o))&&fu(e,t),u=n.createElement("script"),Qe(u),at(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function Lf(e,t,n,i){var o=(o=fe.current)?Tr(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ia(n.href),n=va(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ia(n.href);var u=va(o).hoistableStyles,f=u.get(e);if(f||(o=o.ownerDocument||o,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=o.querySelector(Zi(e)))&&!u._p&&(f.instance=u,f.state.loading=5),zt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zt.set(e,n),u||Ty(o,e,n,f.state))),t&&i===null)throw Error(l(528,""));return f}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Qa(n),n=va(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ia(e){return'href="'+Ct(e)+'"'}function Zi(e){return'link[rel="stylesheet"]['+e+"]"}function zf(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Ty(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),at(t,"link",n),Qe(t),e.head.appendChild(t))}function Qa(e){return'[src="'+Ct(e)+'"]'}function Fi(e){return"script[async]"+e}function qf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ct(n.href)+'"]');if(i)return t.instance=i,Qe(i),i;var o=x({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Qe(i),at(i,"style",o),Rr(i,n.precedence,e),t.instance=i;case"stylesheet":o=Ia(n.href);var u=e.querySelector(Zi(o));if(u)return t.state.loading|=4,t.instance=u,Qe(u),u;i=zf(n),(o=zt.get(o))&&hu(i,o),u=(e.ownerDocument||e).createElement("link"),Qe(u);var f=u;return f._p=new Promise(function(y,_){f.onload=y,f.onerror=_}),at(u,"link",i),t.state.loading|=4,Rr(u,n.precedence,e),t.instance=u;case"script":return u=Qa(n.src),(o=e.querySelector(Fi(u)))?(t.instance=o,Qe(o),o):(i=n,(o=zt.get(u))&&(i=x({},n),fu(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),Qe(o),at(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Rr(i,n.precedence,e));return t.instance}function Rr(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,u=o,f=0;f<i.length;f++){var y=i[f];if(y.dataset.precedence===t)u=y;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var kr=null;function Hf(e,t,n){if(kr===null){var i=new Map,o=kr=new Map;o.set(n,i)}else o=kr,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[gi]||u[Fe]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var y=i.get(f);y?y.push(u):i.set(f,[u])}}return i}function Gf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ry(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $f(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ky(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Ia(i.href),u=t.querySelector(Zi(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Or.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Qe(u);return}u=t.ownerDocument||t,i=zf(i),(o=zt.get(o))&&hu(i,o),u=u.createElement("link"),Qe(u);var f=u;f._p=new Promise(function(y,_){f.onload=y,f.onerror=_}),at(u,"link",i),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Or.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var mu=0;function Oy(e,t){return e.stylesheets&&e.count===0&&jr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&jr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&mu===0&&(mu=62500*uy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>mu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Or(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cr=null;function jr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cr=new Map,t.forEach(Cy,e),Cr=null,Or.call(e))}function Cy(e,t){if(!(t.state.loading&4)){var n=Cr.get(e);if(n)var i=n.get(null);else{n=new Map,Cr.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var f=o[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),i=f)}i&&n.set(null,i)}o=t.instance,f=o.getAttribute("data-precedence"),u=n.get(f)||i,u===i&&n.set(null,o),n.set(f,o),this.count++,i=Or.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var es={$$typeof:G,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function jy(e,t,n,i,o,u,f,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ol(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.hiddenUpdates=ol(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Pf(e,t,n,i,o,u,f,y,_,C,U,q){return e=new jy(e,t,n,f,_,C,U,q,y),t=1,u===!0&&(t|=24),u=St(3,null,null,t),e.current=u,u.stateNode=e,t=Vl(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:n,cache:t},Il(u),e}function Yf(e){return e?(e=ka,e):ka}function Kf(e,t,n,i,o,u){o=Yf(o),i.context===null?i.context=o:i.pendingContext=o,i=An(t),i.payload={element:n},u=u===void 0?null:u,u!==null&&(i.callback=u),n=Tn(e,i,t),n!==null&&(pt(n,e,t),Ni(n,e,t))}function Vf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gu(e,t){Vf(e,t),(e=e.alternate)&&Vf(e,t)}function Wf(e){if(e.tag===13||e.tag===31){var t=In(e,67108864);t!==null&&pt(t,e,67108864),gu(e,67108864)}}function Xf(e){if(e.tag===13||e.tag===31){var t=Tt();t=ul(t);var n=In(e,t);n!==null&&pt(n,e,t),gu(e,t)}}var Nr=!0;function Ny(e,t,n,i){var o=B.T;B.T=null;var u=D.p;try{D.p=2,pu(e,t,n,i)}finally{D.p=u,B.T=o}}function Dy(e,t,n,i){var o=B.T;B.T=null;var u=D.p;try{D.p=8,pu(e,t,n,i)}finally{D.p=u,B.T=o}}function pu(e,t,n,i){if(Nr){var o=yu(i);if(o===null)nu(e,t,i,Dr,n),If(e,i);else if(Uy(o,e,t,n,i))i.stopPropagation();else if(If(e,i),t&4&&-1<By.indexOf(e)){for(;o!==null;){var u=ya(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=Kn(u.pendingLanes);if(f!==0){var y=u;for(y.pendingLanes|=2,y.entangledLanes|=2;f;){var _=1<<31-bt(f);y.entanglements[1]|=_,f&=~_}Xt(u),(we&6)===0&&(gr=yt()+500,Xi(0))}}break;case 31:case 13:y=In(u,2),y!==null&&pt(y,u,2),yr(),gu(u,2)}if(u=yu(i),u===null&&nu(e,t,i,Dr,n),u===o)break;o=u}o!==null&&i.stopPropagation()}else nu(e,t,i,null,n)}}function yu(e){return e=vl(e),vu(e)}var Dr=null;function vu(e){if(Dr=null,e=pa(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Dr=e,null}function Jf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bg()){case nc:return 2;case ac:return 8;case ws:case _g:return 32;case ic:return 268435456;default:return 32}default:return 32}}var bu=!1,Ln=null,zn=null,qn=null,ts=new Map,ns=new Map,Hn=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function If(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(t.pointerId)}}function as(e,t,n,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=ya(t),t!==null&&Wf(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Uy(e,t,n,i,o){switch(t){case"focusin":return Ln=as(Ln,e,t,n,i,o),!0;case"dragenter":return zn=as(zn,e,t,n,i,o),!0;case"mouseover":return qn=as(qn,e,t,n,i,o),!0;case"pointerover":var u=o.pointerId;return ts.set(u,as(ts.get(u)||null,e,t,n,i,o)),!0;case"gotpointercapture":return u=o.pointerId,ns.set(u,as(ns.get(u)||null,e,t,n,i,o)),!0}return!1}function Qf(e){var t=pa(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,cc(e.priority,function(){Xf(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,cc(e.priority,function(){Xf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Br(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);yl=i,n.target.dispatchEvent(i),yl=null}else return t=ya(n),t!==null&&Wf(t),e.blockedOn=n,!1;t.shift()}return!0}function Zf(e,t,n){Br(e)&&n.delete(t)}function My(){bu=!1,Ln!==null&&Br(Ln)&&(Ln=null),zn!==null&&Br(zn)&&(zn=null),qn!==null&&Br(qn)&&(qn=null),ts.forEach(Zf),ns.forEach(Zf)}function Ur(e,t){e.blockedOn===t&&(e.blockedOn=null,bu||(bu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,My)))}var Mr=null;function Ff(e){Mr!==e&&(Mr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mr===e&&(Mr=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(vu(i||n)===null)continue;break}var u=ya(n);u!==null&&(e.splice(t,3),t-=3,yo(u,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function Za(e){function t(_){return Ur(_,e)}Ln!==null&&Ur(Ln,e),zn!==null&&Ur(zn,e),qn!==null&&Ur(qn,e),ts.forEach(t),ns.forEach(t);for(var n=0;n<Hn.length;n++){var i=Hn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)Qf(n),n.blockedOn===null&&Hn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],f=o[ct]||null;if(typeof u=="function")f||Ff(n);else if(f){var y=null;if(u&&u.hasAttribute("formAction")){if(o=u,f=u[ct]||null)y=f.formAction;else if(vu(o)!==null)continue}else y=f.action;typeof y=="function"?n[i+1]=y:(n.splice(i,3),i-=3),Ff(n)}}}function em(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return o=f})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function _u(e){this._internalRoot=e}Lr.prototype.render=_u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,i=Tt();Kf(n,i,e,t,null,null)},Lr.prototype.unmount=_u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kf(e.current,2,null,e,null,null),yr(),t[ga]=null}};function Lr(e){this._internalRoot=e}Lr.prototype.unstable_scheduleHydration=function(e){if(e){var t=uc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&Qf(e)}};var tm=a.version;if(tm!=="19.2.4")throw Error(l(527,tm,"19.2.4"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Ly={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zr.isDisabled&&zr.supportsFiber)try{hi=zr.inject(Ly),vt=zr}catch{}}return ss.createRoot=function(e,t){if(!c(e))throw Error(l(299));var n=!1,i="",o=lh,u=oh,f=uh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Pf(e,1,!1,null,null,n,i,null,o,u,f,em),e[ga]=t.current,tu(e),new _u(t)},ss.hydrateRoot=function(e,t,n){if(!c(e))throw Error(l(299));var i=!1,o="",u=lh,f=oh,y=uh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Pf(e,1,!0,t,n??null,i,o,_,u,f,y,em),t.context=Yf(null),n=t.current,i=Tt(),i=ul(i),o=An(i),o.callback=null,Tn(n,o,i),n=i,t.current.lanes=n,mi(t,n),Xt(t),e[ga]=t.current,tu(e),new Lr(t)},ss.version="19.2.4",ss}var dm;function Xy(){if(dm)return xu.exports;dm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),xu.exports=Wy(),xu.exports}var Jy=Xy();const Iy=Jm(Jy);function Qr(s,a){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(r[l[c]]=s[l[c]]);return r}function Qy(s,a,r,l){function c(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function m(b){try{p(l.next(b))}catch(x){h(x)}}function g(b){try{p(l.throw(b))}catch(x){h(x)}}function p(b){b.done?d(b.value):c(b.value).then(m,g)}p((l=l.apply(s,a||[])).next())})}const Zy=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class Iu extends Error{constructor(a,r="FunctionsError",l){super(a),this.name=r,this.context=l}}class Fy extends Iu{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class hm extends Iu{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class fm extends Iu{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Uu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Uu||(Uu={}));class e0{constructor(a,{headers:r={},customFetch:l,region:c=Uu.Any}={}){this.url=a,this.headers=r,this.region=c,this.fetch=Zy(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Qy(this,arguments,void 0,function*(r,l={}){var c;let d,h;try{const{headers:m,method:g,body:p,signal:b,timeout:x}=l;let w={},{region:A}=l;A||(A=this.region);const k=new URL(`${this.url}/${r}`);A&&A!=="any"&&(w["x-region"]=A,k.searchParams.set("forceFunctionRegion",A));let T;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(w["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(w["Content-Type"]="application/json",T=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?T=JSON.stringify(p):T=p;let L=b;x&&(h=new AbortController,d=setTimeout(()=>h.abort(),x),b?(L=h.signal,b.addEventListener("abort",()=>h.abort())):L=h.signal);const H=yield this.fetch(k.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:T,signal:L}).catch(ne=>{throw new Fy(ne)}),$=H.headers.get("x-relay-error");if($&&$==="true")throw new hm(H);if(!H.ok)throw new fm(H);let G=((c=H.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),J;return G==="application/json"?J=yield H.json():G==="application/octet-stream"||G==="application/pdf"?J=yield H.blob():G==="text/event-stream"?J=H:G==="multipart/form-data"?J=yield H.formData():J=yield H.text(),{data:J,error:null,response:H}}catch(m){return{data:null,error:m,response:m instanceof fm||m instanceof hm?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var t0=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},n0=class{constructor(s){var a,r,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(l=s.urlLengthLimit)!==null&&l!==void 0?l:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let h=null,m=null,g=null,p=d.status,b=d.statusText;if(d.ok){var x,w;if(r.method!=="HEAD"){var A;const H=await d.text();H===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((A=r.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?m=H:m=JSON.parse(H))}const T=(x=r.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),L=(w=d.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&L&&L.length>1&&(g=parseInt(L[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,p=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var k;const T=await d.text();try{h=JSON.parse(T),Array.isArray(h)&&d.status===404&&(m=[],h=null,p=200,b="OK")}catch{d.status===404&&T===""?(p=204,b="No Content"):h={message:T}}if(h&&r.isMaybeSingle&&(!(h==null||(k=h.details)===null||k===void 0)&&k.includes("0 rows"))&&(h=null,p=200,b="OK"),h&&r.shouldThrowOnError)throw new t0(h)}return{error:h,data:m,count:g,status:p,statusText:b}});return this.shouldThrowOnError||(c=c.catch(d=>{var h;let m="",g="",p="";const b=d==null?void 0:d.cause;if(b){var x,w,A,k;const H=(x=b==null?void 0:b.message)!==null&&x!==void 0?x:"",$=(w=b==null?void 0:b.code)!==null&&w!==void 0?w:"";m=`${(A=d==null?void 0:d.name)!==null&&A!==void 0?A:"FetchError"}: ${d==null?void 0:d.message}`,m+=`

Caused by: ${(k=b==null?void 0:b.name)!==null&&k!==void 0?k:"Error"}: ${H}`,$&&(m+=` (${$})`),b!=null&&b.stack&&(m+=`
${b.stack}`)}else{var T;m=(T=d==null?void 0:d.stack)!==null&&T!==void 0?T:""}const L=this.url.toString().length;return(d==null?void 0:d.name)==="AbortError"||(d==null?void 0:d.code)==="ABORT_ERR"?(p="",g="Request was aborted (timeout or manual cancellation)",L>this.urlLengthLimit&&(g+=`. Note: Your request URL is ${L} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((b==null?void 0:b.name)==="HeadersOverflowError"||(b==null?void 0:b.code)==="UND_ERR_HEADERS_OVERFLOW")&&(p="",g="HTTP headers exceeded server limits (typically 16KB)",L>this.urlLengthLimit&&(g+=`. Your request URL is ${L} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:m,hint:g,code:p},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}},a0=class extends n0{select(s){let a=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:r,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${s}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:r=a}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:r,referencedTable:l=r}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(d,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:r=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var h;const m=[s?"analyze":null,a?"verbose":null,r?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const mm=new RegExp("[,()]");var ii=class extends a0{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&mm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}notIn(s,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&mm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${r})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:r,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${c}fts${d}.${a}`),this}match(s){return Object.entries(s).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(s,a,r){return this.url.searchParams.append(s,`not.${a}.${r}`),this}or(s,{foreignTable:a,referencedTable:r=a}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,r){return this.url.searchParams.append(s,`${a}.${r}`),this}},i0=class{constructor(s,{headers:a={},schema:r,fetch:l,urlLengthLimit:c=8e3}){this.url=s,this.headers=new Headers(a),this.schema=r,this.fetch=l,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,a){const{head:r=!1,count:l}=a??{},c=r?"HEAD":"GET";let d=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",h),l&&g.append("Prefer",`count=${l}`),new ii({method:c,url:m,headers:g,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:a,defaultToNull:r=!0}={}){var l;const c="POST",{url:d,headers:h}=this.cloneRequestState();if(a&&h.append("Prefer",`count=${a}`),r||h.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(m.length>0){const g=[...new Set(m)].map(p=>`"${p}"`);d.searchParams.set("columns",g.join(","))}}return new ii({method:c,url:d,headers:h,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:a,ignoreDuplicates:r=!1,count:l,defaultToNull:c=!0}={}){var d;const h="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),l&&g.append("Prefer",`count=${l}`),c||g.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(p.length>0){const b=[...new Set(p)].map(x=>`"${x}"`);m.searchParams.set("columns",b.join(","))}}return new ii({method:h,url:m,headers:g,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:a}={}){var r;const l="PATCH",{url:c,headers:d}=this.cloneRequestState();return a&&d.append("Prefer",`count=${a}`),new ii({method:l,url:c,headers:d,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var a;const r="DELETE",{url:l,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new ii({method:r,url:l,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function cs(s){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},cs(s)}function s0(s,a){if(cs(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,a);if(cs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function r0(s){var a=s0(s,"string");return cs(a)=="symbol"?a:a+""}function l0(s,a,r){return(a=r0(a))in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}function gm(s,a){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,l)}return r}function qr(s){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?gm(Object(r),!0).forEach(function(l){l0(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):gm(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}var o0=class Im{constructor(a,{headers:r={},schema:l,fetch:c,timeout:d,urlLengthLimit:h=8e3}={}){this.url=a,this.headers=new Headers(r),this.schemaName=l,this.urlLengthLimit=h;const m=c??globalThis.fetch;d!==void 0&&d>0?this.fetch=(g,p)=>{const b=new AbortController,x=setTimeout(()=>b.abort(),d),w=p==null?void 0:p.signal;if(w){if(w.aborted)return clearTimeout(x),m(g,p);const A=()=>{clearTimeout(x),b.abort()};return w.addEventListener("abort",A,{once:!0}),m(g,qr(qr({},p),{},{signal:b.signal})).finally(()=>{clearTimeout(x),w.removeEventListener("abort",A)})}return m(g,qr(qr({},p),{},{signal:b.signal})).finally(()=>clearTimeout(x))}:this.fetch=m}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new i0(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new Im(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,r={},{head:l=!1,get:c=!1,count:d}={}){var h;let m;const g=new URL(`${this.url}/rpc/${a}`);let p;const b=A=>A!==null&&typeof A=="object"&&(!Array.isArray(A)||A.some(b)),x=l&&Object.values(r).some(b);x?(m="POST",p=r):l||c?(m=l?"HEAD":"GET",Object.entries(r).filter(([A,k])=>k!==void 0).map(([A,k])=>[A,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([A,k])=>{g.searchParams.append(A,k)})):(m="POST",p=r);const w=new Headers(this.headers);return x?w.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&w.set("Prefer",`count=${d}`),new ii({method:m,url:g,headers:w,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class u0{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const c=l.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const l=this.getWebSocketConstructor();return new l(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const c0="2.98.0",d0=`realtime-js/${c0}`,h0="1.0.0",Qm="2.0.0",pm=Qm,Mu=1e4,f0=1e3,m0=100;var $n;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})($n||($n={}));var Ie;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ie||(Ie={}));var Yt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Yt||(Yt={}));var Lu;(function(s){s.websocket="websocket"})(Lu||(Lu={}));var ha;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ha||(ha={}));class g0{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,l;const c=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var r,l;const c=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,r,l){var c,d;const h=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",g=(d=a.join_ref)!==null&&d!==void 0?d:"",p=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},x=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+h.length+p.length+x.length,A=new ArrayBuffer(this.HEADER_LENGTH+w);let k=new DataView(A),T=0;k.setUint8(T++,this.KINDS.userBroadcastPush),k.setUint8(T++,g.length),k.setUint8(T++,m.length),k.setUint8(T++,h.length),k.setUint8(T++,p.length),k.setUint8(T++,x.length),k.setUint8(T++,r),Array.from(g,H=>k.setUint8(T++,H.charCodeAt(0))),Array.from(m,H=>k.setUint8(T++,H.charCodeAt(0))),Array.from(h,H=>k.setUint8(T++,H.charCodeAt(0))),Array.from(p,H=>k.setUint8(T++,H.charCodeAt(0))),Array.from(x,H=>k.setUint8(T++,H.charCodeAt(0)));var L=new Uint8Array(A.byteLength+l.byteLength);return L.set(new Uint8Array(A),0),L.set(new Uint8Array(l),A.byteLength),L.buffer}decode(a,r){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return r(l)}if(typeof a=="string"){const l=JSON.parse(a),[c,d,h,m,g]=l;return r({join_ref:c,ref:d,topic:h,event:m,payload:g})}return r({})}_binaryDecode(a){const r=new DataView(a),l=r.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,r,c)}}_decodeUserBroadcast(a,r,l){const c=r.getUint8(1),d=r.getUint8(2),h=r.getUint8(3),m=r.getUint8(4);let g=this.HEADER_LENGTH+4;const p=l.decode(a.slice(g,g+c));g=g+c;const b=l.decode(a.slice(g,g+d));g=g+d;const x=l.decode(a.slice(g,g+h));g=g+h;const w=a.slice(g,a.byteLength),A=m===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,k={type:this.BROADCAST_EVENT,event:b,payload:A};return h>0&&(k.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a==null?void 0:a.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>r.includes(l)))}}class Zm{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ne||(Ne={}));const ym=(s,a,r={})=>{var l;const c=(l=r.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((d,h)=>(d[h]=p0(h,s,a,c),d),{}):{}},p0=(s,a,r,l)=>{const c=a.find(m=>m.name===s),d=c==null?void 0:c.type,h=r[s];return d&&!l.includes(d)?Fm(d,h):zu(h)},Fm=(s,a)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return _0(a,r)}switch(s){case Ne.bool:return y0(a);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return v0(a);case Ne.json:case Ne.jsonb:return b0(a);case Ne.timestamp:return S0(a);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return zu(a);default:return zu(a)}},zu=s=>s,y0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},v0=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},b0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},_0=(s,a)=>{if(typeof s!="string")return s;const r=s.length-1,l=s[r];if(s[0]==="{"&&l==="}"){let d;const h=s.slice(1,r);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>Fm(a,m))}return s},S0=s=>typeof s=="string"?s.replace(" ","T"):s,eg=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Ru{constructor(a,r,l={},c=Mu){this.channel=a,this.event=r,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var l;return this._hasReceived(a)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var vm;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(vm||(vm={}));class os{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=os.syncState(this.state,c,d,h),this.pendingDiffs.forEach(g=>{this.state=os.syncDiff(this.state,g,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=os.syncDiff(this.state,c,d,h),m())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,l,c){const d=this.cloneDeep(a),h=this.transformState(r),m={},g={};return this.map(d,(p,b)=>{h[p]||(g[p]=b)}),this.map(h,(p,b)=>{const x=d[p];if(x){const w=b.map(L=>L.presence_ref),A=x.map(L=>L.presence_ref),k=b.filter(L=>A.indexOf(L.presence_ref)<0),T=x.filter(L=>w.indexOf(L.presence_ref)<0);k.length>0&&(m[p]=k),T.length>0&&(g[p]=T)}else m[p]=b}),this.syncDiff(d,{joins:m,leaves:g},l,c)}static syncDiff(a,r,l,c){const{joins:d,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var p;const b=(p=a[m])!==null&&p!==void 0?p:[];if(a[m]=this.cloneDeep(g),b.length>0){const x=a[m].map(A=>A.presence_ref),w=b.filter(A=>x.indexOf(A.presence_ref)<0);a[m].unshift(...w)}l(m,b,g)}),this.map(h,(m,g)=>{let p=a[m];if(!p)return;const b=g.map(x=>x.presence_ref);p=p.filter(x=>b.indexOf(x.presence_ref)<0),a[m]=p,c(m,p,g),p.length===0&&delete a[m]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(l=>r(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,l)=>{const c=a[l];return"metas"in c?r[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[l]=c,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bm;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(bm||(bm={}));var us;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(us||(us={}));var gn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(gn||(gn={}));class li{constructor(a,r={config:{}},l){var c,d;if(this.topic=a,this.params=r,this.socket=l,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ru(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Zm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new os(this),this.broadcastEndpointURL=eg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,p=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(A=>A.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[us.PRESENCE]&&this.bindings[us.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(A=>a==null?void 0:a(gn.CHANNEL_ERROR,A)),this._onClose(()=>a==null?void 0:a(gn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:A})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){a==null||a(gn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,L=(k=T==null?void 0:T.length)!==null&&k!==void 0?k:0,H=[];for(let $=0;$<L;$++){const G=T[$],{filter:{event:J,schema:ne,table:re,filter:I}}=G,be=A&&A[$];if(be&&be.event===J&&li.isFilterValueEqual(be.schema,ne)&&li.isFilterValueEqual(be.table,re)&&li.isFilterValueEqual(be.filter,I))H.push(Object.assign(Object.assign({},G),{id:be.id}));else{this.unsubscribe(),this.state=Ie.errored,a==null||a(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,a&&a(gn.SUBSCRIBED);return}}).receive("error",A=>{this.state=Ie.errored,a==null||a(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,l){return this.state===Ie.joined&&a===us.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,l)}async httpSend(a,r,l={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(a,r={}){var l,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,g;const p=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ie.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Ru(this,Yt.leave,{},a),l.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(a,r,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(d),h}_push(a,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Ru(this,a,r,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>m0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,l){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,l){var c,d;const h=a.toLocaleLowerCase(),{close:m,error:g,leave:p,join:b}=Yt;if(l&&[m,g,p,b].indexOf(h)>=0&&l!==this._joinRef())return;let w=this._onMessage(h,r,l);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(A=>{var k,T,L;return((k=A.filter)===null||k===void 0?void 0:k.event)==="*"||((L=(T=A.filter)===null||T===void 0?void 0:T.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===h}).map(A=>A.callback(w,l)):(d=this.bindings[h])===null||d===void 0||d.filter(A=>{var k,T,L,H,$,G;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in A){const J=A.id,ne=(k=A.filter)===null||k===void 0?void 0:k.event;return J&&((T=r.ids)===null||T===void 0?void 0:T.includes(J))&&(ne==="*"||(ne==null?void 0:ne.toLocaleLowerCase())===((L=r.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const J=($=(H=A==null?void 0:A.filter)===null||H===void 0?void 0:H.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return J==="*"||J===((G=r==null?void 0:r.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===h}).map(A=>{if(typeof w=="object"&&"ids"in w){const k=w.data,{schema:T,table:L,commit_timestamp:H,type:$,errors:G}=k;w=Object.assign(Object.assign({},{schema:T,table:L,commit_timestamp:H,eventType:$,new:{},old:{},errors:G}),this._getPayloadRecords(k))}A.callback(w,l)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,l){const c=a.toLocaleLowerCase(),d={type:c,filter:r,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,r){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&li.isEqual(c.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Yt.close,{},a)}_onError(a){this._on(Yt.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=ym(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=ym(a.columns,a.old_record)),r}}const ku=()=>{},Hr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w0=[1e3,2e3,5e3,1e4],x0=1e4,E0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class A0{constructor(a,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mu,this.transport=null,this.heartbeatIntervalMs=Hr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ku,this.ref=0,this.reconnectTimer=null,this.vsn=pm,this.logger=ku,this.conn=null,this.sendBuffer=[],this.serializer=new g0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((l=r==null?void 0:r.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Lu.websocket}`,this.httpEndpoint=eg(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=u0.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,l){this.logger(a,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return ha.Connecting;case $n.open:return ha.Open;case $n.closing:return ha.Closing;default:return ha.Closed}}isConnected(){return this.connectionState()===ha.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const l=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new li(`realtime:${a}`,r,this);return this.channels.push(d),d}}push(a){const{topic:r,event:l,payload:c,ref:d}=a,h=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${l} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(f0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:d,ref:h}=r,m=h?`(${h})`:"",g=d.status||"";this.log("receive",`${g} ${l} ${c} ${m}`.trim(),d),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(c,d,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===$n.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$n.open||this.conn.readyState===$n.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(r=>{r.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(r=>{r._isJoining()&&(r.joinPush.sent=!1,r.joinPush.send())})),this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Yt.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const l=a.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${a}${l}${c}`}_workerObjectUrl(a){let r;if(a)r=a;else{const l=new Blob([E0],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,l=!1;if(a)r=a,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const d={access_token:r,version:d0};r&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(Yt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(r)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Zm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,l,c,d,h,m,g,p,b,x,w,A;switch(this.transport=(r=a==null?void 0:a.transport)!==null&&r!==void 0?r:null,this.timeout=(l=a==null?void 0:a.timeout)!==null&&l!==void 0?l:Mu,this.heartbeatIntervalMs=(c=a==null?void 0:a.heartbeatIntervalMs)!==null&&c!==void 0?c:Hr.HEARTBEAT_INTERVAL,this.worker=(d=a==null?void 0:a.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=a==null?void 0:a.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=a==null?void 0:a.heartbeatCallback)!==null&&m!==void 0?m:ku,this.vsn=(g=a==null?void 0:a.vsn)!==null&&g!==void 0?g:pm,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a==null?void 0:a.reconnectAfterMs)!==null&&p!==void 0?p:(k=>w0[k-1]||x0),this.vsn){case h0:this.encode=(b=a==null?void 0:a.encode)!==null&&b!==void 0?b:((k,T)=>T(JSON.stringify(k))),this.decode=(x=a==null?void 0:a.decode)!==null&&x!==void 0?x:((k,T)=>T(JSON.parse(k)));break;case Qm:this.encode=(w=a==null?void 0:a.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(A=a==null?void 0:a.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}var ds=class extends Error{constructor(s,a){var r;super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((r=a.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function T0(s,a,r){const l=new URL(a,s);if(r)for(const[c,d]of Object.entries(r))d!==void 0&&l.searchParams.set(c,d);return l.toString()}async function R0(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function k0(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:c,body:d,headers:h}){const m=T0(s.baseUrl,l,c),g=await R0(s.auth),p=await a(m,{method:r,headers:{...d?{"Content-Type":"application/json"}:{},...g,...h},body:d?JSON.stringify(d):void 0}),b=await p.text(),x=(p.headers.get("content-type")||"").includes("application/json"),w=x&&b?JSON.parse(b):b;if(!p.ok){const A=x?w:void 0,k=A==null?void 0:A.error;throw new ds((k==null?void 0:k.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:A})}return{status:p.status,headers:p.headers,data:w}}}}function Gr(s){return s.join("")}var O0=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:Gr(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,a){const r={namespace:s.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gr(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gr(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gr(s.namespace)}`}),!0}catch(a){if(a instanceof ds&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(r){if(r instanceof ds&&r.status===409)return;throw r}}};function Fa(s){return s.join("")}var C0=class{constructor(s,a="",r){this.client=s,this.prefix=a,this.accessDelegation=r}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(s,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fa(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(r){if(r instanceof ds&&r.status===404)return!1;throw r}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(r){if(r instanceof ds&&r.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw r}}},j0=class{constructor(s){var l;let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const r=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=k0({baseUrl:r,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(l=s.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new O0(this.client,a),this.tableOps=new C0(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},Zr=class extends Error{constructor(s,a="storage",r,l){super(s),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=l}};function Fr(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var $r=class extends Zr{constructor(s,a,r,l="storage"){super(s,l,a,r),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tg=class extends Zr{constructor(s,a,r="storage"){super(s,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const N0=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),D0=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},qu=s=>{if(Array.isArray(s))return s.map(r=>qu(r));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([r,l])=>{const c=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=qu(l)}),a},B0=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function hs(s){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},hs(s)}function U0(s,a){if(hs(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,a);if(hs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function M0(s){var a=U0(s,"string");return hs(a)=="symbol"?a:a+""}function L0(s,a,r){return(a=M0(a))in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}function _m(s,a){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,l)}return r}function ie(s){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?_m(Object(r),!0).forEach(function(l){L0(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):_m(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const Sm=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},z0=async(s,a,r,l)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(r!=null&&r.noResolveJson)){const c=s,d=c.status||500;if(typeof c.json=="function")c.json().then(h=>{const m=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||d+"";a(new $r(Sm(h),d,m,l))}).catch(()=>{if(l==="vectors"){const h=d+"";a(new $r(c.statusText||`HTTP ${d} error`,d,h,l))}else{const h=d+"";a(new $r(c.statusText||`HTTP ${d} error`,d,h,l))}});else{const h=d+"";a(new $r(c.statusText||`HTTP ${d} error`,d,h,l))}}else a(new tg(Sm(s),s,l))},q0=(s,a,r,l)=>{const c={method:s,headers:(a==null?void 0:a.headers)||{}};return s==="GET"||s==="HEAD"||!l?ie(ie({},c),r):(D0(l)?(c.headers=ie({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(l)):c.body=l,a!=null&&a.duplex&&(c.duplex=a.duplex),ie(ie({},c),r))};async function rs(s,a,r,l,c,d,h){return new Promise((m,g)=>{s(r,q0(a,l,c,d)).then(p=>{if(!p.ok)throw p;if(l!=null&&l.noResolveJson)return p;if(h==="vectors"){const b=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!b||!b.includes("application/json"))return{}}return p.json()}).then(p=>m(p)).catch(p=>z0(p,g,l,h))})}function ng(s="storage"){return{get:async(a,r,l,c)=>rs(a,"GET",r,l,c,void 0,s),post:async(a,r,l,c,d)=>rs(a,"POST",r,c,d,l,s),put:async(a,r,l,c,d)=>rs(a,"PUT",r,c,d,l,s),head:async(a,r,l,c)=>rs(a,"HEAD",r,ie(ie({},l),{},{noResolveJson:!0}),c,void 0,s),remove:async(a,r,l,c,d)=>rs(a,"DELETE",r,c,d,l,s)}}const H0=ng("storage"),{get:fs,post:Pt,put:Hu,head:G0,remove:Qu}=H0,kt=ng("vectors");var ci=class{constructor(s,a={},r,l="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.fetch=N0(r),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=ie(ie({},this.headers),{},{[s]:a}),this}async handleOperation(s){var a=this;try{return{data:await s(),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Fr(r))return{data:null,error:r};throw r}}},$0=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Fr(a))return{data:null,error:a};throw a}}};let ag;ag=Symbol.toStringTag;var P0=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[ag]="BlobDownloadBuilder",this.promise=null}asStream(){return new $0(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Fr(a))return{data:null,error:a};throw a}}};const Y0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var K0=class extends ci{constructor(s,a={},r,l){super(s,a,l,"storage"),this.bucketId=r}async uploadOrUpdate(s,a,r,l){var c=this;return c.handleOperation(async()=>{let d;const h=ie(ie({},wm),l);let m=ie(ie({},c.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",c.encodeMetadata(g)),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),g&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(g))):(d=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),l!=null&&l.headers&&(m=ie(ie({},m),l.headers));const p=c._removeEmptyFolders(a),b=c._getFinalPath(p),x=await(s=="PUT"?Hu:Pt)(c.fetch,`${c.url}/object/${b}`,d,ie({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:p,id:x.Id,fullPath:x.Key}})}async upload(s,a,r){return this.uploadOrUpdate("POST",s,a,r)}async uploadToSignedUrl(s,a,r,l){var c=this;const d=c._removeEmptyFolders(s),h=c._getFinalPath(d),m=new URL(c.url+`/object/upload/sign/${h}`);return m.searchParams.set("token",a),c.handleOperation(async()=>{let g;const p=ie({upsert:wm.upsert},l),b=ie(ie({},c.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType),{path:d,fullPath:(await Hu(c.fetch,m.toString(),g,{headers:b})).Key}})}async createSignedUploadUrl(s,a){var r=this;return r.handleOperation(async()=>{let l=r._getFinalPath(s);const c=ie({},r.headers);a!=null&&a.upsert&&(c["x-upsert"]="true");const d=await Pt(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(r.url+d.url),m=h.searchParams.get("token");if(!m)throw new Zr("No token returned by API");return{signedUrl:h.toString(),path:s,token:m}})}async update(s,a,r){return this.uploadOrUpdate("PUT",s,a,r)}async move(s,a,r){var l=this;return l.handleOperation(async()=>await Pt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:l.headers}))}async copy(s,a,r){var l=this;return l.handleOperation(async()=>({path:(await Pt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(s,a,r){var l=this;return l.handleOperation(async()=>{let c=l._getFinalPath(s),d=await Pt(l.fetch,`${l.url}/object/sign/${c}`,ie({expiresIn:a},r!=null&&r.transform?{transform:r.transform}:{}),{headers:l.headers});const h=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${l.url}${d.signedURL}${h}`)}})}async createSignedUrls(s,a,r){var l=this;return l.handleOperation(async()=>{const c=await Pt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:s},{headers:l.headers}),d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return c.map(h=>ie(ie({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${d}`):null}))})}download(s,a,r){const l=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),d=c?`?${c}`:"",h=this._getFinalPath(s),m=()=>fs(this.fetch,`${this.url}/${l}/${h}${d}`,{headers:this.headers,noResolveJson:!0},r);return new P0(m,this.shouldThrowOnError)}async info(s){var a=this;const r=a._getFinalPath(s);return a.handleOperation(async()=>qu(await fs(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})))}async exists(s){var a=this;const r=a._getFinalPath(s);try{return await G0(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Fr(l)&&l instanceof tg){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,a){const r=this._getFinalPath(s),l=[],c=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&l.push(c);const d=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${m}`)}}}async remove(s){var a=this;return a.handleOperation(async()=>await Qu(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}))}async list(s,a,r){var l=this;return l.handleOperation(async()=>{const c=ie(ie(ie({},Y0),a),{},{prefix:s||""});return await Pt(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},r)})}async listV2(s,a){var r=this;return r.handleOperation(async()=>{const l=ie({},s);return await Pt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},a)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const V0="2.98.0",vs={"X-Client-Info":`storage-js/${V0}`};var W0=class extends ci{constructor(s,a={},r,l){const c=new URL(s);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const d=c.href.replace(/\/$/,""),h=ie(ie({},vs),a);super(d,h,r,"storage")}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const r=a.listBucketOptionsToQueryString(s);return await fs(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers})})}async getBucket(s){var a=this;return a.handleOperation(async()=>await fs(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}))}async createBucket(s,a={public:!1}){var r=this;return r.handleOperation(async()=>await Pt(r.fetch,`${r.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async updateBucket(s,a){var r=this;return r.handleOperation(async()=>await Hu(r.fetch,`${r.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(s){var a=this;return a.handleOperation(async()=>await Pt(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Qu(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},X0=class extends ci{constructor(s,a={},r){const l=s.replace(/\/$/,""),c=ie(ie({},vs),a);super(l,c,r,"storage")}async createBucket(s){var a=this;return a.handleOperation(async()=>await Pt(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}))}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const r=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&r.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&r.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&r.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&r.set("sortOrder",s.sortOrder),s!=null&&s.search&&r.set("search",s.search);const l=r.toString(),c=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return await fs(a.fetch,c,{headers:a.headers})})}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Qu(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}from(s){var a=this;if(!B0(s))throw new Zr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new j0({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(c,d){const h=c[d];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(c,m),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}},J0=class extends ci{constructor(s,a={},r){const l=s.replace(/\/$/,""),c=ie(ie({},vs),{},{"Content-Type":"application/json"},a);super(l,c,r,"vectors")}async createIndex(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{})}async getIndex(s,a){var r=this;return r.handleOperation(async()=>await kt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:r.headers}))}async listIndexes(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}))}async deleteIndex(s,a){var r=this;return r.handleOperation(async()=>await kt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:r.headers})||{})}},I0=class extends ci{constructor(s,a={},r){const l=s.replace(/\/$/,""),c=ie(ie({},vs),{},{"Content-Type":"application/json"},a);super(l,c,r,"vectors")}async putVectors(s){var a=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{})}async getVectors(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}))}async listVectors(s){var a=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}))}async queryVectors(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}))}async deleteVectors(s){var a=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{})}},Q0=class extends ci{constructor(s,a={},r){const l=s.replace(/\/$/,""),c=ie(ie({},vs),{},{"Content-Type":"application/json"},a);super(l,c,r,"vectors")}async createBucket(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}async getBucket(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}))}async listBuckets(s={}){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await kt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}},Z0=class extends Q0{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new F0(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,r=this;return a().call(r,s)}async getBucket(s){var a=()=>super.getBucket,r=this;return a().call(r,s)}async listBuckets(s={}){var a=()=>super.listBuckets,r=this;return a().call(r,s)}async deleteBucket(s){var a=()=>super.deleteBucket,r=this;return a().call(r,s)}},F0=class extends J0{constructor(s,a,r,l){super(s,a,l),this.vectorBucketName=r}async createIndex(s){var a=()=>super.createIndex,r=this;return a().call(r,ie(ie({},s),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,r=this;return a().call(r,ie(ie({},s),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,s)}index(s){return new ev(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},ev=class extends I0{constructor(s,a,r,l,c){super(s,a,c),this.vectorBucketName=r,this.indexName=l}async putVectors(s){var a=()=>super.putVectors,r=this;return a().call(r,ie(ie({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(s){var a=()=>super.getVectors,r=this;return a().call(r,ie(ie({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,r=this;return a().call(r,ie(ie({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,r=this;return a().call(r,ie(ie({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,r=this;return a().call(r,ie(ie({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},tv=class extends W0{constructor(s,a={},r,l){super(s,a,r,l)}from(s){return new K0(this.url,this.headers,s,this.fetch)}get vectors(){return new Z0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new X0(this.url+"/iceberg",this.headers,this.fetch)}};const ig="2.98.0",si=30*1e3,Gu=3,Ou=Gu*si,nv="http://localhost:9999",av="supabase.auth.token",iv={"X-Client-Info":`gotrue-js/${ig}`},$u="X-Supabase-Api-Version",sg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rv=600*1e3;class ms extends Error{constructor(a,r,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function Z(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class lv extends ms{constructor(a,r,l){super(a,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function ov(s){return Z(s)&&s.name==="AuthApiError"}class fa extends ms{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class pn extends ms{constructor(a,r,l,c){super(a,l,c),this.name=r,this.status=l}}class Rt extends pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cu(s){return Z(s)&&s.name==="AuthSessionMissingError"}class ei extends pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pr extends pn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Yr extends pn{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uv(s){return Z(s)&&s.name==="AuthImplicitGrantRedirectError"}class xm extends pn{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cv extends pn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pu extends pn{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function ju(s){return Z(s)&&s.name==="AuthRetryableFetchError"}class Em extends pn{constructor(a,r,l){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Yu extends pn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Am=` 	
\r=`.split(""),dv=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<Am.length;a+=1)s[Am[a].charCodeAt(0)]=-2;for(let a=0;a<Wr.length;a+=1)s[Wr[a].charCodeAt(0)]=a;return s})();function Tm(s,a,r){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Wr[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Wr[l]),a.queuedBits-=6}}function rg(s,a,r){const l=dv[s];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Rm(s){const a=[],r=h=>{a.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{mv(h,l,r)};for(let h=0;h<s.length;h+=1)rg(s.charCodeAt(h),c,d);return a.join("")}function hv(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function fv(s,a){for(let r=0;r<s.length;r+=1){let l=s.charCodeAt(r);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(s.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}hv(l,a)}}function mv(s,a,r){if(a.utf8seq===0){if(s<=127){r(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function ui(s){const a=[],r={queue:0,queuedBits:0},l=c=>{a.push(c)};for(let c=0;c<s.length;c+=1)rg(s.charCodeAt(c),r,l);return new Uint8Array(a)}function gv(s){const a=[];return fv(s,r=>a.push(r)),new Uint8Array(a)}function ma(s){const a=[],r={queue:0,queuedBits:0},l=c=>{a.push(c)};return s.forEach(c=>Tm(c,r,l)),Tm(null,r,l),a.join("")}function pv(s){return Math.round(Date.now()/1e3)+s}function yv(){return Symbol("auth-callback")}const st=()=>typeof window<"u"&&typeof document<"u",ua={tested:!1,writable:!1},lg=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ua.tested)return ua.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),ua.tested=!0,ua.writable=!0}catch{ua.tested=!0,ua.writable=!1}return ua.writable};function vv(s){const a={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return r.searchParams.forEach((l,c)=>{a[c]=l}),a}const og=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),bv=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ri=async(s,a,r)=>{await s.setItem(a,JSON.stringify(r))},ca=async(s,a)=>{const r=await s.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},it=async(s,a)=>{await s.removeItem(a)};class el{constructor(){this.promise=new el.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}el.promiseConstructor=Promise;function Kr(s){const a=s.split(".");if(a.length!==3)throw new Yu("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!sv.test(a[l]))throw new Yu("JWT not in base64url format");return{header:JSON.parse(Rm(a[0])),payload:JSON.parse(Rm(a[1])),signature:ui(a[2]),raw:{header:a[0],payload:a[1]}}}async function _v(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function Sv(s,a){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await s(d);if(!a(d,null,h)){l(h);return}}catch(h){if(!a(d,h)){c(h);return}}})()})}function wv(s){return("0"+s.toString(16)).substr(-2)}function xv(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let c="";for(let d=0;d<56;d++)c+=r.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(a),Array.from(a,wv).join("")}async function Ev(s){const r=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Av(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await Ev(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ti(s,a,r=!1){const l=xv();let c=l;r&&(c+="/PASSWORD_RECOVERY"),await ri(s,`${a}-code-verifier`,c);const d=await Av(l);return[d,l===d?"plain":"s256"]}const Tv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rv(s){const a=s.headers.get($u);if(!a||!a.match(Tv))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function kv(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function Ov(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ni(s){if(!Cv.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nu(){const s={};return new Proxy(s,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jv(s,a){return new Proxy(s,{get:(r,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,c)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,l,c)}})}function km(s){return JSON.parse(JSON.stringify(s))}const da=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Nv=[502,503,504];async function Om(s){var a;if(!bv(s))throw new Pu(da(s),0);if(Nv.includes(s.status))throw new Pu(da(s),s.status);let r;try{r=await s.json()}catch(d){throw new fa(da(d),d)}let l;const c=Rv(s);if(c&&c.getTime()>=sg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Em(da(r),s.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Em(da(r),s.status,r.weak_password.reasons);throw new lv(da(r),s.status||500,l)}const Dv=(s,a,r,l)=>{const c={method:s,headers:(a==null?void 0:a.headers)||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),r))};async function se(s,a,r,l){var c;const d=Object.assign({},l==null?void 0:l.headers);d[$u]||(d[$u]=sg["2024-01-01"].name),l!=null&&l.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const h=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await Bv(s,a,r+m,{headers:d,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(g):{data:Object.assign({},g),error:null}}async function Bv(s,a,r,l,c,d){const h=Dv(a,l,c,d);let m;try{m=await s(r,Object.assign({},h))}catch(g){throw console.error(g),new Pu(da(g),0)}if(m.ok||await Om(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(g){await Om(g)}}function $t(s){var a;let r=null;Lv(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=pv(s.expires_in)));const l=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:r,user:l},error:null}}function Cm(s){const a=$t(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(a.data.weak_password=s.weak_password),a}function Pn(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function Uv(s){return{data:s,error:null}}function Mv(s){const{action_link:a,email_otp:r,hashed_token:l,redirect_to:c,verification_type:d}=s,h=Qr(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:r,hashed_token:l,redirect_to:c,verification_type:d},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function jm(s){return s}function Lv(s){return s.access_token&&s.refresh_token&&s.expires_in}const Du=["global","local","others"];class zv{constructor({url:a="",headers:r={},fetch:l}){this.url=a,this.headers=r,this.fetch=og(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=Du[0]){if(Du.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Du.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Z(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pn})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:r}=a,l=Qr(a,["options"]),c=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Mv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Pn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,l,c,d,h,m,g;try{const p={nextPage:null,lastPage:0,total:0},b=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:jm});if(b.error)throw b.error;const x=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,A=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(k.split(";")[1].split("=")[1]);p[`${L}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(Z(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){ni(a);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Pn})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){ni(a);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:Pn})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,r=!1){ni(a);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pn})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){ni(a.userId);try{const{data:r,error:l}=await se(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:l}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _deleteFactor(a){ni(a.userId),ni(a.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,l,c,d,h,m,g;try{const p={nextPage:null,lastPage:0,total:0},b=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:jm});if(b.error)throw b.error;const x=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,A=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(k.split(";")[1].split("=")[1]);p[`${L}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(Z(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Z(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}}}function Nm(s={}){return{getItem:a=>s[a]||null,setItem:(a,r)=>{s[a]=r},removeItem:a=>{delete s[a]}}}const mn={debug:!!(globalThis&&lg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ug extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class qv extends ug{}async function Hv(s,a,r){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const l=new globalThis.AbortController;a>0&&setTimeout(()=>{l.abort(),mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve();try{return await globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await r()}finally{mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(a===0)throw mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new qv(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(mn.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(c){if((c==null?void 0:c.name)==="AbortError"&&a>0)return mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",s),console.warn(`@supabase/gotrue-js: Lock "${s}" was not released within ${a}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,{mode:"exclusive",steal:!0},async d=>{if(d){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",s,d.name);try{return await r()}finally{mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",s,d.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await r()}));throw c}}function Gv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cg(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function $v(s){return parseInt(s,16)}function Pv(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function Yv(s){var a;const{chainId:r,domain:l,expirationTime:c,issuedAt:d=new Date,nonce:h,notBefore:m,requestId:g,resources:p,scheme:b,uri:x,version:w}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const A=cg(s.address),k=b?`${b}://${l}`:l,T=s.statement?`${s.statement}
`:"",L=`${k} wants you to sign in with your Ethereum account:
${A}

${T}`;let H=`URI: ${x}
Version: ${w}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(c&&(H+=`
Expiration Time: ${c.toISOString()}`),m&&(H+=`
Not Before: ${m.toISOString()}`),g&&(H+=`
Request ID: ${g}`),p){let $=`
Resources:`;for(const G of p){if(!G||typeof G!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${G}`);$+=`
- ${G}`}H+=$}return`${L}
${H}`}class Xe extends Error{constructor({message:a,code:r,cause:l,name:c}){var d;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=c??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class Xr extends Xe{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function Kv({error:s,options:a}){var r,l,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Xe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Xe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Xe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Xe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Xe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Xe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Xe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Xe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(dg(h)){if(d.rp.id!==h)return new Xe({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Xe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Xe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Vv({error:s,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Xe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Xe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(dg(l)){if(r.rpId!==l)return new Xe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Xe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Wv{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Xv=new Wv;function Jv(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:r,excludeCredentials:l}=s,c=Qr(s,["challenge","user","excludeCredentials"]),d=ui(a).buffer,h=Object.assign(Object.assign({},r),{id:ui(r.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:ui(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function Iv(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:r}=s,l=Qr(s,["challenge","allowCredentials"]),c=ui(a).buffer,d=Object.assign(Object.assign({},l),{challenge:c});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const m=r[h];d.allowCredentials[h]=Object.assign(Object.assign({},m),{id:ui(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Qv(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:ma(new Uint8Array(s.response.attestationObject)),clientDataJSON:ma(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Zv(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,l=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:ma(new Uint8Array(c.authenticatorData)),clientDataJSON:ma(new Uint8Array(c.clientDataJSON)),signature:ma(new Uint8Array(c.signature)),userHandle:c.userHandle?ma(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function dg(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Dm(){var s,a;return!!(st()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Fv(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Xr("Browser returned unexpected credential type",a)}:{data:null,error:new Xr("Empty credential response",a)}}catch(a){return{data:null,error:Kv({error:a,options:s})}}}async function eb(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Xr("Browser returned unexpected credential type",a)}:{data:null,error:new Xr("Empty credential response",a)}}catch(a){return{data:null,error:Vv({error:a,options:s})}}}const tb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Jr(...s){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of s)if(c)for(const d in c){const h=c[d];if(h!==void 0)if(Array.isArray(h))l[d]=h;else if(r(h))l[d]=h;else if(a(h)){const m=l[d];a(m)?l[d]=Jr(m,h):l[d]=Jr(h)}else l[d]=h}return l}function ab(s,a){return Jr(tb,s,a||{})}function ib(s,a){return Jr(nb,s,a||{})}class sb{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:l,signal:c},d){var h;try{const{data:m,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!m)return{data:null,error:g};const p=c??Xv.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:b}=m.webauthn.credential_options.publicKey;if(!b.name){const x=l;if(x)b.name=`${b.id}:${x}`;else{const A=(await this.client.getUser()).data.user,k=((h=A==null?void 0:A.user_metadata)===null||h===void 0?void 0:h.name)||(A==null?void 0:A.email)||(A==null?void 0:A.id)||"User";b.name=`${b.id}:${k}`}}b.displayName||(b.displayName=b.name)}switch(m.webauthn.type){case"create":{const b=ab(m.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:x,error:w}=await Fv({publicKey:b,signal:p});return x?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const b=ib(m.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:x,error:w}=await eb(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:b,signal:p}));return x?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(m){return Z(m)?{data:null,error:m}:{data:null,error:new fa("Unexpected error in challenge",m)}}}async _verify({challengeId:a,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!r)return{data:null,error:new ms("rpId is required for WebAuthn authentication")};try{if(!Dm())return{data:null,error:new fa("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:l},signal:c},{request:d});if(!h)return{data:null,error:m};const{webauthn:g}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:l,credential_response:g.credential_response}})}catch(h){return Z(h)?{data:null,error:h}:{data:null,error:new fa("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!r)return{data:null,error:new ms("rpId is required for WebAuthn registration")};try{if(!Dm())return{data:null,error:new fa("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(b=>{var x;return(x=b.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===a&&w.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:c},{create:d});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(h){return Z(h)?{data:null,error:h}:{data:null,error:new fa("Unexpected error in register",h)}}}}Gv();const rb={url:nv,storageKey:av,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function Bm(s,a,r){return await r()}const ai={};class gs{get jwks(){var a,r;return(r=(a=ai[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){ai[this.storageKey]=Object.assign(Object.assign({},ai[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=ai[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){ai[this.storageKey]=Object.assign(Object.assign({},ai[this.storageKey]),{cachedAt:a})}constructor(a){var r,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},rb),a);if(this.storageKey=d.storageKey,this.instanceID=(r=gs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,gs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&st()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new zv({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=og(d.fetch),this.lock=d.lock||Bm,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&st()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=Hv:this.lock=Bm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:lg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nm(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Nm(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}d.skipAutoInitialize||this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ig}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},l="none";if(st()&&(r=vv(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),st()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(r,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),uv(d)){const g=(a=d.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?this._returnResult({error:r}):this._returnResult({error:new fa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,l,c;try{const d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=a==null?void 0:a.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=a==null?void 0:a.options)===null||c===void 0?void 0:c.captchaToken}},xform:$t}),{data:h,error:m}=d;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(Z(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var r,l,c;try{let d;if("email"in a){const{email:b,password:x,options:w}=a;let A=null,k=null;this.flowType==="pkce"&&([A,k]=await ti(this.storage,this.storageKey)),d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:b,password:x,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:A,code_challenge_method:k},xform:$t})}else if("phone"in a){const{phone:b,password:x,options:w}=a;d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(l=w==null?void 0:w.data)!==null&&l!==void 0?l:{},channel:(c=w==null?void 0:w.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:$t})}else throw new Pr("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(await it(this.storage,`${this.storageKey}-code-verifier`),Z(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let r;if("email"in a){const{email:d,password:h,options:m}=a;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Cm})}else if("phone"in a){const{phone:d,password:h,options:m}=a;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Cm})}else throw new Pr("You must provide either an email or phone number and a password");const{data:l,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new ei;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,l,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,l,c,d,h,m,g,p,b,x,w;let A,k;if("message"in a)A=a.message,k=a.signature;else{const{chain:T,wallet:L,statement:H,options:$}=a;let G;if(st())if(typeof L=="object")G=L;else{const Oe=window;if("ethereum"in Oe&&typeof Oe.ethereum=="object"&&"request"in Oe.ethereum&&typeof Oe.ethereum.request=="function")G=Oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=L}const J=new URL((r=$==null?void 0:$.url)!==null&&r!==void 0?r:window.location.href),ne=await G.request({method:"eth_requestAccounts"}).then(Oe=>Oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=cg(ne[0]);let I=(l=$==null?void 0:$.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!I){const Oe=await G.request({method:"eth_chainId"});I=$v(Oe)}const be={domain:J.host,address:re,statement:H,uri:J.href,version:"1",chainId:I,nonce:(c=$==null?void 0:$.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(d=$==null?void 0:$.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=$==null?void 0:$.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=$==null?void 0:$.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=$==null?void 0:$.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=$==null?void 0:$.signInWithEthereum)===null||b===void 0?void 0:b.resources};A=Yv(be),k=await G.request({method:"personal_sign",params:[Pv(A),re]})}try{const{data:T,error:L}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:k},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:$t});if(L)throw L;if(!T||!T.session||!T.user){const H=new ei;return this._returnResult({data:{user:null,session:null},error:H})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:L})}catch(T){if(Z(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(a){var r,l,c,d,h,m,g,p,b,x,w,A;let k,T;if("message"in a)k=a.message,T=a.signature;else{const{chain:L,wallet:H,statement:$,options:G}=a;let J;if(st())if(typeof H=="object")J=H;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))J=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=H}const ne=new URL((r=G==null?void 0:G.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in J&&J.signIn){const re=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G==null?void 0:G.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),$?{statement:$}:null));let I;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")I=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)I=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)k=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),T=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${ne.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(c=(l=G==null?void 0:G.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=G==null?void 0:G.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((h=G==null?void 0:G.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((m=G==null?void 0:G.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((g=G==null?void 0:G.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((p=G==null?void 0:G.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((x=(b=G==null?void 0:G.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...G.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const re=await J.signMessage(new TextEncoder().encode(k),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=re}}try{const{data:L,error:H}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:ma(T)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(A=a.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:$t});if(H)throw H;if(!L||!L.session||!L.user){const $=new ei;return this._returnResult({data:{user:null,session:null},error:$})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:H})}catch(L){if(Z(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async _exchangeCodeForSession(a){const r=await ca(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new cv;const{data:d,error:h}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:$t});if(await it(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const m=new ei;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(await it(this.storage,`${this.storageKey}-code-verifier`),Z(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:r,provider:l,token:c,access_token:d,nonce:h}=a,m=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$t}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const b=new ei;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,l,c,d,h;try{if("email"in a){const{email:m,options:g}=a;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await ti(this.storage,this.storageKey));const{error:x}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in a){const{phone:m,options:g}=a,{data:p,error:b}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(d=g==null?void 0:g.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b})}throw new Pr("You must provide either an email or phone number.")}catch(m){if(await it(this.storage,`${this.storageKey}-code-verifier`),Z(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var r,l;try{let c,d;"options"in a&&(c=(r=a.options)===null||r===void 0?void 0:r.redirectTo,d=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:$t});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,p=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(Z(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var r,l,c,d,h;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ti(this.storage,this.storageKey));const p=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=a==null?void 0:a.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:Uv});return!((d=p.data)===null||d===void 0)&&d.url&&st()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await it(this.storage,`${this.storageKey}-code-verifier`),Z(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;if(l)throw l;if(!r)throw new Rt;const{error:c}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(Z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:l,type:c,options:d}=a,{error:h}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:l,type:c,options:d}=a,{data:h,error:m}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new Pr("You must provide either an email or phone number and a type")}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<Ou:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const h=await ca(this.userStorage,this.storageKey+"-user");h!=null&&h.user?a.user=h.user:a.user=Nu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=jv(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Pn}):await this._useSession(async r=>{var l,c,d;const{data:h,error:m}=r;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Pn})})}catch(r){if(Z(r))return Cu(r)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new Rt;const h=c.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await ti(this.storage,this.storageKey));const{data:p,error:b}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:Pn});if(b)throw b;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await it(this.storage,`${this.storageKey}-code-verifier`),Z(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Rt;const r=Date.now()/1e3;let l=r,c=!0,d=null;const{payload:h}=Kr(a.access_token);if(h.exp&&(l=h.exp,c=l<=r),c){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(r){if(Z(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var l;if(!a){const{data:h,error:m}=r;if(m)throw m;a=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(a!=null&&a.refresh_token))throw new Rt;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!st())throw new Yr("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Yr(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new xm("No code detected.");const{data:$,error:G}=await this._exchangeCodeForSession(a.code);if(G)throw G;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:m,expires_at:g,token_type:p}=a;if(!d||!m||!h||!p)throw new Yr("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(m);let w=b+x;g&&(w=parseInt(g));const A=w-b;A*1e3<=si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${x}s`);const k=w-x;b-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,w,b):b-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,w,b);const{data:T,error:L}=await this._getUser(d);if(L)throw L;const H={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:x,expires_at:w,refresh_token:h,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:a.type},error:null})}catch(l){if(Z(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await ca(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d&&!Cu(d))return this._returnResult({error:d});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,a);if(m&&!(ov(m)&&(m.status===404||m.status===401||m.status===403)||Cu(m)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=yv(),l={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async r=>{var l,c;try{const{data:{session:d},error:h}=r;if(h)throw h;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,r={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ti(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(await it(this.storage,`${this.storageKey}-code-verifier`),Z(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:l,error:c}=await this._useSession(async d=>{var h,m,g,p,b;const{data:x,error:w}=d;if(w)throw w;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",A,{headers:this.headers,jwt:(b=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return st()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:a.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(Z(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var l;try{const{error:c,data:{session:d}}=r;if(c)throw c;const{options:h,provider:m,token:g,access_token:p,nonce:b}=a,x=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d==null?void 0:d.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:g,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$t}),{data:w,error:A}=x;return A?this._returnResult({data:{user:null,session:null},error:A}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ei}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:A}))}catch(c){if(await it(this.storage,`${this.storageKey}-code-verifier`),Z(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var l,c;const{data:d,error:h}=r;if(h)throw h;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await Sv(async c=>(c>0&&await _v(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:$t})),(c,d)=>{const h=200*Math.pow(2,c);return d&&ju(d)&&Date.now()+h-l<si})}catch(l){if(this._debug(r,"error",l),Z(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",l),st()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await ca(this.storage,this.storageKey);if(c&&this.userStorage){let h=await ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await ri(this.userStorage,this.storageKey+"-user",h)),c.user=(a=h==null?void 0:h.user)!==null&&a!==void 0?a:Nu()}else if(c&&!c.user&&!c.user){const h=await ca(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await it(this.storage,this.storageKey+"-user"),await ri(this.storage,this.storageKey,c)):c.user=Nu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ou;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Ou}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),ju(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var r,l;if(!a)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new el;const{data:d,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!d.session)throw new Rt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),Z(d)){const h={data:null,error:d};return ju(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,r,l=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:r});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,r)}catch(g){d.push(g)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await ri(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const d=km(c);await ri(this.storage,this.storageKey,d)}else{const c=km(r);await ri(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),si);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-a)/si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${si}ms, refresh threshold is ${Gu} ticks`),c<=Gu&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof ug)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,l){const c=[`provider=${encodeURIComponent(r)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,h]=await ti(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(l!=null&&l.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;return d?this._returnResult({data:null,error:d}):await se(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var l,c;const{data:d,error:h}=r;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:p}=await se(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Qv(a.webauthn.credential_response):Zv(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const h=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Jv(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Iv(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=r==null?void 0:r.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(a){var r,l,c,d;if(a)try{const{payload:A}=Kr(a);let k=null;A.aal&&(k=A.aal);let T=k;const{data:{user:L},error:H}=await this.getUser(a);if(H)return this._returnResult({data:null,error:H});((l=(r=L==null?void 0:L.factors)===null||r===void 0?void 0:r.filter(J=>J.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(T="aal2");const G=A.amr||[];return{data:{currentLevel:k,nextLevel:T,currentAuthenticationMethods:G},error:null}}catch(A){if(Z(A))return this._returnResult({data:null,error:A});throw A}const{data:{session:h},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=Kr(h.access_token);let p=null;g.aal&&(p=g.aal);let b=p;((d=(c=h.user.factors)===null||c===void 0?void 0:c.filter(A=>A.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(b="aal2");const w=g.amr||[];return{data:{currentLevel:p,nextLevel:b,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Rt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&st()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(Z(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Rt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&st()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(Z(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;return l?this._returnResult({data:null,error:l}):r?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(a){if(Z(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(r){if(Z(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let l=r.keys.find(m=>m.kid===a);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(m=>m.kid===a),l&&this.jwks_cached_at+rv>c)return l;const{data:d,error:h}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(m=>m.kid===a),!l)?null:l}async getClaims(a,r={}){try{let l=a;if(!l){const{data:A,error:k}=await this.getSession();if(k||!A.session)return this._returnResult({data:null,error:k});l=A.session.access_token}const{header:c,payload:d,signature:h,raw:{header:m,payload:g}}=Kr(l);r!=null&&r.allowExpired||kv(d.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:A}=await this.getUser(l);if(A)throw A;return{data:{claims:d,header:c,signature:h},error:null}}const b=Ov(c.alg),x=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,h,gv(`${m}.${g}`)))throw new Yu("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(l){if(Z(l))return this._returnResult({data:null,error:l});throw l}}}gs.nextInstanceID={};const lb=gs,ob="2.98.0";let ls="";typeof Deno<"u"?ls="deno":typeof document<"u"?ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ls="react-native":ls="node";const ub={"X-Client-Info":`supabase-js-${ls}/${ob}`},cb={headers:ub},db={schema:"public"},hb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fb={};function ps(s){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ps(s)}function mb(s,a){if(ps(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,a);if(ps(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function gb(s){var a=mb(s,"string");return ps(a)=="symbol"?a:a+""}function pb(s,a,r){return(a=gb(a))in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}function Um(s,a){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,l)}return r}function qe(s){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Um(Object(r),!0).forEach(function(l){pb(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Um(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const yb=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),vb=()=>Headers,bb=(s,a,r)=>{const l=yb(r),c=vb();return async(d,h)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:s;let p=new c(h==null?void 0:h.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),l(d,qe(qe({},h),{},{headers:p}))}};function _b(s){return s.endsWith("/")?s:s+"/"}function Sb(s,a){var r,l;const{db:c,auth:d,realtime:h,global:m}=s,{db:g,auth:p,realtime:b,global:x}=a,w={db:qe(qe({},g),c),auth:qe(qe({},p),d),realtime:qe(qe({},b),h),storage:{},global:qe(qe(qe({},x),m),{},{headers:qe(qe({},(r=x==null?void 0:x.headers)!==null&&r!==void 0?r:{}),(l=m==null?void 0:m.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}function wb(s){const a=s==null?void 0:s.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_b(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var xb=class extends lb{constructor(s){super(s)}},Eb=class{constructor(s,a,r){var l,c;this.supabaseUrl=s,this.supabaseKey=a;const d=wb(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db,realtime:fb,auth:qe(qe({},hb),{},{storageKey:h}),global:cb},g=Sb(r??{},m);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(b,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=bb(a,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new o0(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch,timeout:g.db.timeout,urlLengthLimit:g.db.urlLengthLimit}),this.storage=new tv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new e0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,r)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,r;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:c,storageKey:d,flowType:h,lock:m,debug:g,throwOnError:p},b,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xb({url:this.authUrl.href,headers:qe(qe({},w),b),storageKey:d,autoRefreshToken:s,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:c,flowType:h,lock:m,debug:g,throwOnError:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new A0(this.realtimeUrl.href,qe(qe({},s),{},{params:qe(qe({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(s,a,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ab=(s,a,r)=>new Eb(s,a,r);function Tb(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const a=s.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Tb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mm="https://ltmcibwgslrgmqnqxmtl.supabase.co",Rb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx0bWNpYndnc2xyZ21xbnF4bXRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIyMzM1MzQsImV4cCI6MjA4NzgwOTUzNH0.Qyp2TNS6Ar3wGzFCZIHVZxAs3ixx0gL5vRmPyyUsFp4",Me=Mm.startsWith("your-")?null:Ab(Mm,Rb),hg=V.createContext();function Lm(s){return`${s.toLowerCase()}@thriveapp.io`}function zm(s){return`tv${s}`}function kb({children:s}){var x;const[a,r]=V.useState(null),[l,c]=V.useState(null),[d,h]=V.useState(!0);V.useEffect(()=>{if(!Me){h(!1);return}function w(k){var T,L;return((L=(T=k==null?void 0:k.user)==null?void 0:T.email)==null?void 0:L.split("@")[0])||null}const{data:{subscription:A}}=Me.auth.onAuthStateChange((k,T)=>{r(T),c(w(T)),k==="INITIAL_SESSION"&&h(!1)});return()=>A.unsubscribe()},[]);const m=V.useCallback(async(w,A)=>{var H;if(!Me)throw new Error("Supabase not configured");const k=w.toLowerCase(),{data:T,error:L}=await Me.auth.signUp({email:Lm(k),password:zm(A)});if(L)throw(H=L.message)!=null&&H.includes("already registered")?new Error("Username already taken"):L;return c(k),r(T.session),T},[]),g=V.useCallback(async(w,A)=>{if(!Me)throw new Error("Supabase not configured");const k=w.toLowerCase(),{data:T,error:L}=await Me.auth.signInWithPassword({email:Lm(k),password:zm(A)});if(L)throw L;return c(k),r(T.session),T},[]),p=V.useCallback(async()=>{Me&&(await Me.auth.signOut(),r(null),c(null))},[]),b={session:a,username:l,userId:((x=a==null?void 0:a.user)==null?void 0:x.id)??null,loading:d,isAuthenticated:!!a,signUp:m,signIn:g,signOut:p};return v.jsx(hg.Provider,{value:b,children:s})}function bs(){const s=V.useContext(hg);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const Ob=["rest","531","conditioning","metcon","accessory"],oi={hybrid:{id:"hybrid",name:"Hybrid",description:"Balanced strength + conditioning",days:{monday:"conditioning",tuesday:"531",wednesday:"metcon",thursday:"accessory",friday:"531",saturday:"rest",sunday:"rest"}},conditioning:{id:"conditioning",name:"Conditioning",description:"Conditioning focus, no barbell days",days:{monday:"conditioning",tuesday:"rest",wednesday:"metcon",thursday:"accessory",friday:"rest",saturday:"rest",sunday:"rest"}},strength:{id:"strength",name:"Strength",description:"3x 5/3/1 + conditioning",days:{monday:"531",tuesday:"rest",wednesday:"531",thursday:"accessory",friday:"531",saturday:"rest",sunday:"rest"}}};async function Cb(s,a,r){if(!(!Me||!s))try{await Me.from("user_data").upsert({user_id:s,key:a,value:r,updated_at:new Date().toISOString()},{onConflict:"user_id,key"})}catch(l){console.warn("[sync] pushUserData failed:",l)}}async function jb(s,a){if(!(!Me||!s))try{await Me.from("user_data").delete().eq("user_id",s).eq("key",a)}catch(r){console.warn("[sync] deleteUserData failed:",r)}}async function Nb(s,a){if(!(!Me||!s))try{const{data:r,error:l}=await Me.from("user_data").select("key, value").eq("user_id",s);if(l)throw l;if(!r)return;for(const c of r)localStorage.setItem(`thrive:user:${a}:${c.key}`,JSON.stringify(c.value))}catch(r){console.warn("[sync] pullAllUserData failed:",r)}}async function Db(s,a){if(!(!Me||!s))try{const r=`thrive:user:${a}:`,l=[];for(let d=0;d<localStorage.length;d++){const h=localStorage.key(d);if(!h.startsWith(r))continue;const m=h.slice(r.length);let g;try{g=JSON.parse(localStorage.getItem(h))}catch{g=localStorage.getItem(h)}l.push({user_id:s,key:m,value:g,updated_at:new Date().toISOString()})}if(l.length===0)return;const{error:c}=await Me.from("user_data").upsert(l,{onConflict:"user_id,key"});if(c)throw c}catch(r){console.warn("[sync] pushAllUserData failed:",r)}}async function qm(){if(!Me)return[];try{const{data:s,error:a}=await Me.from("published_schedules").select("*").order("created_at",{ascending:!1});if(a)throw a;return(s||[]).map(r=>({id:`published:${r.id}`,publisherUserId:r.user_id,username:r.username,name:r.name,description:r.description,days:r.days,isPublished:!0}))}catch(s){return console.warn("[publishedSchedules] fetch failed:",s),[]}}async function Hm(s,a){if(!Me)return{};try{const{data:r,error:l}=await Me.from("user_data").select("value").eq("user_id",s).eq("key",`week:${a}`).maybeSingle();if(l)throw l;return(r==null?void 0:r.value)||{}}catch(r){return console.warn("[publishedSchedules] fetchPublisherWeekData failed:",r),{}}}async function Bb(s,a,{name:r,description:l,days:c}){if(!Me)throw new Error("Supabase not configured");const{error:d}=await Me.from("published_schedules").upsert({user_id:s,username:a,name:r,description:l||"",days:c,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(d)throw d}async function Ub(s){if(!Me)return;const{error:a}=await Me.from("published_schedules").delete().eq("user_id",s);if(a)throw a}const fg=V.createContext();function Bu(s,a){return`thrive:user:${s}:${a}`}function Mb({children:s}){const{username:a,userId:r}=bs(),[l,c]=V.useState([]),[d,h]=V.useState({}),[m,g]=V.useState(null);V.useEffect(()=>{qm().then(c)},[]);const p=V.useCallback(async()=>{const H=await qm();c(H)},[]),b={id:a,name:a,scheduleId:"hybrid"},x=V.useCallback(H=>{const $=localStorage.getItem(Bu(b.id,H));if($===null)return null;try{return JSON.parse($)}catch{return $}},[b.id]),w=V.useCallback((H,$)=>{localStorage.setItem(Bu(b.id,H),JSON.stringify($)),Cb(r,H,$)},[b.id,r]),A=V.useCallback(H=>{localStorage.removeItem(Bu(b.id,H)),jb(r,H)},[b.id,r]),k=V.useCallback(()=>{const H=x("schedule");if(H){if(H.publisherUserId){const $=l.find(G=>G.publisherUserId===H.publisherUserId);if($)return{...H,days:$.days}}return H}return oi[b.scheduleId]||oi.hybrid},[b.scheduleId,x,l]),T=k(),L=(T==null?void 0:T.publisherUserId)||null;return V.useEffect(()=>{if(!L||!m){h({});return}let H=!1;Hm(L,m).then(G=>{H||h(G)});const $=()=>{Hm(L,m).then(G=>{H||h(G)})};return window.addEventListener("focus",$),()=>{H=!0,window.removeEventListener("focus",$)}},[L,m]),v.jsx(fg.Provider,{value:{currentUser:b,getUserData:x,setUserData:w,removeUserData:A,getSchedule:k,publishedSchedules:l,refreshPublishedSchedules:p,publisherWeekData:d,setActiveWeekStart:g},children:s})}function Zu(){const s=V.useContext(fg);if(!s)throw new Error("useUser must be used within UserProvider");return s}const Lb=JSON.parse(`[{"id":"con-001","name":"Die Hard","title":"Row/Ski Ladder + Sled Push + Farmer Carry","category":"conditioning","track":["hybrid","conditioning"],"format":"hyrox_sim","energy_system":"glycolytic","movement_patterns":["hinge","carry","machine"],"equipment":["rower","ski_erg","sled","kettlebells"],"duration_minutes":45,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Row or Assault Bike x 35 min","Leg Swings (forward/back) x 10 each","Lateral Lunges x 10 each side","Arm Circles x 10 each way","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"Machine Ladder + Sled Push","description":["Row 400m  Sled Push 10m @ 125/75kg","Ski 400m  Sled Push 15m","Row 600m  Sled Push 20m","Ski 600m  Sled Push 25m","Row 800m  Sled Push 30m"],"alternatives":["Sled Push  DB Front Rack Step-Up x 12 @ 215/10kg (20\\" box)","Sled Push  DB Front Rack Walking Lunges x 12 @ 215/10kg"]},"C":{"type":"FINISHER","title":"Farmer Carry","description":["200m Farmer Carry @ 224/16kg","Break as needed, clock keeps running"]}},"scaling":{"strength":"Heavier sled (150/100kg), reduce machine distances by 25%","conditioning":"Lighter sled (100/60kg), add a 6th round: Assault Bike x 20/15 cal  Sled Push 30m","hybrid":"As written"},"avoid_after":[],"notes":"Ascending ladder  pace the early rounds. Good benchmark.","rotation":"HYROX Simulation","excerpt":"Ascending ladder  just keeps escalating, you keep surviving"},{"id":"con-002","name":"Predator","title":"Bike/Row Intervals + Sled Pull + Burpee Broad Jump","category":"conditioning","track":["hybrid","conditioning"],"format":"hyrox_sim","energy_system":"mixed","movement_patterns":["push","pull","machine"],"equipment":["assault_bike","rower","sled","open_floor"],"duration_minutes":45,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 35 min easy","Inch Worm to Push-Up x 5","Bodyweight Squats x 10","Dynamic Hamstring Scoops x 10 each","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"5 Rounds  Bike/Row + Sled Pull + Burpee Broad Jump","description":["Odd rounds: Assault Bike x 15/12 cal","Even rounds: Row x 250m","Every round: Sled Pull x 20m @ 100/60kg","Every round: Burpee Broad Jump x 20m"],"alternatives":["Sled Pull  Sandbag Clean x 10 @ 40/30kg","Sled Pull  DB RDL + Bent Over Row x 10 @ 215/10kg","Burpee Broad Jump  10 Burpees + 10 Broad Jumps (in place)"]},"C":{"type":"COOLDOWN","title":"Easy Bike","description":["Assault Bike x 5 min @ Zone 1"]}},"scaling":{"strength":"Heavier sled pull (125/75kg), 4 rounds","conditioning":"As written, push for sub-20 min","hybrid":"As written"},"avoid_after":[],"notes":"Alternating machine each round keeps it interesting. The sled pull + BBJ combo is a HYROX staple.","rotation":"HYROX Simulation","excerpt":"Alternating machine hunts you down round after round"},{"id":"con-003","name":"Terminator","title":"Ski Erg Descender + Wall Balls + Sandbag Lunges","category":"conditioning","track":["hybrid","conditioning"],"format":"hyrox_sim","energy_system":"glycolytic","movement_patterns":["squat","carry","machine"],"equipment":["ski_erg","wall_ball","sandbag"],"duration_minutes":45,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Ski Erg x 3 min easy","PVC Shoulder Pass-Throughs x 10","Bodyweight Lunges x 10 each leg","Cat-Cow Stretch x 5","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"Ski Descender + Stations","description":["Ski 1000m  Wall Balls x 30 @ 14/9lb","Ski 800m  Sandbag Lunges x 40m @ 20/10kg","Ski 600m  Wall Balls x 20","Ski 400m  Sandbag Lunges x 20m","Ski 200m  Wall Balls x 10"],"alternatives":["Sandbag Lunges  Front Rack DB Walking Lunges @ 210/5kg","Wall Balls  DB Thrusters @ 28/4kg"]}},"scaling":{"strength":"Heavier wall ball (20/14lb), heavier sandbag (30/20kg), cut ski distances by 200m each","conditioning":"As written, add a Zone 2 run x 10 min finisher","hybrid":"As written"},"avoid_after":["heavy_squat"],"notes":"Descending ski distances keep the intensity climbing. Wall balls will tax your legs for Tuesday squats  manage effort.","rotation":"HYROX Simulation","excerpt":"Descending ski distances  it won't stop, it can't be bargained with"},{"id":"con-004","name":"Rambo","title":"Row/Bike Pyramid + Sled Push/Pull Combo","category":"conditioning","track":["hybrid","conditioning","strength"],"format":"hyrox_sim","energy_system":"mixed","movement_patterns":["push","pull","machine"],"equipment":["rower","assault_bike","sled"],"duration_minutes":50,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Row x 3 min easy","Arm Circles x 10 each way","Torso Twists x 10","Bodyweight Deadlifts (hinge pattern) x 10","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"Machine Pyramid + Sled Combo","description":["Row 500m  Sled Push 10m + Sled Pull 10m @ 125/75kg","Assault Bike x 20/15 cal  Sled Push 15m + Sled Pull 15m","Row 750m  Sled Push 20m + Sled Pull 20m","Assault Bike x 30/22 cal  Sled Push 15m + Sled Pull 15m","Row 500m  Sled Push 10m + Sled Pull 10m"],"alternatives":["Sled Push  DB Front Rack Step-Up x 8 @ 215/10kg (20\\" box)","Sled Pull  DB RDL + Bent Over Row x 8 @ 215/10kg"]}},"scaling":{"strength":"Heavier sled (150/100kg push, 125/75kg pull), cap at 30 min","conditioning":"Lighter sled (100/60kg), push for continuous effort","hybrid":"As written"},"avoid_after":[],"notes":"Pyramid up then back down. The middle round (Row 750m) is the peak  don't go out too hot.","rotation":"HYROX Simulation","excerpt":"Pyramid up and back  drawn-out war of attrition"},{"id":"con-005","name":"Braveheart","title":"Machine Mixer AMRAP 30 + Farmer Carry + Wall Balls","category":"conditioning","track":["hybrid","conditioning"],"format":"amrap","energy_system":"aerobic","movement_patterns":["carry","squat","machine"],"equipment":["rower","ski_erg","assault_bike","kettlebells","wall_ball"],"duration_minutes":45,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 35 min easy","Bodyweight Squats x 10","Lateral Lunges x 10 each side","PVC Shoulder Pass-Throughs x 10","World's Greatest Stretch x 5 each side"]},"B":{"type":"AMRAP 30","title":"Machine Mixer","description":["Row x 500m","Farmer Carry x 100m @ 224/16kg","Ski Erg x 500m","Wall Balls x 20 @ 14/9lb","Assault Bike x 15/12 cal","Farmer Carry x 100m @ 224/16kg"],"alternatives":["Farmer Carry  DB Front Rack Carry @ 215/10kg"]},"C":{"type":"COOLDOWN","title":"Easy Walk or Bike","description":["5 min easy effort  flush it out"]}},"scaling":{"strength":"Heavier carries (232/24kg), reduce machine distances to 400m","conditioning":"As written, target 4+ rounds","hybrid":"As written"},"avoid_after":[],"notes":"Long AMRAP  find a sustainable pace. All 3 machines in one workout. Score = rounds + reps.","rotation":"AMRAP","excerpt":"30-minute AMRAP  long, sprawling, you'll need heart"},{"id":"con-006","name":"Mad Max","title":"6-Round Machine Cycle + Sled Push + Farmer Carry","category":"conditioning","track":["hybrid","conditioning","strength"],"format":"hyrox_sim","energy_system":"glycolytic","movement_patterns":["push","carry","machine"],"equipment":["ski_erg","rower","assault_bike","sled","kettlebells"],"duration_minutes":50,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Row x 3 min easy","Walking Lunges x 10 each leg","Torso Twists x 10","Cat-Cow Stretch x 5","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"6-Round Machine Cycle","description":["Each round:"," Machine effort (see cycle below)"," Sled Push x 30m @ 125/75kg"," Farmer Carry x 100m @ 224/16kg","","Round 1: Ski Erg x 500m","Round 2: Row x 500m","Round 3: Assault Bike x 20/15 cal","Round 4: Ski Erg x 500m","Round 5: Row x 500m","Round 6: Assault Bike x 20/15 cal"],"alternatives":["Sled Push  DB Front Rack Step-Up x 12 @ 215/10kg","Farmer Carry  DB Front Rack Carry x 100m @ 215/10kg"]}},"scaling":{"strength":"Heavier sled (150/100kg), heavier carry (232/24kg), 4 rounds","conditioning":"Lighter sled (100/60kg), push for sub-35 min","hybrid":"As written"},"avoid_after":[],"notes":"Full HYROX station density. All 3 machines cycled. This is a long grinder  pace early.","rotation":"HYROX Simulation","excerpt":"6-round machine cycle  pure vehicular chaos"},{"id":"con-007","name":"Gladiator","title":"Row/Ski Intervals + Sandbag Lunges + Burpee Broad Jump","category":"conditioning","track":["hybrid","conditioning"],"format":"for_time","energy_system":"glycolytic","movement_patterns":["squat","push","machine"],"equipment":["rower","ski_erg","sandbag","open_floor"],"duration_minutes":40,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Assault Bike or Row x 35 min","Leg Swings x 10 each direction","Bodyweight Lunges x 10 each leg","Inch Worm to Stretch x 5","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"4 Rounds","description":["Odd rounds: Row x 500m","Even rounds: Ski Erg x 500m","Every round: Sandbag Lunges x 40m @ 20/10kg","Every round: Burpee Broad Jump x 40m"],"alternatives":["Sandbag Lunges  Front Rack DB Walking Lunges @ 210/5kg","Burpee Broad Jump  10 Burpees + 10 Broad Jumps"]},"C":{"type":"COOLDOWN","title":"Easy Bike or Walk","description":["5 min @ Zone 1"]}},"scaling":{"strength":"Heavier sandbag (30/20kg), 3 rounds, add 200m to machine distances","conditioning":"As written, target sub-25 min","hybrid":"As written"},"avoid_after":["heavy_squat"],"notes":"Lunges + BBJ will light up the quads. Be aware of Tuesday squat day.","rotation":"For Time","excerpt":"Lunges + BBJ every round  arena punishment"},{"id":"con-008","name":"Aliens","title":"Ski/Row/Bike Chipper + Sled Push + Wall Balls","category":"conditioning","track":["hybrid","conditioning"],"format":"for_time","energy_system":"glycolytic","movement_patterns":["squat","push","machine"],"equipment":["ski_erg","rower","assault_bike","sled","wall_ball"],"duration_minutes":45,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Row x 3 min easy","PVC Shoulder Pass-Throughs x 10","Bodyweight Squats x 10","Arm Circles x 10 each way","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"Chipper","description":["Ski Erg x 1000m","Sled Push x 25m @ 125/75kg","Wall Balls x 50 @ 14/9lb","Row x 1000m","Sled Push x 25m","Wall Balls x 50","Assault Bike x 40/30 cal"],"alternatives":["Sled Push  DB Front Rack Walking Lunges x 20 @ 215/10kg","Wall Balls  DB Thrusters @ 28/4kg"]}},"scaling":{"strength":"Heavier sled (150/100kg), heavier wall ball (20/14lb), cut wall balls to 30 each set","conditioning":"As written  straight through, no breaks on machines if possible","hybrid":"As written"},"avoid_after":["heavy_squat"],"notes":"Long chipper. 100 total wall balls is a grind  break early (sets of 1520) to avoid redlining.","rotation":"For Time","excerpt":"Chipper  one long march through hostile territory"},{"id":"con-009","name":"Lethal Weapon","title":"E3MOM Machine + Sled Push/Pull Couplet","category":"conditioning","track":["hybrid","strength","conditioning"],"format":"emom","energy_system":"mixed","movement_patterns":["push","pull","machine"],"equipment":["rower","ski_erg","assault_bike","sled"],"duration_minutes":45,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 5 min easy","Torso Twists x 10","Bodyweight Deadlifts (hinge) x 10","Arm Circles x 10 each way","World's Greatest Stretch x 5 each side"]},"B":{"type":"E3MOM x 8 ROUNDS","title":"Machine + Sled Couplet","description":["Every 3 minutes for 8 rounds (24 min):","Round 1: Row 300m + Sled Push 15m @ 125/75kg","Round 2: Ski 300m + Sled Pull 15m @ 100/60kg","Round 3: Assault Bike x 12/10 cal + Sled Push 15m","Round 4: Row 300m + Sled Pull 15m","(Repeat cycle for rounds 58)","","Goal: finish each round in <2:30 to earn rest"],"alternatives":["Sled Push  DB Front Rack Step-Up x 8 @ 215/10kg","Sled Pull  DB RDL + Bent Over Row x 8 @ 215/10kg"]},"C":{"type":"FINISHER","title":"200m Farmer Carry","description":["200m Farmer Carry @ 224/16kg for time"],"alternatives":["Farmer Carry  DB Front Rack Carry @ 215/10kg"]}},"scaling":{"strength":"Heavier sled, 6 rounds with E3:30MOM window","conditioning":"Lighter sled, target finishing each round in <2:00","hybrid":"As written"},"avoid_after":[],"notes":"Built-in rest if you move fast. The rotating machine keeps it fresh. Farmer carry finisher is a grip test.","rotation":"EMOM","excerpt":"E3MOM with built-in rest  buddy-cop pacing, intense then chill"},{"id":"con-010","name":"Rocky","title":"Assault Bike Ladder + Sled Pull + Sandbag Lunges","category":"conditioning","track":["hybrid","conditioning"],"format":"for_time","energy_system":"glycolytic","movement_patterns":["squat","pull","machine"],"equipment":["assault_bike","sled","sandbag"],"duration_minutes":40,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 35 min easy","Bodyweight Lunges x 10 each leg","Lateral Lunges x 10 each side","Cat-Cow Stretch x 5","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"Assault Bike Ladder + Stations","description":["Bike 10 cal  Sled Pull 10m @ 100/60kg  Sandbag Lunges 20m @ 20/10kg","Bike 15 cal  Sled Pull 15m  Sandbag Lunges 30m","Bike 20 cal  Sled Pull 20m  Sandbag Lunges 40m","Bike 25 cal  Sled Pull 25m  Sandbag Lunges 50m","Bike 30 cal  Sled Pull 30m  Sandbag Lunges 50m"],"alternatives":["Sled Pull  Sandbag Clean x 10/12/14/16/18 reps (ascending)","Sandbag Lunges  Front Rack DB Walking Lunges @ 210/5kg"]}},"scaling":{"strength":"Heavier sled (125/75kg), heavier sandbag (30/20kg), cap at 4 rounds","conditioning":"As written","hybrid":"As written"},"avoid_after":["heavy_squat"],"notes":"Ascending ladder  the bike calories climb fast. Last round is a suffer-fest.","rotation":"For Time","excerpt":"Ascending bike ladder  each round hits harder"},{"id":"con-011","name":"The Matrix","title":"Mini HYROX Simulation  4 Stations","category":"conditioning","track":["hybrid","conditioning","strength"],"format":"hyrox_sim","energy_system":"mixed","movement_patterns":["push","carry","squat","machine"],"equipment":["rower","sled","kettlebells","wall_ball"],"duration_minutes":45,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Row x 3 min easy","Walking Lunges x 10 each leg","Bodyweight Squats x 10","Arm Circles x 10 each way","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"Mini HYROX  4 Stations","description":["Run 1000m","Sled Push x 50m @ 125/75kg","Run 1000m","Farmer Carry x 200m @ 224/16kg","Run 1000m","Wall Balls x 75 @ 14/9lb","Run 1000m"],"alternatives":["Run  Row 1000m or Assault Bike x 50/40 cal","Sled Push  DB Front Rack Step-Up x 20 @ 215/10kg"]}},"scaling":{"strength":"Pro weights (sled 152/102kg, carry 232/24kg, wall ball 20/14lb), 3 stations","conditioning":"Open division as written, push pace on runs","hybrid":"As written"},"avoid_after":[],"notes":"Closest thing to a real HYROX race simulation. Track total time  monthly benchmark.","rotation":"HYROX Simulation","excerpt":"Mini HYROX sim  the one where you find out what you're made of"},{"id":"con-012","name":"Point Break","title":"Alternating Machine Intervals + Burpee Broad Jump + Carry","category":"conditioning","track":["hybrid","conditioning"],"format":"for_time","energy_system":"glycolytic","movement_patterns":["push","carry","machine"],"equipment":["rower","ski_erg","open_floor","kettlebells"],"duration_minutes":40,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Ski Erg x 3 min easy","Inch Worm to Push-Up x 5","Leg Swings x 10 each direction","High Knees x 20","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"5 Rounds","description":["Odd rounds: Row x 400m","Even rounds: Ski Erg x 400m","Every round: Burpee Broad Jump x 40m","Every round: Farmer Carry x 100m @ 224/16kg"],"alternatives":["Burpee Broad Jump  8 Burpees + 8 Broad Jumps","Farmer Carry  DB Front Rack Carry x 100m @ 215/10kg"]},"C":{"type":"COOLDOWN","title":"Easy Walk","description":["35 min walk, shake it out"]}},"scaling":{"strength":"Heavier carry (232/24kg), 4 rounds, add 100m to machine distances","conditioning":"As written, target sub-22 min","hybrid":"As written"},"avoid_after":[],"notes":"BBJ + carry every round is brutal grip and leg work. Short machine distances keep transitions fast.","rotation":"For Time","excerpt":"BBJ + carry every round  relentless adrenaline"}]`),zb=JSON.parse(`[{"id":"met-001","name":"Speed","title":"Bike Sprint Tabata + Ski Erg Tabata","category":"metcon","track":["hybrid","conditioning"],"format":"tabata","sub_format":"intervals","energy_system":"alactic","movement_patterns":["machine"],"equipment":["assault_bike","ski_erg"],"duration_minutes":25,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 3 min easy","Arm Circles x 10 each way","Leg Swings x 10 each direction","2 rounds: Bike x 15s hard / 45s easy"]},"B":{"type":"TABATA","title":"Bike Sprints","description":["8 rounds: Assault Bike x 20s MAX effort / Rest 10s","Rest 2 min"]},"C":{"type":"TABATA","title":"Ski Erg Sprints","description":["8 rounds: Ski Erg x 20s MAX effort / Rest 10s"]},"D":{"type":"COOLDOWN","title":"Easy Bike","description":["Assault Bike x 5 min @ Zone 1"]}},"scaling":{"strength":"6 rounds per block  preserve CNS for Friday","conditioning":"As written, track peak cals per round","hybrid":"As written"},"avoid_after":[],"notes":"Pure sprint work. Short session but devastating. Track peak cals per interval.","rotation":"Intervals","excerpt":"Tabata sprints  don't drop below 50"},{"id":"met-002","name":"Crank","title":"Row Interval Ladder","category":"metcon","track":["hybrid","conditioning"],"format":"intervals","sub_format":"intervals","energy_system":"glycolytic","movement_patterns":["machine"],"equipment":["rower"],"duration_minutes":30,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Row x 3 min easy","Dynamic Hamstring Scoops x 10 each leg","Torso Twists x 10","2 rounds: Row x 100m @ moderate effort / Rest 30s"]},"B":{"type":"INTERVALS","title":"Row Ladder","description":["Row 250m @ 89 RPE  Rest 60s","Row 500m @ 89 RPE  Rest 90s","Row 750m @ 89 RPE  Rest 2 min","Row 1000m @ 89 RPE  Rest 2 min","Row 750m @ 89 RPE  Rest 90s","Row 500m @ 89 RPE  Rest 60s","Row 250m @ 89 RPE"]},"C":{"type":"COOLDOWN","title":"Easy Row","description":["Row x 3 min @ Zone 1"]}},"scaling":{"strength":"Cap at 750m peak (skip 1000m), add 30s rest","conditioning":"As written, target consistent pace across all intervals","hybrid":"As written"},"avoid_after":[],"notes":"Classic pyramid. The 1000m in the middle is the test. Track your 500m split.","rotation":"Intervals","excerpt":"Row ladder  keep the heart rate up or you die"},{"id":"met-003","name":"Top Gun","title":"Ski Erg EMOM + Bike Finisher","category":"metcon","track":["hybrid","conditioning"],"format":"emom","sub_format":"intervals","energy_system":"glycolytic","movement_patterns":["machine"],"equipment":["ski_erg","assault_bike"],"duration_minutes":28,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Ski Erg x 3 min easy","PVC Shoulder Pass-Throughs x 10","Arm Circles x 10 each way","Cat-Cow Stretch x 5"]},"B":{"type":"EMOM 16","title":"Ski Erg Intervals","description":["Min 1: Ski Erg x 200m @ 78 RPE","Min 2: Rest","(Repeat for 16 min = 8 working sets)"]},"C":{"type":"FOR TIME","title":"Bike Finisher","description":["Assault Bike x 50/40 cal for time"]}},"scaling":{"strength":"EMOM 12 (6 working sets), skip bike finisher","conditioning":"Increase to 250m per ski interval, 60/50 cal bike finisher","hybrid":"As written"},"avoid_after":[],"notes":"The EMOM gives you built-in rest. The bike finisher is a gut check  just go.","rotation":"Intervals","excerpt":"Ski EMOM + bike finisher  need for speed"},{"id":"met-004","name":"Jumanji","title":"HYROX Roulette  8 Stations","category":"metcon","track":["hybrid","conditioning"],"format":"roulette","sub_format":"roulette","energy_system":"mixed","movement_patterns":["push","pull","carry","squat","machine"],"equipment":["rower","ski_erg","sled","kettlebells","wall_ball","sandbag","open_floor"],"duration_minutes":35,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Assault Bike or Row x 35 min","Bodyweight Squats x 10","Walking Lunges x 10 each leg","Arm Circles x 10 each way","World's Greatest Stretch x 5 each side"]},"B":{"type":"ROULETTE","title":"HYROX Roulette  Run + Random Station x 8","description":["8 rounds:","Run 500m (or Row 500m / Assault Bike x 15 cal)"," Hit the Roulette button  Complete the station","If station repeats, hit again (or don't  your call)","","Use Partner format (half volume) for solo athletes","Use Solo format for partner teams"]}},"scaling":{"strength":"Pro division weights, 6 rounds, 1000m runs","conditioning":"Open division, 8 rounds, push for continuous effort","hybrid":"Partner format (half volume), 8 rounds with 500m runs"},"avoid_after":[],"notes":"Uses the Roulette tool. Randomness keeps it fun and prevents gaming.","rotation":"Roulette","excerpt":"8 random stations  you don't pick what comes next"},{"id":"met-005","name":"Clue","title":"Station Roulette AMRAP 20","category":"metcon","track":["hybrid","conditioning"],"format":"roulette","sub_format":"roulette","energy_system":"mixed","movement_patterns":["push","pull","carry","squat","machine"],"equipment":["assault_bike","sled","kettlebells","wall_ball","sandbag"],"duration_minutes":30,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 35 min easy","Inch Worm to Push-Up x 5","Lateral Lunges x 10 each side","World's Greatest Stretch x 5 each side"]},"B":{"type":"AMRAP 20","title":"Station Roulette","description":["Assault Bike x 15/12 cal"," Hit Roulette button  Complete the station"," Back to the bike"," Hit Roulette again","Repeat for 20 min","","Score = total stations completed"]}},"scaling":{"strength":"Pro weights, 15 min AMRAP","conditioning":"Open weights, 25 min AMRAP","hybrid":"Partner format, 20 min AMRAP"},"avoid_after":[],"notes":"Bike between every station keeps HR elevated. Score is total stations  simple and competitive.","rotation":"Roulette","excerpt":"AMRAP roulette  whodunit energy, different every time"},{"id":"met-006","name":"Total Recall","title":"Roulette Pairs  Run + 2 Random Stations","category":"metcon","track":["hybrid","conditioning"],"format":"roulette","sub_format":"roulette","energy_system":"mixed","movement_patterns":["push","pull","carry","squat","machine"],"equipment":["rower","ski_erg","sled","kettlebells","wall_ball","sandbag","open_floor"],"duration_minutes":35,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Row or Assault Bike x 35 min","High Knees x 20","Butt Kicks x 20","Dynamic Hamstring Scoops x 10 each leg","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"5 Rounds  Run + Roulette Pairs","description":["Each round:","Run 400m"," Hit Roulette  Complete station"," Hit Roulette again  Complete second station"," Run 400m (next round)","","5 rounds total = 10 random stations + 5 runs"]}},"scaling":{"strength":"Pro weights, 4 rounds, 800m runs","conditioning":"Open weights, 6 rounds, 400m runs","hybrid":"Partner format, 5 rounds, 400m runs"},"avoid_after":[],"notes":"Double roulette per round is chaotic. You might get sled push + sled pull back-to-back. That's the game.","rotation":"Roulette","excerpt":"Double roulette  is this real life?"},{"id":"met-007","name":"Demolition Man","title":"Compromised Run  DB Complex","category":"metcon","track":["hybrid","conditioning"],"format":"compromised_run","sub_format":"compromised_running","energy_system":"glycolytic","movement_patterns":["press","hinge","squat","run"],"equipment":["dumbbells","open_floor"],"duration_minutes":30,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Jog x 35 min easy","Bodyweight Squats x 10","Walking Lunges x 10 each leg","Arm Circles x 10 each way","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"Compromised Run  DB Complex","description":["Run 800m","DB Hang Power Clean x 15 @ 215/10kg","Run 800m","DB Devil Press x 15 @ 215/10kg","Run 800m","DB Thrusters x 15 @ 215/10kg","Run 800m"],"alternatives":["Run  High Knees x 3 min or Assault Bike x 30/22 cal","Scale DB load to ensure good form"]}},"scaling":{"strength":"Heavier DBs (220/15kg), 600m runs","conditioning":"As written, push for sub-25 min","hybrid":"As written"},"avoid_after":["heavy_press"],"notes":"The devil presses are the killer. Break early if needed (sets of 8/7 or 10/5).","rotation":"Compromised Running","excerpt":"DB complex between runs  controlled destruction"},{"id":"met-008","name":"Cliffhanger","title":"Run + Wall Ball Ladder","category":"metcon","track":["hybrid","conditioning"],"format":"compromised_run","sub_format":"compromised_running","energy_system":"glycolytic","movement_patterns":["squat","run"],"equipment":["wall_ball","open_floor"],"duration_minutes":30,"intensity":"high","sections":{"A":{"type":"WARM UP","description":["Jog x 3 min easy","High Knees x 20","Butt Kicks x 20","Bodyweight Squats x 10","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"Run + Wall Ball Ladder","description":["Run 200m + Wall Balls x 10 @ 14/9lb","Run 400m + Wall Balls x 20","Run 600m + Wall Balls x 30","Run 800m + Wall Balls x 40","Run 400m + Wall Balls x 20"],"alternatives":["Run  Assault Bike x 2.5 distance in meters of cal","Wall Balls  DB Thrusters @ 28/4kg"]}},"scaling":{"strength":"Heavier wall ball (20/14lb), cap at 20 reps per round, add 200m to runs","conditioning":"As written, target consistent run pace","hybrid":"As written"},"avoid_after":["heavy_squat"],"notes":"120 total wall balls. The 800m + 40 WB round is where you earn it.","rotation":"Compromised Running","excerpt":"Run + wall ball ladder  the climb keeps getting steeper"},{"id":"met-009","name":"The Fugitive","title":"Fartlek Run + Burpee Buy-In","category":"metcon","track":["hybrid","conditioning"],"format":"compromised_run","sub_format":"compromised_running","energy_system":"mixed","movement_patterns":["push","run"],"equipment":["open_floor"],"duration_minutes":30,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Jog x 5 min easy","High Knees x 20","Butt Kicks x 20","Skips x 10m","Dynamic Hamstring Scoops x 10 each leg"]},"B":{"type":"FARTLEK","title":"Fartlek + Burpee Buy-In","description":["5 Rounds:","Burpees x 10","Run 60s @ 78 RPE (faster than 5k pace)","Jog 90s @ 34 RPE","","Then:","Continuous run x 10 min @ Zone 2 (34 RPE)","Record total distance if possible"]}},"scaling":{"strength":"3 rounds of burpee/fartlek, 8 min Zone 2 run","conditioning":"7 rounds of burpee/fartlek, 12 min Zone 2 run","hybrid":"As written"},"avoid_after":[],"notes":"Burpees before each fast interval simulate compromised running. Zone 2 finisher builds aerobic base.","rotation":"Compromised Running","excerpt":"Fartlek + burpees  running from something"},{"id":"met-010","name":"Bloodsport","title":"Bodyweight AMRAP 15","category":"metcon","track":["hybrid","conditioning"],"format":"amrap","sub_format":"bodyweight_metcon","energy_system":"glycolytic","movement_patterns":["push","squat","pull"],"equipment":["pull_up_bar"],"duration_minutes":25,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Jog or Assault Bike x 3 min","Scapular Pull-Ups x 10","Scapular Push-Ups x 10","Bodyweight Squats x 10","World's Greatest Stretch x 5 each side"]},"B":{"type":"AMRAP 15","title":"Bodyweight Grinder","description":["Pull-Ups x 8 (band if needed)","Push-Ups x 16","Air Squats x 24","Sit-Ups x 12"],"alternatives":["Pull-Ups  Ring Rows or Inverted Rows","Push-Ups  Incline Push-Ups"]},"C":{"type":"COOLDOWN","title":"Easy Walk or Bike","description":["35 min @ Zone 1"]}},"scaling":{"strength":"Weighted pull-ups, deficit push-ups, 12 min AMRAP","conditioning":"As written, 20 min AMRAP","hybrid":"As written"},"avoid_after":[],"notes":"Zero equipment needed (just a pull-up bar). Great for busy gym days. Score = rounds + reps.","rotation":"Bodyweight Metcon","excerpt":"Bodyweight AMRAP  pure fighting shape"},{"id":"met-011","name":"Kickboxer","title":"DB Complex EMOM","category":"metcon","track":["hybrid","conditioning"],"format":"emom","sub_format":"bodyweight_metcon","energy_system":"glycolytic","movement_patterns":["press","hinge","squat"],"equipment":["dumbbells"],"duration_minutes":25,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike or Row x 3 min","Bodyweight Squats x 10","Arm Circles x 10 each way","Walking Lunges x 10 each leg","World's Greatest Stretch x 5 each side"]},"B":{"type":"EMOM 15","title":"DB Complex","description":["Min 1: DB Hang Clean + Push Press x 8 @ 215/10kg","Min 2: DB Front Rack Walking Lunges x 12 @ 215/10kg","Min 3: DB Renegade Rows x 10 @ 215/10kg","(Repeat for 15 min = 5 rounds)"],"alternatives":["Renegade Rows  DB Bent Over Rows x 12","Walking Lunges  Reverse Lunges (stationary)"]},"C":{"type":"FINISHER","title":"Plank Hold","description":["Max hold plank  record time","Rest 60s  Max hold again"]}},"scaling":{"strength":"Heavier DBs (220/15kg), 12 min EMOM","conditioning":"As written, 18 min EMOM (6 rounds)","hybrid":"As written"},"avoid_after":["heavy_press"],"notes":"Light DBs, high density. The EMOM forces efficient movement.","rotation":"Bodyweight Metcon","excerpt":"DB complex EMOM  Van Damme energy"},{"id":"met-012","name":"Cobra","title":"Push-Up + Air Squat Descender + Core Finisher","category":"metcon","track":["hybrid","conditioning","strength"],"format":"for_time","sub_format":"bodyweight_metcon","energy_system":"glycolytic","movement_patterns":["push","squat"],"equipment":[],"duration_minutes":25,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Jog x 3 min","Scapular Push-Ups x 10","Bodyweight Squats x 10","Inch Worm to Push-Up x 5","World's Greatest Stretch x 5 each side"]},"B":{"type":"FOR TIME","title":"Descending Ladder","description":["10-9-8-7-6-5-4-3-2-1:","Push-Ups","Air Squats (2  so 20-18-16-14-12-10-8-6-4-2)","Burpees (2  so 5-5-4-4-3-3-2-2-1-1)"]},"C":{"type":"CORE","title":"Core Finisher","description":["3 rounds:","Hollow Hold x 30s","Russian Twists x 20","Side Plank x 20s each side"]}},"scaling":{"strength":"Deficit push-ups, add a 20lb vest","conditioning":"As written","hybrid":"As written"},"avoid_after":[],"notes":"Zero equipment. Total reps: 55 push-ups, 110 air squats, 30 burpees. Deceptively hard.","rotation":"Bodyweight Metcon","excerpt":"Descending ladder, zero equipment  stripped down and mean"}]`),qb=JSON.parse(`[{"id":"acc-001","name":"Heat","title":"RDL + Hip Thrust + Bent Over Row","category":"accessory","track":["hybrid","strength","conditioning"],"format":"accessory","rotation":"Posterior Chain","energy_system":"aerobic","movement_patterns":["hinge","pull"],"equipment":["barbell","dumbbells","bench"],"duration_minutes":40,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike or Row x 5 min easy","Bodyweight Deadlifts (hinge pattern) x 10","Glute Bridges x 15","Cat-Cow Stretch x 5","World's Greatest Stretch x 5 each side"]},"B":{"type":"STRENGTH","title":"Romanian Deadlift","description":["4 sets x 810 reps","Rest 90s between sets","Moderate weight  focus on hamstring stretch and glute squeeze at top"]},"C":{"type":"SUPERSET","title":"Hip Thrust + Bent Over Row","description":["3 sets:","Barbell Hip Thrust x 12","DB Bent Over Row x 12 each arm","Rest 60s between supersets"]},"D":{"type":"FINISHER","title":"Banded Hamstring Curls","description":["3 sets x 1520 reps","Band around ankle, prone on bench","Slow eccentric (3s down)"],"alternatives":["Machine Hamstring Curl x 15","Nordic Curl Negatives x 5"]}},"scaling":{"strength":"Heavier RDLs (46 at higher weight), add barbell rows instead of DB","conditioning":"Circuit format: RDL x 8  Hip Thrust x 12  Row x 12  Ham Curl x 15, 4 rounds, 60s rest","hybrid":"As written"},"avoid_after":["deadlift"],"notes":"Classic posterior chain day. Supports deadlift progression. Don't go so heavy you're wrecked for Friday.","excerpt":"RDLs + hip thrusts  methodical, heavy, professional"},{"id":"acc-002","name":"Ronin","title":"Good Morning + Glute Bridge + Face Pull","category":"accessory","track":["hybrid","strength","conditioning"],"format":"accessory","rotation":"Posterior Chain","energy_system":"aerobic","movement_patterns":["hinge","pull"],"equipment":["barbell","dumbbells","cable_machine"],"duration_minutes":40,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Row x 5 min easy","Cat-Cow Stretch x 5","Bird Dogs x 8 each side","Glute Bridges x 15","World's Greatest Stretch x 5 each side"]},"B":{"type":"STRENGTH","title":"Barbell Good Morning","description":["4 sets x 810 reps","Light-to-moderate weight  this is an accessory, not a max effort","Rest 90s"]},"C":{"type":"SUPERSET","title":"Single-Leg Glute Bridge + Cable Face Pull","description":["3 sets:","Single-Leg Glute Bridge x 10 each side","Cable Face Pull x 15","Rest 60s"],"alternatives":["Cable Face Pull  Band Pull-Apart x 20"]},"D":{"type":"FINISHER","title":"Back Extension Hold","description":["3 sets x 20s hold at top","Bodyweight or light plate"],"alternatives":["Superman Hold x 30s"]}},"scaling":{"strength":"Heavier good mornings (46), add weighted back extensions","conditioning":"Circuit: Good Morning x 8  SL Glute Bridge x 10/side  Face Pull x 15  Back Ext x 10, 4 rounds minimal rest","hybrid":"As written"},"avoid_after":["deadlift"],"notes":"Lighter posterior chain work. Good mornings build the same muscles as deadlifts without the CNS tax.","excerpt":"Good mornings + face pulls  calculated, no wasted motion"},{"id":"acc-003","name":"The Bourne Identity","title":"B-Stance RDL + Seated Row + Hamstring Curl","category":"accessory","track":["hybrid","strength","conditioning"],"format":"accessory","rotation":"Posterior Chain","energy_system":"aerobic","movement_patterns":["hinge","pull"],"equipment":["dumbbells","cable_machine"],"duration_minutes":40,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 5 min easy","Bodyweight Deadlifts x 10","Dead Bugs x 8 each side","Clamshells x 15 each side","World's Greatest Stretch x 5 each side"]},"B":{"type":"STRENGTH","title":"B-Stance Romanian Deadlift","description":["4 sets x 8 each leg","DB in each hand","Rest 90s between sets"]},"C":{"type":"SUPERSET","title":"Cable Seated Row + Hamstring Curl","description":["3 sets:","Cable Seated Row x 12","Machine or Banded Hamstring Curl x 12","Rest 60s"]},"D":{"type":"CORE","title":"Anti-Extension","description":["3 sets:","Ab Wheel Rollout x 810 (or Plank x 30s)","Dead Bug x 10 each side"]}},"scaling":{"strength":"Heavier B-stance RDL, add barbell rows, 4 sets on everything","conditioning":"Circuit format, 4 rounds, 45s rest between rounds","hybrid":"As written"},"avoid_after":["deadlift"],"notes":"B-stance RDL is a unilateral posterior chain builder. Great for identifying L/R imbalances.","excerpt":"B-stance RDL  unilateral, precise, adaptive"},{"id":"acc-004","name":"Escape from New York","title":"KB Swing + Pull-Up + Farmer Carry","category":"accessory","track":["hybrid","conditioning"],"format":"accessory","rotation":"Posterior Chain","energy_system":"glycolytic","movement_patterns":["hinge","pull","carry"],"equipment":["kettlebells","pull_up_bar"],"duration_minutes":35,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike or Row x 5 min easy","KB Deadlift x 10","KB Halo x 10 each direction","Scapular Pull-Ups x 10","World's Greatest Stretch x 5 each side"]},"B":{"type":"E2MOM x 6","title":"KB Swing + Pull-Up","description":["Every 2 min for 6 rounds:","KB Swing x 15 @ 24/16kg","Pull-Up x 68 (band if needed)"],"alternatives":["Pull-Ups  Ring Rows"]},"C":{"type":"FINISHER","title":"Farmer Carry Accumulation","description":["Accumulate 400m Farmer Carry @ 224/16kg","Break as needed, clock runs"]}},"scaling":{"strength":"Heavier KB (32/24kg), weighted pull-ups, heavier carry (232/24kg)","conditioning":"As written, push for unbroken carry","hybrid":"As written"},"avoid_after":["deadlift"],"notes":"More conditioning-flavored posterior chain work. KB swings + pull-ups are a HYROX-relevant pairing.","excerpt":"KB swings + pull-ups + carry  scrappy, resourceful"},{"id":"acc-005","name":"Mission Impossible","title":"DB Bench + Dips + Tricep Pushdown","category":"accessory","track":["hybrid","strength","conditioning"],"format":"accessory","rotation":"Pressing + Core","energy_system":"aerobic","movement_patterns":["press","push"],"equipment":["dumbbells","bench","dip_station","cable_machine"],"duration_minutes":40,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 5 min easy","PVC Shoulder Pass-Throughs x 10","Scapular Push-Ups x 10","Band Pull-Aparts x 15","World's Greatest Stretch x 5 each side"]},"B":{"type":"STRENGTH","title":"Dumbbell Bench Press","description":["4 sets x 1012 reps","Moderate weight  hypertrophy focus","Rest 90s"]},"C":{"type":"SUPERSET","title":"Dips + Tricep Pushdown","description":["3 sets:","Dips x 1015 (band assist if needed)","Cable Tricep Pushdown x 15","Rest 60s"],"alternatives":["Dips  Bench Dips","Cable Pushdown  Band Pushdown"]},"D":{"type":"CORE","title":"Pressing Core","description":["3 sets:","Plank Hold x 45s","Pallof Press x 10 each side"],"alternatives":["Pallof Press  Band Anti-Rotation Hold x 20s each side"]}},"scaling":{"strength":"Heavier DB bench (48), weighted dips, 4 sets on everything","conditioning":"Circuit: DB Bench x 10  Dips x 15  Pushdown x 15  Plank x 30s, 4 rounds, 60s rest","hybrid":"As written"},"avoid_after":["heavy_bench"],"notes":"Pressing volume to support bench progression. DB bench builds stabilizers barbell doesn't hit.","excerpt":"DB bench + dips  executing the plan"},{"id":"acc-006","name":"Batman Begins","title":"DB Z-Press + Push-Ups + Lateral Raise","category":"accessory","track":["hybrid","strength","conditioning"],"format":"accessory","rotation":"Pressing + Core","energy_system":"aerobic","movement_patterns":["press"],"equipment":["dumbbells"],"duration_minutes":35,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Row x 5 min easy","PVC Shoulder Pass-Throughs x 10","Y-T-W Raises x 10","Arm Circles x 10 each way","World's Greatest Stretch x 5 each side"]},"B":{"type":"STRENGTH","title":"DB Z-Press","description":["4 sets x 810 reps","Seated on floor, legs extended","Rest 90s"]},"C":{"type":"SUPERSET","title":"Push-Ups + Lateral Raise","description":["3 sets:","Push-Ups x 1520","DB Lateral Raise x 1215","Rest 60s"]},"D":{"type":"CORE","title":"Anti-Rotation","description":["3 sets:","Pallof Press x 10 each side","Side Plank x 20s each side"]}},"scaling":{"strength":"Heavier Z-press (46), deficit push-ups, 4 sets","conditioning":"Circuit format, 4 rounds, minimal rest","hybrid":"As written"},"avoid_after":["heavy_press"],"notes":"Z-press forces strict pressing with no leg drive or back arch. Humbling but effective for OHP transfer.","excerpt":"Z-press  humbling, foundational, building from nothing"},{"id":"acc-007","name":"The Untouchables","title":"Incline DB Press + Dips + Skull Crushers","category":"accessory","track":["hybrid","strength","conditioning"],"format":"accessory","rotation":"Pressing + Core","energy_system":"aerobic","movement_patterns":["press","push"],"equipment":["dumbbells","bench","dip_station","ez_bar"],"duration_minutes":40,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 5 min easy","PVC Shoulder Pass-Throughs x 10","Scapular Push-Ups x 10","Inch Worm to Push-Up x 5","World's Greatest Stretch x 5 each side"]},"B":{"type":"STRENGTH","title":"Incline DB Bench Press","description":["4 sets x 1012 reps","3045 incline","Rest 90s"]},"C":{"type":"SUPERSET","title":"Dips + Skull Crushers","description":["3 sets:","Ring Dips or Bar Dips x 812","EZ Bar Skull Crushers x 12","Rest 60s"],"alternatives":["Ring Dips  Bench Dips","Skull Crushers  Overhead DB Tricep Extension"]},"D":{"type":"CORE","title":"Loaded Carry + Plank","description":["3 rounds:","Overhead DB Carry x 50m (single arm, switch halfway)","Plank Hold x 30s"]}},"scaling":{"strength":"Heavier incline press (48), weighted dips, 4 sets everything","conditioning":"Circuit: Incline x 10  Dips x 12  Skull Crush x 12  Carry x 50m, 4 rounds, 60s rest","hybrid":"As written"},"avoid_after":["heavy_bench"],"notes":"Incline pressing builds upper chest and front delt  transfers directly to overhead press.","excerpt":"Incline press + skull crushers  clean, organized, effective"},{"id":"acc-008","name":"Fight Club","title":"Push-Up Variations + KB Press + Hollow Body","category":"accessory","track":["hybrid","conditioning"],"format":"accessory","rotation":"Pressing + Core","energy_system":"glycolytic","movement_patterns":["press","push"],"equipment":["kettlebells"],"duration_minutes":30,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 5 min easy","Scapular Push-Ups x 10","Band Pull-Aparts x 15","Cat-Cow Stretch x 5","World's Greatest Stretch x 5 each side"]},"B":{"type":"EMOM 12","title":"Push-Up Variation + KB Press","description":["Min 1: Push-Up Variation x 10 (rotate: standard / diamond / wide / archer)","Min 2: Single-Arm KB Press x 6 each arm @ 16/12kg","Min 3: Hollow Body Hold x 30s","(4 rounds)"]},"C":{"type":"FINISHER","title":"Max Push-Ups","description":["1 set: Max unbroken push-ups","Record your number"]}},"scaling":{"strength":"Heavier KB (24/16kg), deficit push-ups, 15 min EMOM (5 rounds)","conditioning":"As written","hybrid":"As written"},"avoid_after":["heavy_bench","heavy_press"],"notes":"Minimal equipment pressing day. Push-up variation rotation hits all angles. Track your max set over time.","excerpt":"Push-up variations EMOM  first rule: don't talk about it"},{"id":"acc-009","name":"Crouching Tiger","title":"90/90 Flow + Pistol Progression + Step-Up","category":"accessory","track":["hybrid","strength","conditioning"],"format":"mobility","rotation":"Mobility + Single-Leg","energy_system":"aerobic","movement_patterns":["squat","balance"],"equipment":["box","dumbbells"],"duration_minutes":40,"intensity":"low","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 5 min easy","Cat-Cow Stretch x 10","Supine Knee-to-Chest x 30s each side","Child's Pose with Lateral Reach x 30s each side","Supine Figure-Four Stretch x 60s each side"]},"B":{"type":"MOBILITY","title":"Hip Flow","description":["3 rounds:","90/90 Hip Switches x 8 each side (slow and controlled)","Pigeon Pose Hold x 45s each side","Deep Squat Hold x 30s (hold bottom of squat, push knees out)"]},"C":{"type":"STRENGTH","title":"Pistol Squat Progression + Step-Up","description":["3 sets:","Seated Pistol Squat x 6 each leg (to box, lower box as you progress)","DB Step-Up x 8 each leg @ 20\\" box","Rest 60s"],"alternatives":["Pistol  Assisted Pistol with band or TRX","Step-Up  Box Step-Up bodyweight only"]},"D":{"type":"COOLDOWN","title":"Stretch","description":["Couch Stretch x 60s each side","Hamstring Stretch x 60s each side","Hanging Spinal Decompression x 60s"]}},"scaling":{"strength":"Heavier step-ups, lower box for pistols, add weighted vest","conditioning":"Add Assault Bike x 3 min between each round of section B","hybrid":"As written"},"avoid_after":[],"notes":"Mobility focus  90/90s are a known weak spot. Progressive overload the pistol box height over weeks.","excerpt":"90/90 flow + pistol progression  movement mastery"},{"id":"acc-010","name":"The Karate Kid","title":"Shoulder Flow + Turkish Get-Up + Balance Work","category":"accessory","track":["hybrid","strength","conditioning"],"format":"mobility","rotation":"Mobility + Single-Leg","energy_system":"aerobic","movement_patterns":["press","balance"],"equipment":["kettlebells"],"duration_minutes":40,"intensity":"low","sections":{"A":{"type":"WARM UP","description":["Row x 5 min easy","PVC Shoulder Pass-Throughs x 15","Y-T-W Raises x 10","Arm Circles x 15 each way","Thread the Needle x 8 each side"]},"B":{"type":"SKILL","title":"Turkish Get-Up","description":["5 per side  take your time","Light KB (1216kg / 812kg)","Focus on positions, not speed","Full range of motion every rep"]},"C":{"type":"SUPERSET","title":"Single-Leg Balance + Shoulder Stability","description":["3 sets:","Single-Leg RDL x 8 each side (BW or light DB)","KB Windmill x 5 each side @ light weight","Single-Leg Balance Hold x 30s each side (eyes closed if possible)"]},"D":{"type":"COOLDOWN","title":"Stretch","description":["Doorway Pec Stretch x 45s each side","Lat Stretch x 45s each side","Child's Pose x 60s"]}},"scaling":{"strength":"Heavier TGU (2024kg), weighted single-leg RDL","conditioning":"Add Assault Bike x 2 min between rounds of section C","hybrid":"As written"},"avoid_after":[],"notes":"TGU is the ultimate full-body movement quality test. Low weight, high attention. Great for SI/lumbar health.","excerpt":"TGU + balance  wax on, wax off"},{"id":"acc-011","name":"Blade Runner","title":"Bulgarian Split Squat + Lateral Work + Hip Flow","category":"accessory","track":["hybrid","strength","conditioning"],"format":"accessory","rotation":"Mobility + Single-Leg","energy_system":"aerobic","movement_patterns":["squat","balance"],"equipment":["dumbbells","bench","band"],"duration_minutes":40,"intensity":"moderate","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 5 min easy","Lateral Band Walk x 15 each direction","Clamshells x 15 each side","Bodyweight Lunges x 10 each leg","World's Greatest Stretch x 5 each side"]},"B":{"type":"STRENGTH","title":"Bulgarian Split Squat","description":["4 sets x 8 each leg","DB in each hand","Rear foot on bench","Rest 90s"]},"C":{"type":"SUPERSET","title":"Lateral Lunge + Banded Lateral Walk","description":["3 sets:","DB Lateral Lunge x 8 each side","Banded Lateral Walk x 15 each direction","Rest 60s"]},"D":{"type":"MOBILITY","title":"Hip Flow","description":["2 rounds:","90/90 Hip Switches x 8 each side","Pigeon Pose x 45s each side","Frog Stretch x 45s"]}},"scaling":{"strength":"Heavier BSS (46), add barbell BSS, 4 sets on superset","conditioning":"Circuit: BSS x 8/side  Lat Lunge x 8/side  Band Walk x 15/side  90/90 x 8/side, 4 rounds, 60s rest","hybrid":"As written"},"avoid_after":["heavy_squat"],"notes":"BSS is arguably the best single-leg exercise for squat transfer. Lateral work addresses the frontal plane.","excerpt":"Bulgarian split squat + lateral  precision engineering"},{"id":"acc-012","name":"Big Trouble in Little China","title":"Cossack Squat + Single-Leg Deadlift + Ankle/Hip Flow","category":"accessory","track":["hybrid","strength","conditioning"],"format":"mobility","rotation":"Mobility + Single-Leg","energy_system":"aerobic","movement_patterns":["squat","hinge","balance"],"equipment":["kettlebells"],"duration_minutes":35,"intensity":"low","sections":{"A":{"type":"WARM UP","description":["Assault Bike x 5 min easy","Ankle Circles x 10 each direction","Bodyweight Squats x 10 (slow, 3s down)","Lateral Lunges x 10 each side","World's Greatest Stretch x 5 each side"]},"B":{"type":"STRENGTH","title":"Cossack Squat + Single-Leg Deadlift","description":["3 sets:","Cossack Squat x 6 each side (KB goblet hold optional)","Single-Leg Deadlift x 8 each side (KB or DB)","Rest 60s"]},"C":{"type":"MOBILITY","title":"Ankle + Hip Flow","description":["2 rounds:","Wall Ankle Stretch x 30s each side","Deep Squat Hold x 45s","90/90 Hip Switches x 8 each side","Pigeon Pose x 45s each side","Couch Stretch x 45s each side"]},"D":{"type":"COOLDOWN","title":"Decompression","description":["Hanging Spinal Decompression x 60s","Supine Knee-to-Chest x 30s each side"]}},"scaling":{"strength":"Heavier KB for Cossack and SLDL, 4 sets","conditioning":"Add 3 min Assault Bike between sections B and C","hybrid":"As written"},"avoid_after":[],"notes":"Cossack squats build hip mobility under load  directly transfers to squat depth. Lighter day overall.","excerpt":"Cossack squat + hip flow  weird, wonderful, secretly brilliant"}]`),_s=[...Lb,...zb,...qb],Hb=[...new Set(_s.map(s=>s.category))].sort(),tl={conditioning:"Conditioning",metcon:"MetCon",accessory:"Accessory"},Ir={conditioning:"var(--color-cyan)",metcon:"var(--color-magenta)",accessory:"var(--color-neon-green)"},Gb=[...new Set(_s.map(s=>s.format))].sort(),$b=[...new Set(_s.flatMap(s=>s.track))].sort();function Ku({category:s,format:a,track:r,search:l}={}){return _s.filter(c=>{if(s&&c.category!==s||a&&c.format!==a||r&&!c.track.includes(r))return!1;if(l){const d=l.toLowerCase();if(!`${c.name} ${c.title}`.toLowerCase().includes(d))return!1}return!0})}function Gm(s){return _s.find(a=>a.id===s)||null}function Pb(s,a=5){return Math.round(s/a)*a}const ys=[{key:"squat",label:"Back Squat",color:"magenta"},{key:"bench",label:"Bench Press",color:"cyan"},{key:"deadlift",label:"Deadlift",color:"neon-green"},{key:"press",label:"Overhead Press",color:"yellow"}],Vu=[[{p:65,r:"5"},{p:75,r:"5"},{p:85,r:"5+"}],[{p:70,r:"3"},{p:80,r:"3"},{p:90,r:"3+"}],[{p:75,r:"5"},{p:85,r:"3"},{p:95,r:"1+"}]],mg=[{p:40,r:"5"},{p:50,r:"5"},{p:60,r:"5"}],Vr=["5/5/5+","3/3/3+","5/3/1+","Deload"],Wu={magenta:"var(--color-magenta)",cyan:"var(--color-cyan)","neon-green":"var(--color-neon-green)",yellow:"var(--color-yellow)"};function Xu(s,a,r,l){const c=parseFloat(s)||0;if(!c)return null;const h=(r==="1rm"?c*.9:c)*a/100;return l?Pb(h,5):h.toFixed(1)}function gg(s,a,r){const l=new Date(s+"T00:00:00"),c=new Date(a+"T00:00:00"),d=Math.round((c-l)/(10080*60*1e3)),h=r?4:3;return(d%h+h)%h}function Yb(s,a){return a&&s===3?mg:Vu[s]||Vu[0]}const Kb=[45,25,15,10,5,2.5],Vb=[45,35,15],$m="thrive:bar-weight",Wb={45:"#3B82F6",25:"#22C55E",15:"#555555",10:"#444444",5:"#9CA3AF",2.5:"#6B7280"},Pm=new Set([45,25,15,10]),Xb={45:14,25:12,15:10,10:8,5:8,2.5:8};function Ym(s,a){if(s<a)return null;if(s===a)return[];let r=(s-a)/2;const l=[];for(const c of Kb)for(;r>=c-.01;)l.push(c),r-=c;return r>.01?null:l}function Jb(s,a){if(s<=a)return a;const r=s-a,l=Math.round(r/5)*5;return a+l}function Km(s){if(!s||s.length===0)return"";const a={};return s.forEach(r=>{a[r]=(a[r]||0)+1}),Object.entries(a).map(([r,l])=>`${l}${r}`).join(" + ")+" each side"}function Vm({plates:s,barWeight:a}){let w=80;const A=s.map((T,L)=>{const $=Pm.has(T)?64:40,G=Xb[T]||10,J={x:w,y:50-$/2,width:G,height:$,color:Wb[T],weight:T,key:L};return w+=G+2,J}),k=Math.max(w+20,340);return v.jsxs("svg",{viewBox:`0 0 ${k} 100`,className:"w-full",style:{maxHeight:"120px"},children:[v.jsx("rect",{x:10,y:50-10/2,width:w-10+10,height:10,rx:2,fill:"#71717A"}),v.jsx("rect",{x:70,y:50-16/2,width:8,height:16,rx:1,fill:"#A1A1AA"}),A.map(T=>{const H=!Pm.has(T.weight)?50+40/2+10:50+64/2+12,$=T.x+T.width/2;return T.weight===2.5?v.jsxs("g",{children:[v.jsx("rect",{x:T.x,y:T.y,width:T.width,height:T.height,rx:2,fill:T.color}),v.jsx("text",{x:$,y:H,textAnchor:"middle",fontSize:"7",fill:"#ccc",fontFamily:"monospace",letterSpacing:"-0.5",transform:`rotate(90 ${$} ${H})`,children:T.weight})]},T.key):v.jsxs("g",{children:[v.jsx("rect",{x:T.x,y:T.y,width:T.width,height:T.height,rx:2,fill:T.color}),v.jsx("text",{x:$,y:H,textAnchor:"middle",fontSize:"9",fill:"#ccc",fontFamily:"monospace",children:T.weight})]},T.key)}),v.jsxs("text",{x:40,y:50-10/2-6,textAnchor:"middle",fontSize:"10",fill:"#999",fontFamily:"monospace",children:[a,"lb bar"]}),s.length>0&&v.jsx("text",{x:w+24,y:54,fontSize:"9",fill:"#666",fontFamily:"monospace",children:"each side"})]})}function Fu({weight:s,onClose:a}){const[r,l]=V.useState(()=>{const T=localStorage.getItem($m);return T?Number(T):45}),[c,d]=V.useState(""),[h,m]=V.useState("100"),[g,p]=V.useState(!1);V.useEffect(()=>{requestAnimationFrame(()=>p(!0))},[]),V.useEffect(()=>{localStorage.setItem($m,String(r))},[r]);function b(){p(!1),setTimeout(a,200)}const x=c&&h?parseFloat(c)*parseFloat(h)/100:null,w=x!==null?Jb(Math.round(x),r):null,A=x!==null&&w!==Math.round(x),k=s?Ym(Number(s),r):null;return v.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col justify-end",onClick:b,children:[v.jsx("div",{className:"absolute inset-0 bg-black transition-opacity duration-200",style:{opacity:g?.6:0}}),v.jsxs("div",{className:"relative bg-card-bg border-t border-border rounded-t-xl max-h-[85vh] overflow-y-auto transition-transform duration-200",style:{transform:g?"translateY(0)":"translateY(100%)"},onClick:T=>T.stopPropagation(),children:[v.jsx("div",{className:"flex justify-center pt-3 pb-1",children:v.jsx("div",{className:"w-10 h-1 rounded-full bg-border"})}),v.jsxs("div",{className:"px-4 pb-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"Plate Calculator"}),v.jsx("button",{onClick:b,className:"text-xs opacity-50 hover:opacity-100 px-2 py-1",children:"Close"})]}),v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx("span",{className:"text-xs opacity-50 uppercase tracking-wider",children:"Bar:"}),Vb.map(T=>v.jsxs("button",{onClick:()=>l(T),className:"text-xs font-mono px-3 py-1.5 border rounded transition-colors",style:{borderColor:r===T?"var(--color-magenta)":"var(--color-border)",color:r===T?"var(--color-magenta)":void 0,opacity:r===T?1:.5},children:[T," lb"]},T))]}),s&&v.jsxs("div",{className:"mb-4",children:[v.jsx("p",{className:"text-xs opacity-50 uppercase tracking-wider mb-1",children:"Target Weight"}),v.jsxs("p",{className:"text-2xl font-bold font-mono",children:[s," lb"]})]}),s&&k!==null&&v.jsxs("div",{className:"mb-4",children:[v.jsx(Vm,{plates:k,barWeight:r}),k.length>0&&v.jsx("p",{className:"text-xs opacity-70 font-mono mt-2 text-center",children:Km(k)}),k.length===0&&v.jsx("p",{className:"text-xs opacity-50 mt-2 text-center",children:"Empty bar  no plates needed"})]}),s&&k===null&&v.jsx("div",{className:"mb-4 text-center py-4",children:v.jsx("p",{className:"text-sm opacity-50",children:Number(s)<r?`Weight is less than the ${r} lb bar`:"Cannot be made with standard plates"})}),v.jsxs("div",{className:"border-t border-border pt-4 mt-2",children:[v.jsx("p",{className:"text-xs opacity-50 uppercase tracking-wider mb-3",children:"Quick Calc"}),v.jsxs("div",{className:"flex gap-2 items-end",children:[v.jsxs("label",{className:"flex-1",children:[v.jsx("span",{className:"text-[10px] opacity-50 uppercase block mb-1",children:"Weight"}),v.jsx("input",{type:"number",min:"0",placeholder:"e.g. 315",value:c,onChange:T=>d(T.target.value),className:"w-full p-2 border border-border rounded-md bg-input-bg font-mono text-sm"})]}),v.jsx("span",{className:"text-xs opacity-30 pb-2.5",children:""}),v.jsxs("label",{className:"flex-1",children:[v.jsx("span",{className:"text-[10px] opacity-50 uppercase block mb-1",children:"%"}),v.jsx("input",{type:"number",min:"0",max:"100",placeholder:"e.g. 85",value:h,onChange:T=>m(T.target.value),className:"w-full p-2 border border-border rounded-md bg-input-bg font-mono text-sm"})]}),v.jsx("span",{className:"text-xs opacity-30 pb-2.5",children:"="}),v.jsxs("div",{className:"flex-1",children:[v.jsx("span",{className:"text-[10px] opacity-50 uppercase block mb-1",children:"Result"}),v.jsxs("div",{className:"p-2 border border-border rounded-md bg-input-bg font-mono text-sm font-bold",style:{minHeight:"38px"},children:[w??"",A&&v.jsxs("span",{className:"text-[10px] opacity-40 font-normal ml-1",children:["(",Math.round(x),")"]})]})]})]}),w&&(()=>{const T=Ym(w,r);return T===null?v.jsx("p",{className:"text-xs opacity-50 mt-3 text-center",children:w<r?`Result is less than the ${r} lb bar`:"Cannot be made with standard plates"}):v.jsxs("div",{className:"mt-3",children:[v.jsx(Vm,{plates:T,barWeight:r}),T.length>0&&v.jsx("p",{className:"text-xs opacity-70 font-mono mt-2 text-center",children:Km(T)}),T.length===0&&v.jsx("p",{className:"text-xs opacity-50 mt-2 text-center",children:"Empty bar  no plates needed"})]})})()]})]})]})]})}function Ib({onClick:s}){return v.jsx("button",{onClick:s,className:"fixed bottom-4 right-4 z-40 text-xs font-mono px-3 py-2 border rounded-full bg-card-bg transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-magenta)"},children:"Plates"})}const Qb=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],Zb={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"},Wm=["var(--color-magenta)","var(--color-cyan)","var(--color-neon-green)","var(--color-yellow)","var(--color-orange)"];function Fb(s){const a=new Date(s),r=a.getDay(),l=a.getDate()-r+(r===0?-6:1);return a.setDate(l),a.setHours(0,0,0,0),a}function e_(s){const a=new Date(s+"T00:00:00"),r=new Date(a);r.setDate(r.getDate()+6);const l={month:"short",day:"numeric"};return`${a.toLocaleDateString("en-US",l)}  ${r.toLocaleDateString("en-US",l)}`}function t_(s){const a=new Date(s+"T00:00:00"),r=new Date(a.getFullYear(),0,1);return Math.floor((a-r)/(10080*60*1e3))}function n_(s){const a=new Date;a.setHours(0,0,0,0);const r=new Date(s+"T00:00:00"),l=Math.round((a-r)/(1440*60*1e3));return l>=0&&l<7?l:-1}function a_({onNavigate:s}){const{getUserData:a,setUserData:r,getSchedule:l,publisherWeekData:c,setActiveWeekStart:d}=Zu(),h=l(),[m,g]=V.useState(0),[p,b]=V.useState(null),[x,w]=V.useState(null),[A,k]=V.useState(null),T=V.useMemo(()=>{const le=Fb(new Date);return le.setDate(le.getDate()+m*7),le.toISOString().slice(0,10)},[m]),L=`week:${T}`,H=t_(T),$=n_(T),[G,J]=V.useState(()=>a(L)||{});V.useEffect(()=>{d(T)},[T,d]);const ne=V.useMemo(()=>a("531"),[a]);V.useEffect(()=>{J(a(L)||{}),b(null),w(null)},[L,a]);function re(le){const he=Ku({category:le});return he.length===0?null:he[H%he.length]}function I(le){if(!(ne!=null&&ne.startDate)||!(ne!=null&&ne.dayAssignments))return{type:"531"};const he=Object.entries(ne.dayAssignments).filter(([,D])=>D===le).map(([D])=>D);if(he.length===0)return{type:"531"};const ee=gg(ne.startDate,T,ne.useDeload),Ce=Yb(ee,ne.useDeload),Pe=ne.useDeload?4:3,B=he.map(D=>ys.find(P=>P.key===D)).filter(Boolean).map(D=>{var P;return{...D,weight:(P=ne.weights)==null?void 0:P[D.key]}});return{type:"531",configured:!0,weekIndex:ee,weekLabel:Vr[ee],cycleLength:Pe,sets:Ce,lifts:B,mode:ne.mode,useRounding:ne.useRounding,useBBB:ne.useBBB}}function be(le){const he=h.days[le];if(he==="rest")return{type:"rest"};if(he==="531")return I(le);if(G[le]){const Ce=Gm(G[le]);if(Ce)return{type:"workout",workout:Ce,category:he}}if(c[le]){const Ce=Gm(c[le]);if(Ce)return{type:"workout",workout:Ce,category:he}}const ee=re(he);return ee?{type:"workout",workout:ee,category:he}:{type:"rest"}}function Oe(le,he){const ee={...G,[le]:he};J(ee),r(L,ee),w(null)}function lt(le){const he={...G};delete he[le],J(he),r(L,he)}return v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("button",{onClick:()=>g(le=>le-1),className:"px-3 py-1 text-sm border border-border rounded-md hover:border-white transition-colors",children:""}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-sm font-mono",children:e_(T)}),m!==0&&v.jsx("button",{onClick:()=>g(0),className:"text-xs text-magenta mt-1",children:"This week"})]}),v.jsx("button",{onClick:()=>g(le=>le+1),className:"px-3 py-1 text-sm border border-border rounded-md hover:border-white transition-colors",children:""})]}),v.jsx("div",{className:"flex flex-col gap-3",children:Qb.map((le,he)=>{const ee=be(le),Ce=p===le,Pe=x===le,B=he===$,D=ee.type==="531"&&ee.configured;return v.jsxs("div",{className:`border bg-card-bg transition-colors ${B?"border-magenta":"border-border"}`,children:[v.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${ee.type==="workout"||D?"cursor-pointer":""}`,onClick:()=>{(ee.type==="workout"||D)&&(b(Ce?null:le),w(null))},children:[v.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[v.jsx("span",{className:`text-xs uppercase tracking-wider w-8 shrink-0 ${B?"text-magenta font-bold":"opacity-50"}`,children:Zb[le]}),ee.type==="workout"&&v.jsxs("div",{className:"min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm font-semibold",children:ee.workout.name}),v.jsx("span",{className:"text-[9px] uppercase tracking-wider font-bold px-1.5 py-0.5 rounded shrink-0",style:{color:Ir[ee.category],border:`1px solid ${Ir[ee.category]}`},children:tl[ee.category]||ee.category})]}),v.jsx("p",{className:"text-xs opacity-50 truncate",children:ee.workout.excerpt||ee.workout.title})]}),ee.type==="531"&&D&&v.jsxs("div",{className:"min-w-0",children:[v.jsx("span",{className:"text-sm font-semibold",children:ee.lifts.map((P,Y)=>v.jsxs("span",{children:[Y>0&&v.jsx("span",{className:"opacity-30",children:"  "}),v.jsx("span",{style:{color:Wu[P.color]},children:P.key.toUpperCase()})]},P.key))}),v.jsxs("p",{className:"text-xs opacity-50 truncate",children:["Wk ",ee.weekIndex+1,"/",ee.cycleLength,"  ",ee.weekLabel]})]}),ee.type==="531"&&!D&&v.jsx("button",{onClick:P=>{P.stopPropagation(),s==null||s("531")},className:"text-sm text-cyan hover:underline",children:"5/3/1 Strength"}),ee.type==="rest"&&v.jsx("span",{className:"text-sm opacity-30",children:"Rest"})]}),ee.type==="workout"&&v.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-2",children:[v.jsx("button",{onClick:P=>{P.stopPropagation(),w(Pe?null:le),b(null)},className:"text-xs text-magenta hover:underline",children:"Swap"}),v.jsx("span",{className:"text-xs opacity-30",children:Ce?"":""})]}),D&&v.jsx("div",{className:"flex items-center gap-3 shrink-0 ml-2",children:v.jsx("span",{className:"text-xs opacity-30",children:Ce?"":""})})]}),Pe&&v.jsxs("div",{className:"px-4 pb-3 border-t border-border",children:[v.jsx("p",{className:"text-xs opacity-50 uppercase tracking-wider mt-3 mb-2",children:"Choose a workout"}),v.jsxs("div",{className:"flex flex-col gap-1",children:[Ku({category:ee.category}).map(P=>{var Y;return v.jsxs("button",{onClick:()=>Oe(le,P.id),className:`text-left text-xs px-2 py-2 hover:bg-black transition-colors ${((Y=ee.workout)==null?void 0:Y.id)===P.id?"text-magenta":""}`,children:[v.jsx("span",{className:"font-semibold",children:P.name}),v.jsx("span",{className:"opacity-50 ml-2",children:P.title})]},P.id)}),G[le]&&v.jsx("button",{onClick:()=>lt(le),className:"text-left text-xs px-2 py-2 text-orange hover:bg-black transition-colors mt-1 border-t border-border pt-2",children:"Reset to auto"})]})]}),Ce&&D&&v.jsx("div",{className:"px-4 pb-4 border-t border-border",children:v.jsxs("div",{className:"mt-3 flex flex-col gap-3",children:[ee.lifts.map(P=>{const Y=Wu[P.color],F=parseFloat(P.weight)>0;return v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("p",{className:"text-xs uppercase tracking-wider font-bold",style:{color:Y},children:P.key.toUpperCase()}),v.jsxs("ul",{className:"list-none pl-4",style:{borderLeft:`2px solid ${Y}`},children:[ee.sets.map((S,M)=>{const K=F?Xu(P.weight,S.p,ee.mode,ee.useRounding):null;return v.jsxs("li",{className:"mb-1 text-xs flex justify-between max-w-[250px]",children:[v.jsxs("span",{children:[S.r," reps @ ",S.p,"%"]}),K&&v.jsx("span",{className:"font-bold text-sm underline cursor-pointer",onClick:W=>{W.stopPropagation(),k(Number(K))},children:K})]},M)}),ee.useBBB&&v.jsxs("li",{className:"mb-1 text-xs flex justify-between max-w-[250px] opacity-60",children:[v.jsx("span",{children:"5x10 @ 50%"}),F&&(()=>{const S=Xu(P.weight,50,ee.mode,ee.useRounding);return v.jsx("span",{className:"font-bold text-sm underline cursor-pointer",onClick:M=>{M.stopPropagation(),k(Number(S))},children:S})})()]})]})]},P.key)}),v.jsx("button",{onClick:P=>{P.stopPropagation(),s==null||s("531")},className:"text-xs text-cyan hover:underline text-left mt-1",children:"Edit in 5/3/1 "})]})}),Ce&&ee.type==="workout"&&v.jsx("div",{className:"px-4 pb-4 border-t border-border",children:v.jsxs("div",{className:"mt-3 flex flex-col gap-3",children:[Object.entries(ee.workout.sections).map(([P,Y],F)=>{const S=Wm[F%Wm.length];return v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("p",{className:"text-xs uppercase tracking-wider opacity-50",children:Y.type}),Y.title&&v.jsx("h4",{className:"text-sm font-bold",style:{color:S},children:Y.title}),v.jsx("ul",{className:"list-none pl-4",style:{borderLeft:`2px solid ${S}`},children:Y.description.map((M,K)=>v.jsx("li",{className:"mb-1 text-xs",children:M},K))}),Y.alternatives&&v.jsx("ul",{className:"list-none pl-4 opacity-50",style:{borderLeft:`2px solid ${S}`},children:Y.alternatives.map((M,K)=>v.jsx("li",{className:"mb-1 text-xs",children:M},K))})]},P)}),ee.workout.scaling&&v.jsx("div",{className:"text-xs opacity-50 border-t border-border pt-2 mt-1",children:Object.entries(ee.workout.scaling).map(([P,Y])=>v.jsxs("p",{children:[v.jsxs("span",{className:"uppercase",children:[P,":"]})," ",Y]},P))})]})})]},le)})}),A!==null&&v.jsx(Fu,{weight:A,onClose:()=>k(null)})]})}const i_={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"};function s_(s){const a=new Date(s),r=a.getDay(),l=a.getDate()-r+(r===0?-6:1);return a.setDate(l),a.setHours(0,0,0,0),a}function r_(){const{getUserData:s,setUserData:a,removeUserData:r,getSchedule:l}=Zu(),c=l(),d=Object.entries(c.days).filter(([,Y])=>Y==="531").map(([Y])=>Y),[h,m]=V.useState("form"),[g,p]=V.useState("tm"),[b,x]=V.useState({squat:"",bench:"",deadlift:"",press:""}),[w,A]=V.useState(!0),[k,T]=V.useState(!1),[L,H]=V.useState(""),[$,G]=V.useState(!1),[J,ne]=V.useState({}),[re,I]=V.useState(null),be=V.useRef(null);V.useEffect(()=>{const Y=s("531");Y&&(p(Y.mode||"tm"),x(Y.weights||{squat:"",bench:"",deadlift:"",press:""}),A(Y.useRounding!==!1),T(Y.useBBB===!0),H(Y.startDate||""),G(Y.useDeload===!0),ne(Y.dayAssignments||{}),Object.values(Y.weights||{}).some(F=>F)&&m("results"))},[s]);function Oe(Y,F,S,M,K,W,oe){a("531",{weights:Y,mode:F,useRounding:S,useBBB:M,startDate:K,useDeload:W,dayAssignments:oe})}function lt(){Oe(b,g,w,k,L,$,J),m("results")}function le(){m("form")}function he(){r("531"),x({squat:"",bench:"",deadlift:"",press:""}),p("tm"),A(!0),T(!1),H(""),G(!1),ne({}),m("form")}function ee(){be.current&&navigator.clipboard.writeText(be.current.innerText)}function Ce(Y,F){return Xu(Y,F,g,w)}const Pe=Object.values(b).some(Y=>parseFloat(Y)>0),B=V.useMemo(()=>{if(!L)return null;const F=s_(new Date).toISOString().slice(0,10);return gg(L,F,$)},[L,$]),D=V.useMemo(()=>{const Y=Vu.map((F,S)=>({sets:F,label:Vr[S],num:S+1}));return $&&Y.push({sets:mg,label:Vr[3],num:4}),Y},[$]);if(h==="form")return v.jsxs("div",{className:"max-w-[600px] mx-auto",children:[v.jsx("h2",{className:"text-xl mb-6",children:"5/3/1 Calculator"}),v.jsxs("div",{className:"flex flex-col gap-6 md:grid md:grid-cols-2 md:gap-4",children:[v.jsxs("label",{className:"grid grid-cols-[2fr_3fr] gap-1 items-center",children:[v.jsx("span",{children:"Input Type"}),v.jsxs("select",{value:g,onChange:Y=>p(Y.target.value),className:"w-full p-2 border border-border rounded-md bg-input-bg font-mono",children:[v.jsx("option",{value:"tm",children:"Training Max (90% of 1RM)"}),v.jsx("option",{value:"1rm",children:"One-Rep Max"})]})]}),ys.map(Y=>v.jsxs("label",{className:"grid grid-cols-[2fr_3fr] gap-1 items-center",children:[v.jsx("span",{children:Y.label}),v.jsx("input",{type:"number",min:"0",step:"1",placeholder:"lbs",value:b[Y.key],onChange:F=>x(S=>({...S,[Y.key]:F.target.value})),className:"w-full p-2 border border-border rounded-md bg-input-bg font-mono"})]},Y.key)),v.jsxs("label",{className:"flex items-center md:col-span-2",children:[v.jsx("input",{type:"checkbox",checked:w,onChange:Y=>A(Y.target.checked),className:"thrive-checkbox"}),"Round weights to nearest 5 lbs"]}),v.jsxs("label",{className:"flex items-center md:col-span-2",children:[v.jsx("input",{type:"checkbox",checked:k,onChange:Y=>T(Y.target.checked),className:"thrive-checkbox"}),"Include Boring But Big (5x10 @ 50%)"]}),v.jsx("div",{className:"md:col-span-2 border-t border-border pt-4 mt-2",children:v.jsx("p",{className:"text-xs uppercase tracking-wider opacity-50 mb-4",children:"Cycle Configuration"})}),v.jsxs("label",{className:"grid grid-cols-[2fr_3fr] gap-1 items-center md:col-span-2",children:[v.jsx("span",{children:"Cycle Start Date"}),v.jsx("input",{type:"date",value:L,onChange:Y=>H(Y.target.value),className:"w-full p-2 border border-border rounded-md bg-input-bg font-mono"})]}),v.jsxs("label",{className:"flex items-center md:col-span-2",children:[v.jsx("input",{type:"checkbox",checked:$,onChange:Y=>G(Y.target.checked),className:"thrive-checkbox"}),"Include Deload Week (4th week @ 40/50/60%)"]}),d.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"md:col-span-2 border-t border-border pt-4 mt-2",children:v.jsx("p",{className:"text-xs uppercase tracking-wider opacity-50 mb-4",children:"Assign Lifts to Days"})}),ys.map(Y=>v.jsxs("label",{className:"grid grid-cols-[2fr_3fr] gap-1 items-center",children:[v.jsx("span",{children:Y.label}),v.jsxs("select",{value:J[Y.key]||"",onChange:F=>ne(S=>({...S,[Y.key]:F.target.value})),className:"w-full p-2 border border-border rounded-md bg-input-bg font-mono",children:[v.jsx("option",{value:"",children:"Not assigned"}),d.map(F=>v.jsx("option",{value:F,children:i_[F]},F))]})]},`assign-${Y.key}`))]})]}),v.jsx("div",{className:"flex flex-col gap-2 mt-6 sm:flex-row",children:v.jsx("button",{onClick:lt,disabled:!Pe,className:"w-full border uppercase tracking-wider font-mono py-2 px-4 cursor-pointer transition-colors disabled:opacity-30",style:{color:"color-mix(in srgb, var(--color-magenta) 40%, white)",borderColor:"color-mix(in srgb, var(--color-magenta) 40%, white)",background:"black"},children:"Calculate"})}),v.jsx("small",{className:"block mt-4 opacity-50",children:"This calculator runs entirely in your browser. Inputs are saved locally."})]});const P=$?4:3;return v.jsxs("div",{className:"max-w-[600px] mx-auto",children:[v.jsx("h2",{className:"text-xl mb-4",children:"5/3/1 Calculator"}),v.jsxs("div",{className:"flex flex-col gap-2 mb-6 sm:flex-row",children:[v.jsx("button",{onClick:le,className:"border uppercase tracking-wider font-mono py-2 px-4 cursor-pointer bg-black",style:{color:"color-mix(in srgb, var(--color-neon-green) 40%, white)",borderColor:"color-mix(in srgb, var(--color-neon-green) 40%, white)"},children:"Edit Inputs"}),v.jsx("button",{onClick:he,className:"border uppercase tracking-wider font-mono py-2 px-4 cursor-pointer bg-black",style:{color:"color-mix(in srgb, var(--color-orange) 40%, white)",borderColor:"color-mix(in srgb, var(--color-orange) 40%, white)"},children:"Clear Saved"}),v.jsx("button",{onClick:ee,className:"border uppercase tracking-wider font-mono py-2 px-4 cursor-pointer bg-black",style:{color:"color-mix(in srgb, var(--color-cyan) 40%, white)",borderColor:"color-mix(in srgb, var(--color-cyan) 40%, white)"},children:"Copy Table"})]}),v.jsxs("div",{ref:be,children:[v.jsx("h3",{className:"text-sm opacity-50 mb-2",children:g==="1rm"?"1RM Input":"Training Max Input"}),B!==null&&v.jsxs("p",{className:"text-sm mb-4",style:{color:"var(--color-magenta)"},children:["Current Week: ",B+1," of ",P,"  ",Vr[B]]}),D.map(({sets:Y,label:F,num:S})=>{const M=B!==null&&B===S-1;return v.jsx(l_,{weekNum:S,weekLabel:F,sets:Y,weights:b,useBBB:k,calcWeight:Ce,isCurrent:M,onWeightTap:I},S)})]}),re!==null&&v.jsx(Fu,{weight:re,onClose:()=>I(null)})]})}function l_({weekNum:s,weekLabel:a,sets:r,weights:l,useBBB:c,calcWeight:d,isCurrent:h,onWeightTap:m}){return ys.filter(p=>parseFloat(l[p.key])>0).length?v.jsxs("table",{className:"w-full border-collapse mt-3 text-sm",style:h?{borderLeft:"3px solid var(--color-magenta)",paddingLeft:"8px"}:void 0,children:[v.jsxs("thead",{children:[v.jsx("tr",{children:v.jsxs("th",{colSpan:3,className:"text-left text-2xl py-2",children:["Week ",s,a&&v.jsx("span",{className:"text-sm opacity-50 ml-2 font-normal",children:a})]})}),v.jsxs("tr",{className:"opacity-50",children:[v.jsx("th",{className:"text-left py-1 px-1",children:"Lift"}),v.jsx("th",{className:"text-left py-1 px-1",children:"Set"}),v.jsx("th",{className:"text-left py-1 px-1",children:"Weight"})]})]}),v.jsx("tbody",{children:ys.map(p=>{if(!(parseFloat(l[p.key])||0))return null;const x=Wu[p.color],w=r.map((A,k)=>{const T=d(l[p.key],A.p),L=20+k*20;return v.jsxs("tr",{style:{color:`color-mix(in srgb, ${x} ${L}%, white)`,borderBottom:!c&&k===r.length-1?`2px solid color-mix(in srgb, ${x} 20%, black)`:"1px solid #222"},children:[v.jsx("td",{className:"py-1 px-1",style:{color:k===0?x:void 0},children:k===0?p.key.toUpperCase():""}),v.jsxs("td",{className:"py-1 px-1",children:[A.r," reps @ ",A.p,"%"]}),v.jsx("td",{className:"py-1 px-1 font-bold text-base underline cursor-pointer",onClick:()=>m==null?void 0:m(Number(T)),children:T})]},`${p.key}-${k}`)});if(c){const A=d(l[p.key],50);w.push(v.jsxs("tr",{style:{color:"white",borderBottom:`2px solid color-mix(in srgb, ${x} 20%, black)`},children:[v.jsx("td",{className:"py-1 px-1"}),v.jsx("td",{className:"py-1 px-1",children:"5x10 @ 50%"}),v.jsx("td",{className:"py-1 px-1 font-bold text-base underline cursor-pointer",onClick:()=>m==null?void 0:m(Number(A)),children:A})]},`${p.key}-bbb`))}return w})})]}):null}const o_=["var(--color-magenta)","var(--color-cyan)","var(--color-neon-green)","var(--color-yellow)","var(--color-orange)"];function u_({workout:s}){const a=Object.entries(s.sections);function r(){const l=`${window.location.origin}${window.location.pathname}?tab=library&workout=${s.id}`;navigator.clipboard.writeText(l)}return v.jsxs("div",{className:"bg-card-bg p-4 flex flex-col gap-4 border border-black hover:border-white hover:bg-black transition-all",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-xs opacity-50 uppercase tracking-wider",children:["#",s.workout_number||s.id]}),v.jsx("span",{className:"text-[9px] uppercase tracking-wider font-bold px-1.5 py-0.5 rounded",style:{color:Ir[s.category],border:`1px solid ${Ir[s.category]}`},children:tl[s.category]||s.category})]}),v.jsx("h3",{className:"text-base font-semibold",children:s.name}),s.excerpt&&v.jsx("p",{className:"text-xs opacity-60 mt-1 italic",children:s.excerpt}),v.jsx("p",{className:"text-xs opacity-40 mt-1",children:s.title})]}),a.map(([l,c],d)=>{const h=o_[d%5];return v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("p",{className:"text-xs uppercase tracking-wider opacity-50",children:c.type}),c.title&&v.jsx("h4",{className:"text-sm font-bold",style:{color:h},children:c.title}),v.jsx("ul",{className:"list-none pl-4",style:{borderLeft:`2px solid ${h}`},children:c.description.map((m,g)=>v.jsx("li",{className:"mb-1 text-xs",children:m},g))}),c.alternatives&&v.jsx("ul",{className:"list-none pl-4 opacity-50",style:{borderLeft:`2px solid ${h}`},children:c.alternatives.map((m,g)=>v.jsx("li",{className:"mb-1 text-xs",children:m},g))})]},l)}),v.jsx("button",{onClick:r,className:"mt-auto py-2 px-4 bg-black border border-white text-white uppercase tracking-wider font-mono text-xs cursor-pointer hover:bg-magenta transition-colors",children:"Share"})]})}function c_(){const[s,a]=V.useState(""),[r,l]=V.useState(""),[c,d]=V.useState(""),[h,m]=V.useState(""),[g,p]=V.useState(null);V.useEffect(()=>{const A=new URLSearchParams(window.location.search).get("workout");A&&(p(A),setTimeout(()=>{const k=document.getElementById(`workout-${A}`);k&&k.scrollIntoView({behavior:"smooth",block:"start"})},100))},[]);const b=Ku({category:s,format:r,track:c,search:h}),x="bg-input-bg border border-border rounded-md px-2 py-2 font-mono text-xs";return v.jsxs("div",{children:[v.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[v.jsxs("select",{value:s,onChange:w=>a(w.target.value),className:x,children:[v.jsx("option",{value:"",children:"All Categories"}),Hb.map(w=>v.jsx("option",{value:w,children:tl[w]||w},w))]}),v.jsxs("select",{value:r,onChange:w=>l(w.target.value),className:x,children:[v.jsx("option",{value:"",children:"All Formats"}),Gb.map(w=>v.jsx("option",{value:w,children:w.replace(/_/g," ")},w))]}),v.jsxs("select",{value:c,onChange:w=>d(w.target.value),className:x,children:[v.jsx("option",{value:"",children:"All Tracks"}),$b.map(w=>v.jsx("option",{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)},w))]}),v.jsx("input",{type:"text",placeholder:"Search...",value:h,onChange:w=>m(w.target.value),className:"bg-input-bg border border-border rounded-md px-2 py-2 font-mono text-xs flex-1 min-w-[120px]"})]}),v.jsxs("p",{className:"text-xs opacity-50 mb-4",children:[b.length," workout",b.length!==1?"s":""]}),v.jsx("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(280px,1fr))] gap-4 group/grid",children:b.map(w=>v.jsx("div",{id:`workout-${w.id}`,className:`transition-opacity group-hover/grid:opacity-50 hover:!opacity-100
              ${g===w.id?"ring-2 ring-magenta":""}`,children:v.jsx(u_,{workout:w})},w.id))}),b.length===0&&v.jsx("p",{className:"text-center opacity-50 mt-8",children:"No workouts match your filters."})]})}const Xm=[{name:"SkiErg",open:{solo:"1000m",partner:"500m"},pro:{solo:"1000m",partner:"1000m"}},{name:"Sled Push",open:{solo:"50m  Men: 152kg  Women: 102kg",partner:"25m  Men: 152kg  Women: 102kg"},pro:{solo:"50m  Men: 202kg  Women: 152kg",partner:"25m  Men: 202kg  Women: 152kg"}},{name:"Sled Pull",open:{solo:"50m  Men: 103kg  Women: 78kg",partner:"25m  Men: 103kg  Women: 78kg"},pro:{solo:"50m  Men: 153kg  Women: 103kg",partner:"25m  Men: 153kg  Women: 103kg"}},{name:"Burpee Broad Jumps",open:{solo:"80m",partner:"40m"},pro:{solo:"80m",partner:"40m"}},{name:"Row",open:{solo:"1000m",partner:"500m"},pro:{solo:"1000m",partner:"500m"}},{name:"Farmers Carry",open:{solo:"200m  Men: 224kg  Women: 216kg",partner:"100m  Men: 224kg  Women: 216kg"},pro:{solo:"200m  Men: 232kg  Women: 224kg",partner:"100m  Men: 232kg  Women: 224kg"}},{name:"Sandbag Lunges",open:{solo:"100m  Men: 20kg  Women: 10kg",partner:"50m  Men: 20kg  Women: 10kg"},pro:{solo:"100m  Men: 30kg  Women: 20kg",partner:"50m  Men: 30kg  Women: 20kg"}},{name:"Wall Balls",open:{solo:"100 reps  Men: 14lb / 10ft  Women: 9lb / 9ft",partner:"50 reps  Men: 14lb / 10ft  Women: 9lb / 9ft"},pro:{solo:"100 reps  Men: 20lb / 10ft  Women: 14lb / 9ft",partner:"50 reps  Men: 20lb / 10ft  Women: 14lb / 9ft"}}];function d_(){const[s,a]=V.useState("open"),[r,l]=V.useState(!0),[c,d]=V.useState(!1),[h,m]=V.useState(null),[g,p]=V.useState(!0);function b(){p(!1),setTimeout(()=>{const x=Math.floor(Math.random()*Xm.length),w=Xm[x],A=r?"partner":"solo",k=w[s][A],T=c&&Math.random()<.25;m({name:w.name,details:k,weightVest:T}),p(!0)},200)}return v.jsxs("div",{className:"max-w-[760px] mx-auto text-center",children:[v.jsx("h2",{className:"text-xl mb-6",children:"HYROX Roulette"}),v.jsxs("div",{className:"text-left mb-8 text-sm",children:[v.jsx("p",{className:"mb-2",children:"Run as a timed AMRAP, or complete all 8 (randomized) stations. You pick."}),v.jsxs("ul",{className:"list-none max-w-[14em]",children:[v.jsx("li",{children:v.jsx("span",{className:"text-cyan opacity-80",children:"  Run"})}),v.jsx("li",{children:'  Click "HIT ME"'}),v.jsx("li",{children:"  Complete the station"}),v.jsxs("li",{children:["  ",v.jsx("span",{className:"text-magenta opacity-80",children:"REPEAT"})]})]}),v.jsx("p",{className:"text-xs mt-2 opacity-60",children:"If you've already done the station, hit the button again. Or not."}),v.jsx("p",{className:"text-xs text-cyan opacity-80 mt-1",children:"Run 1000m to simulate a full HYROX. Use 500m to increase station density within the same time window."})]}),v.jsxs("div",{className:"flex flex-col gap-4 mb-8 md:grid md:grid-cols-2 md:gap-4 text-left",children:[v.jsxs("label",{className:"flex items-center gap-4",children:[v.jsx("span",{className:"text-xs uppercase tracking-wider opacity-60",children:"Division"}),v.jsxs("select",{value:s,onChange:x=>a(x.target.value),className:"w-full p-2 border border-border rounded-md bg-input-bg font-mono",children:[v.jsx("option",{value:"open",children:"Open"}),v.jsx("option",{value:"pro",children:"Pro"})]})]}),v.jsxs("label",{className:"flex items-center md:col-span-2",children:[v.jsx("input",{type:"checkbox",checked:r,onChange:x=>l(x.target.checked),className:"thrive-checkbox"}),"Partner Format (half volume)"]}),v.jsxs("label",{className:"flex items-center md:col-span-2",children:[v.jsx("input",{type:"checkbox",checked:c,onChange:x=>d(x.target.checked),className:"thrive-checkbox"}),"Animal Style"]})]}),v.jsxs("div",{className:"border-2 border-magenta p-10 flex flex-col items-center",children:[v.jsx("h3",{className:"text-4xl font-bold leading-tight transition-all duration-250",style:{opacity:g?1:0,transform:g?"translateY(0)":"translateY(8px)"},children:h?h.name:"Ready?"}),v.jsx("p",{className:"text-lg opacity-85 mt-2 min-h-[1.6rem] transition-all duration-250",style:{opacity:g?.85:0,transform:g?"translateY(0)":"translateY(8px)"},children:h==null?void 0:h.details}),(h==null?void 0:h.weightVest)&&v.jsx("span",{className:"block mt-4 px-4 py-2 bg-magenta text-white text-lg",children:"ANIMAL STYLE"}),v.jsx("button",{onClick:b,className:"mt-8 py-2 px-8 bg-black border border-white text-white uppercase tracking-wider font-mono cursor-pointer hover:bg-magenta transition-colors",children:"Hit Me"})]})]})}function h_(){const s=navigator.userAgent;return/iP(hone|od|ad)/.test(s)&&/WebKit/.test(s)&&!/(CriOS|FxiOS|OPiOS|mercury)/.test(s)}function f_(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function m_(){const[s,a]=V.useState(!1),[r,l]=V.useState(!1),c=V.useRef(null);V.useEffect(()=>{if(f_()||localStorage.getItem("thrive:install-dismissed"))return;if(h_()){l(!0),a(!0);return}function m(g){g.preventDefault(),c.current=g,a(!0)}return window.addEventListener("beforeinstallprompt",m),()=>window.removeEventListener("beforeinstallprompt",m)},[]);function d(){localStorage.setItem("thrive:install-dismissed","1"),a(!1),c.current=null}async function h(){const m=c.current;if(!m)return;m.prompt();const{outcome:g}=await m.userChoice;g==="accepted"&&a(!1),c.current=null}return s?v.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-card-bg border-t border-border p-4 flex items-center justify-between z-50",children:[r?v.jsxs("p",{className:"text-xs",children:["Install Thrive: tap ",v.jsx("strong",{children:"Share"}),"  ",v.jsx("strong",{children:"Add to Home Screen"})]}):v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("p",{className:"text-xs",children:"Install Thrive for quick access"}),v.jsx("button",{onClick:h,className:"text-xs font-bold text-magenta hover:underline shrink-0",children:"Install"})]}),v.jsx("button",{onClick:d,className:"ml-4 text-xs opacity-60 hover:opacity-100 shrink-0",children:"Dismiss"})]}):null}const g_=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],p_={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"},y_={rest:"Rest",531:"5/3/1",...tl};function v_({onClose:s}){const{currentUser:a,getSchedule:r,getUserData:l,setUserData:c,removeUserData:d,publishedSchedules:h,refreshPublishedSchedules:m}=Zu(),{userId:g,username:p}=bs(),b=a.scheduleId||a.track||"hybrid",[x,w]=V.useState(()=>{const D=l("schedule");return(D==null?void 0:D.id)||b}),[A,k]=V.useState(()=>({...r().days})),[T,L]=V.useState(()=>!!l("schedule")),[H,$]=V.useState(!1),[G,J]=V.useState(""),[ne,re]=V.useState(""),[I,be]=V.useState(!1),[Oe,lt]=V.useState(null),le=h.find(D=>D.username===p);function he(D){w(D);const P=oi[D];if(P)k({...P.days});else{const Y=h.find(F=>F.id===D);Y&&k({...Y.days})}}function ee(D,P){k(Y=>({...Y,[D]:P}))}function Ce(){const D=oi[x],P=h.find(F=>F.id===x),Y=D&&JSON.stringify(A)!==JSON.stringify(D.days);P?(c("schedule",{id:P.id,name:P.name,description:P.description,days:A,publisherUserId:P.publisherUserId}),L(!0)):Y||!D?(c("schedule",{id:"custom",name:"Custom",description:"Custom schedule",days:A}),L(!0)):(d("schedule"),L(!1)),s==null||s()}function Pe(){const D=oi[x];D&&k({...D.days}),d("schedule"),L(!1)}const B="w-full p-2 border border-border rounded-md bg-input-bg font-mono text-xs";return v.jsxs("div",{className:"max-w-[400px] mx-auto",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-xl",children:"Schedule"}),v.jsx("button",{onClick:s,className:"text-xs opacity-50 hover:opacity-100 transition-opacity",children:"Close"})]}),v.jsxs("label",{className:"block mb-4",children:[v.jsx("span",{className:"text-xs uppercase tracking-wider opacity-50 block mb-2",children:"Preset"}),v.jsxs("select",{value:x,onChange:D=>he(D.target.value),className:B,children:[Object.values(oi).map(D=>v.jsxs("option",{value:D.id,children:[D.name,"  ",D.description]},D.id)),h.length>0&&v.jsx("optgroup",{label:"Community",children:h.map(D=>v.jsxs("option",{value:D.id,children:[D.name," by @",D.username]},D.id))})]})]}),v.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[v.jsx("span",{className:"text-xs uppercase tracking-wider opacity-50",children:"Days"}),g_.map(D=>v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-xs uppercase tracking-wider w-8 shrink-0 opacity-50",children:p_[D]}),v.jsx("select",{value:A[D],onChange:P=>ee(D,P.target.value),className:B,children:Ob.map(P=>v.jsx("option",{value:P,children:y_[P]},P))})]},D))]}),v.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[v.jsx("button",{onClick:Ce,className:"flex-1 border uppercase tracking-wider font-mono py-2 px-4 cursor-pointer transition-colors bg-black",style:{color:"color-mix(in srgb, var(--color-magenta) 40%, white)",borderColor:"color-mix(in srgb, var(--color-magenta) 40%, white)"},children:"Save"}),T&&v.jsx("button",{onClick:Pe,className:"flex-1 border uppercase tracking-wider font-mono py-2 px-4 cursor-pointer transition-colors bg-black",style:{color:"color-mix(in srgb, var(--color-orange) 40%, white)",borderColor:"color-mix(in srgb, var(--color-orange) 40%, white)"},children:"Reset to Preset"})]}),v.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[v.jsx("span",{className:"text-xs uppercase tracking-wider opacity-50 block mb-3",children:"Publish"}),le?v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsxs("p",{className:"text-xs opacity-70",children:['Your schedule "',le.name,'" is published.']}),v.jsx("button",{onClick:async()=>{try{await Ub(g),await m()}catch(D){lt(D.message)}},className:"border uppercase tracking-wider font-mono py-2 px-4 cursor-pointer transition-colors bg-black text-xs",style:{color:"color-mix(in srgb, var(--color-orange) 40%, white)",borderColor:"color-mix(in srgb, var(--color-orange) 40%, white)"},children:"Unpublish"})]}):H?v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("input",{type:"text",placeholder:"Schedule name",value:G,onChange:D=>J(D.target.value),className:"w-full p-2 border border-border rounded-md bg-input-bg font-mono text-xs"}),v.jsx("input",{type:"text",placeholder:"Description (optional)",value:ne,onChange:D=>re(D.target.value),className:"w-full p-2 border border-border rounded-md bg-input-bg font-mono text-xs"}),Oe&&v.jsx("p",{className:"text-orange text-xs",children:Oe}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{disabled:I||!G.trim(),onClick:async()=>{lt(null),be(!0);try{await Bb(g,p,{name:G.trim(),description:ne.trim(),days:A}),await m(),$(!1),J(""),re("")}catch(D){lt(D.message)}finally{be(!1)}},className:"flex-1 border uppercase tracking-wider font-mono py-2 px-4 cursor-pointer transition-colors bg-black text-xs disabled:opacity-50",style:{color:"color-mix(in srgb, var(--color-cyan) 40%, white)",borderColor:"color-mix(in srgb, var(--color-cyan) 40%, white)"},children:I?"...":"Publish"}),v.jsx("button",{onClick:()=>{$(!1),lt(null)},className:"border uppercase tracking-wider font-mono py-2 px-4 cursor-pointer transition-colors bg-black text-xs opacity-50 hover:opacity-100",style:{borderColor:"var(--color-border)"},children:"Cancel"})]})]}):v.jsx("button",{onClick:()=>$(!0),className:"border uppercase tracking-wider font-mono py-2 px-4 cursor-pointer transition-colors bg-black text-xs",style:{color:"color-mix(in srgb, var(--color-cyan) 40%, white)",borderColor:"color-mix(in srgb, var(--color-cyan) 40%, white)"},children:"Publish My Schedule"})]})]})}const b_=[{id:"week",label:"My Week"},{id:"531",label:"5/3/1"},{id:"library",label:"Library"},{id:"roulette",label:"Roulette"}];function __(){const{username:s,signOut:a}=bs(),[r,l]=V.useState(()=>new URLSearchParams(window.location.search).get("tab")||"week"),[c,d]=V.useState(!1),[h,m]=V.useState(!1);return V.useEffect(()=>{const g=new URLSearchParams(window.location.search);g.set("tab",r);const p=`${window.location.pathname}?${g.toString()}`;window.history.replaceState(null,"",p)},[r]),v.jsxs("div",{className:"min-h-screen flex flex-col",children:[v.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b border-border",children:[v.jsx("h1",{className:"text-lg tracking-widest uppercase font-medium text-magenta",children:"Thrive"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-xs text-white/40",children:s}),v.jsx("button",{onClick:a,className:"opacity-50 hover:opacity-100 transition-opacity",title:"Log out",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),v.jsx("polyline",{points:"16 17 21 12 16 7"}),v.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})}),v.jsx("button",{onClick:()=>d(g=>!g),className:`text-sm transition-colors ${c?"text-magenta":"opacity-50 hover:opacity-100"}`,title:"Schedule",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"3"}),v.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]})})]})]}),c&&v.jsx("div",{className:"border-b border-border p-4 bg-card-bg",children:v.jsx(v_,{onClose:()=>d(!1)})}),v.jsx("nav",{className:"flex border-b border-border",children:b_.map(g=>v.jsx("button",{onClick:()=>l(g.id),className:`flex-1 py-3 text-center text-xs uppercase tracking-wider transition-colors
              ${r===g.id?"text-magenta border-b-2 border-magenta":"text-white/50 hover:text-white/80"}`,children:g.label},g.id))}),v.jsxs("main",{className:"flex-1 p-4",children:[r==="week"&&v.jsx(a_,{onNavigate:l}),r==="531"&&v.jsx(r_,{}),r==="library"&&v.jsx(c_,{}),r==="roulette"&&v.jsx(d_,{})]}),v.jsx(m_,{}),v.jsx(Ib,{onClick:()=>m(!0)}),h&&v.jsx(Fu,{weight:null,onClose:()=>m(!1)})]})}function S_(){const{signUp:s,signIn:a}=bs(),[r,l]=V.useState("login"),[c,d]=V.useState(""),[h,m]=V.useState(""),[g,p]=V.useState(null),[b,x]=V.useState(!1);async function w(A){A.preventDefault(),p(null);const k=c.trim();if(k.length<2){p("Username must be at least 2 characters");return}if(h.length<4){p("PIN must be at least 4 digits");return}x(!0);try{if(r==="signup"){const T=await s(k,h);await Db(T.user.id,k.toLowerCase())}else{const T=await a(k,h);await Nb(T.user.id,k.toLowerCase())}}catch(T){p(T.message)}finally{x(!1)}}return v.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4",children:[v.jsx("h1",{className:"text-2xl tracking-widest uppercase font-medium text-magenta mb-8",children:"Thrive"}),v.jsxs("div",{className:"flex w-full max-w-xs mb-6 border border-border rounded overflow-hidden",children:[v.jsx("button",{type:"button",onClick:()=>{l("login"),p(null)},className:`flex-1 py-2 text-xs uppercase tracking-wider transition-colors ${r==="login"?"bg-magenta text-black font-medium":"bg-input-bg text-white/50"}`,children:"Log In"}),v.jsx("button",{type:"button",onClick:()=>{l("signup"),p(null)},className:`flex-1 py-2 text-xs uppercase tracking-wider transition-colors ${r==="signup"?"bg-magenta text-black font-medium":"bg-input-bg text-white/50"}`,children:"Sign Up"})]}),v.jsxs("form",{onSubmit:w,className:"w-full max-w-xs space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs uppercase tracking-wider text-white/50 mb-1",children:"Username"}),v.jsx("input",{type:"text",value:c,onChange:A=>d(A.target.value),autoComplete:"username",className:"w-full bg-input-bg border border-border rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-magenta"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs uppercase tracking-wider text-white/50 mb-1",children:"PIN"}),v.jsx("input",{type:"password",inputMode:"numeric",value:h,onChange:A=>m(A.target.value),autoComplete:r==="signup"?"new-password":"current-password",className:"w-full bg-input-bg border border-border rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-magenta"})]}),g&&v.jsx("p",{className:"text-orange text-xs",children:g}),v.jsx("button",{type:"submit",disabled:b,className:"w-full bg-magenta text-black font-medium py-2 rounded uppercase tracking-wider text-sm hover:opacity-90 disabled:opacity-50 transition-opacity",children:b?"...":r==="signup"?"Create Account":"Log In"})]})]})}function w_(){const{loading:s,isAuthenticated:a}=bs();return s?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("span",{className:"text-magenta animate-pulse tracking-widest uppercase",children:"Loading..."})}):a?v.jsx(Mb,{children:v.jsx(__,{})}):v.jsx(S_,{})}function x_(){return v.jsx(kb,{children:v.jsx(w_,{})})}Iy.createRoot(document.getElementById("root")).render(v.jsx($y.StrictMode,{children:v.jsx(x_,{})}));
